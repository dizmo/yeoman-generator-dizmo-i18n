{"version":3,"sources":["i18n-1.0.3.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","i18next","i18next_xhr","i18next_detector","init","detect","viewer","getAttribute","cacheUserLanguage","type","i18next_opts","backend","loadPath","fallbackLng","callback","use","i18next-xhr-backend","2","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","_classCallCheck","instance","Constructor","TypeError","ajax","url","options","data","cache","_typeof","y","encodeURIComponent","m","slice","Date","x","XMLHttpRequest","ActiveXObject","open","crossDomain","setRequestHeader","onreadystatechange","readyState","responseText","send","window","console","log","getDefaults","addPath","allowMultiLoading","parse","JSON","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","Symbol","iterator","constructor","_utils","utils","Backend","services","arguments","undefined","this","defaults","languages","namespaces","interpolator","interpolate","lng","join","ns","loadUrl","language","namespace","_this","xhr","status","ret","err","fallbackValue","_this2","payload","forEach","./utils","3","each","source","prop","extend","arr","4","./dist/commonjs/index.js","5","_interopRequireDefault","default","_defaults","keys","getOwnPropertyNames","getOwnPropertyDescriptor","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","remove","what","found","indexOf","splice","_extends","assign","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","next","done","push","Array","isArray","_logger","_logger2","_EventEmitter2","_EventEmitter3","Connector","_EventEmitter","store","logger","state","queue","queueLoad","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","name","hasResourceBundle","loaded","errors","_this3","_name$split","split","_name$split2","emit","addResourceBundle","q","pushPath","filter","read","fcName","tried","wait","_this4","setTimeout","load","_this5","warn","languageUtils","toResolveHierarchy","readMulti","_name$split3","_name$split4","bundle","getPath","_err","error","readOne","_this6","_name$split5","_name$split6","reload","_this7","_err2","_this8","_name$split7","_name$split8","saveMissing","addResource","./EventEmitter","./logger","6","enabled","save","7","EventEmitter","observers","on","events","listener","event","off","index","_len","args","_key","observer","apply","_ref","concat","8","Interpolator","reset","interpolation","escapeValue","iOpts","prefix","regexEscape","prefixEscaped","suffix","suffixEscaped","unescapePrefix","unescapeSuffix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","regexpStr","regexp","RegExp","regexpUnescapeStr","regexpUnescape","nestingRegexpStr","nestingRegexp","str","regexSafe","val","replace","match","exec","_value","trim","lastIndex","makeString","escape","nest","fc","handleHasOptions","p","shift","optionsString","clonedOptions","stringify","applyPostProcessor","9","capitalize","string","charAt","toUpperCase","LanguageUtil","whitelist","getLanguagePartFromCode","specialCases","formatLanguageCode","toLowerCase","lowerCaseLng","map","part","cleanCode","isWhitelisted","exactMatch","nonExplicitWhitelist","fallbackCode","codes","addCode","10","createRules","rules","sets","set","lngs","numbers","nr","plurals","_rulesPluralsTypes","Number","11","12","13","14","15","16","17","18","19","20","21","PluralResolver","addRule","getRule","needsPlural","rule","getSuffix","count","_ret","v","idx","noAbs","Math","abs","returnSuffix","prepend","toString","compatibilityJSON","ResourceStore","defaultNS","addNamespaces","removeNamespaces","getResource","keySeparator","path","silent","setPath","addResources","resources","deep","overwrite","pack","deepExtend","removeResourceBundle","getResourceBundle","compatibilityAPI","toJSON","_postProcessor","_postProcessor2","_v","compat","Translator","copy","changeLanguage","exists","convertTOptions","resolve","extractFromKey","nsSeparator","parts","translate","overloadTranslationOptionHandler","String","_extractFromKey","res","resType","noObject","joinArrays","returnObjects","returnedObjectHandler","extendTranslation","usedDefault","usedKey","isValidLookup","defaultValue","saveMissingTo","missingKeyHandler","backendConnector","appendNamespaceToMissingKey","parseMissingKeyHandler","defaultVariables","postProcess","postProcessorNames","handle","k","_extractFromKey2","fallbackNS","needsPluralHandling","needsContextHandling","context","finalKey","finalKeys","pluralSuffix","pluralResolver","contextSeparator","possibleKey","pop","returnNull","returnEmptyString","resourceStore","./compatibility/v1","./postProcessor","convertInterpolation","interpolationPrefix","interpolationSuffix","escapeInterpolation","reusePrefix","reuseSuffix","convertAPIOptions","resStore","defaultNs","fallbackToDefaultNS","sendMissing","sendMissingTo","fallbackOnNull","fallbackOnEmpty","returnObjectTrees","objectTreeKeyHandler","parseMissingKey","nsseparator","keyseparator","shortcutFunction","values","sprintf","lngWhitelist","preload","resGetPath","resPostPath","dynamicLoad","expirationTime","useLocalStorage","convertJSONOptions","appendBackwardsAPI","i18n","deprecate","cb","loadLanguages","setLng","fixLng","getFixedT","addPostProcessor","process","../logger","get","debug","initImmediate","pluralSeparator","transformOptions","_ResourceStore","_ResourceStore2","_Translator","_Translator2","_LanguageUtils","_LanguageUtils2","_PluralResolver","_PluralResolver2","_Interpolator","_Interpolator2","_BackendConnector","_BackendConnector2","_CacheConnector","_CacheConnector2","_defaults2","I18n","modules","isInitialized","createClassOnDemand","ClassOrObject","isClone","lu","cacheConnector","_len2","_key2","languageDetector","detection","translator","_len3","_key3","storeApi","loadResources","append","reloadResources","_len4","_key4","fixedT","setDefaultNamespace","loadNamespaces","preloaded","newLngs","dir","rtlLngs","createInstance","cloneInstance","clone","membersToCopy","./BackendConnector","./CacheConnector","./Interpolator","./LanguageUtils","./PluralResolver","./ResourceStore","./Translator","./defaults","_i18next","_i18next2","./i18next","consoleLogger","_output","Logger","concreteLogger","subs","setDebug","bool","sub","forward","lvl","debugOnly","moduleName","processors","processor","object","getLastOfPath","Empty","cleanKey","stack","newValue","_getLastOfPath","_getLastOfPath2","_getLastOfPath3","_entityMap","&","<",">","\"","'","/","dup"],"mappings":"CAAA,QAAUA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAkD,IAAI,GAA1CL,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKa,GAAG,SAAST,EAAQU,EAAOJ,GACvd,GAAIK,GAAUX,EAAQ,WAClBY,EAAcZ,EAAQ,uBAEtBa,GACAC,KAAM,aAENC,OAAQ,WACJ,MAAOC,QAAOC,aAAa,sBAE/BC,kBAAmB,aAEnBC,KAAM,oBAGNC,GACAC,SACIC,SAAU,sCAEdC,YAAa,KAGjBb,GAAOJ,QAAU,SAAUkB,GACvBb,EACKc,IAAIb,GACJa,IAAIZ,GACJC,KAAKM,EAAcI,MAGzBb,QAAU,GAAGe,sBAAsB,IAAIC,GAAG,SAAS3B,EAAQU,EAAOJ,GACrE,YAcA,SAASsB,GAAwBC,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIE,KAAa,IAAW,MAAPF,EAAe,IAAK,GAAIG,KAAOH,GAAWI,OAAOC,UAAUC,eAAe5B,KAAKsB,EAAKG,KAAMD,EAAOC,GAAOH,EAAIG,GAAgC,OAAtBD,GAAAA,WAAiBF,EAAYE,EAElQ,QAASK,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAGhH,QAASC,GAAKC,EAAKC,EAASlB,EAAUmB,EAAMC,GAE1C,GAAID,GAAwE,YAA/C,mBAATA,GAAuB,YAAcE,EAAQF,IAAqB,CACpF,GAAIG,GAAI,GACJtD,EAAIuD,kBACR,KAAK,GAAIC,KAAKL,GACZG,GAAK,IAAMtD,EAAEwD,GAAK,IAAMxD,EAAEmD,EAAKK,GAEjCL,GAAOG,EAAEG,MAAM,IAAOL,EAA8B,GAAtB,OAAS,GAAIM,OAG7C,IACE,GAAIC,GAAI,IAAKC,gBAAkBC,eAAe,qBAC9CF,GAAEG,KAAKX,EAAO,OAAS,MAAOF,EAAK,GAC9BC,EAAQa,aACXJ,EAAEK,iBAAiB,mBAAoB,kBAErCb,GACFQ,EAAEK,iBAAiB,eAAgB,qCAErCL,EAAEM,mBAAqB,WACrBN,EAAEO,WAAa,GAAKlC,GAAYA,EAAS2B,EAAEQ,aAAcR,IAE3DA,EAAES,KAAKjB,GACP,MAAOnD,GACPqE,OAAOC,SAAWA,QAAQC,IAAIvE,IAmClC,QAASwE,KACP,OACE1C,SAAU,+BACV2C,QAAS,6BACTC,mBAAmB,EACnBC,MAAOC,KAAKD,MACZZ,aAAa,EACbf,KAAMA,GApFVP,OAAOoC,eAAe/D,EAAS,cAC7BgE,OAAO,GAGT,IAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIzE,GAAI,EAAGA,EAAIyE,EAAMlE,OAAQP,IAAK,CAAE,GAAI0E,GAAaD,EAAMzE,EAAI0E,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAM7C,OAAOoC,eAAeI,EAAQE,EAAW3C,IAAK2C,IAAiB,MAAO,UAAUrC,EAAayC,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBlC,EAAYJ,UAAW6C,GAAiBC,GAAaR,EAAiBlC,EAAa0C,GAAqB1C,MAE5hBO,EAA4B,kBAAXoC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUrD,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXoD,SAAyBpD,EAAIsD,cAAgBF,OAAS,eAAkBpD,IAEtOuD,EAASpF,EAAQ,WAEjBqF,EAAQzD,EAAwBwD,GA8EhCE,EAAU,WACZ,QAASA,GAAQC,GACf,GAAI7C,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,EAEnFpD,GAAgBsD,KAAMJ,GAEtBI,KAAK5E,KAAKyE,EAAU7C,GAEpBgD,KAAKvE,KAAO,UAkEd,MA/DAoD,GAAae,IACXtD,IAAK,OACLsC,MAAO,SAAciB,GACnB,GAAI7C,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,EAEnFE,MAAKH,SAAWA,EAChBG,KAAKhD,QAAU2C,EAAMM,SAASjD,EAASgD,KAAKhD,YAAesB,QAG7DhC,IAAK,YACLsC,MAAO,SAAmBsB,EAAWC,EAAYrE,GAC/C,GAAIiB,GAAMiD,KAAKH,SAASO,aAAaC,YAAYL,KAAKhD,QAAQpB,UAAY0E,IAAKJ,EAAUK,KAAK,KAAMC,GAAIL,EAAWI,KAAK,MAExHP,MAAKS,QAAQ1D,EAAKjB,MAGpBQ,IAAK,OACLsC,MAAO,SAAc8B,EAAUC,EAAW7E,GACxC,GAAIiB,GAAMiD,KAAKH,SAASO,aAAaC,YAAYL,KAAKhD,QAAQpB,UAAY0E,IAAKI,EAAUF,GAAIG,GAE7FX,MAAKS,QAAQ1D,EAAKjB,MAGpBQ,IAAK,UACLsC,MAAO,SAAiB7B,EAAKjB,GAC3B,GAAI8E,GAAQZ,IAEZA,MAAKhD,QAAQF,KAAKC,EAAKiD,KAAKhD,QAAS,SAAUC,EAAM4D,GACnD,GAAIA,EAAIC,QAAU,KAAOD,EAAIC,OAAS,IAAK,MAAOhF,GAAS,kBAAoBiB,GAAK,EACpF,IAAI8D,EAAIC,QAAU,KAAOD,EAAIC,OAAS,IAAK,MAAOhF,GAAS,kBAAoBiB,GAAK,EAEpF,IAAIgE,GAAM,OACNC,EAAM,MACV,KACED,EAAMH,EAAM5D,QAAQyB,MAAMxB,EAAMF,GAChC,MAAOjD,GACPkH,EAAM,kBAAoBjE,EAAM,WAElC,MAAIiE,GAAYlF,EAASkF,GAAK,OAC9BlF,GAAS,KAAMiF,QAInBzE,IAAK,SACLsC,MAAO,SAAgBsB,EAAWS,EAAWrE,EAAK2E,GAChD,GAAIC,GAASlB,IAEY,iBAAdE,KAAwBA,GAAaA,GAEhD,IAAIiB,KACJA,GAAQ7E,GAAO2E,GAAiB,GAEhCf,EAAUkB,QAAQ,SAAUd,GAC1B,GAAIvD,GAAMmE,EAAOrB,SAASO,aAAaC,YAAYa,EAAOlE,QAAQuB,SAAW+B,IAAKA,EAAKE,GAAIG,GAE3FO,GAAOlE,QAAQF,KAAKC,EAAKmE,EAAOlE,QAAS,SAAUC,EAAM4D,KAGtDM,SAKFvB,IAGTA,GAAQnE,KAAO,UAEfb,EAAAA,WAAkBgF,IACfyB,UAAU,IAAIC,GAAG,SAAShH,EAAQU,EAAOJ,GAC5C,YAWA,SAASqF,GAAS9D,GAQhB,MAPAoF,GAAK1G,KAAK0C,EAAM1C,KAAKiF,UAAW,GAAI,SAAU0B,GAC5C,GAAIA,EACF,IAAK,GAAIC,KAAQD,GACGzB,SAAd5D,EAAIsF,KAAqBtF,EAAIsF,GAAQD,EAAOC,MAI/CtF,EAGT,QAASuF,GAAOvF,GAQd,MAPAoF,GAAK1G,KAAK0C,EAAM1C,KAAKiF,UAAW,GAAI,SAAU0B,GAC5C,GAAIA,EACF,IAAK,GAAIC,KAAQD,GACfrF,EAAIsF,GAAQD,EAAOC,KAIlBtF,EA5BTI,OAAOoC,eAAe/D,EAAS,cAC7BgE,OAAO,IAEThE,EAAQqF,SAAWA,EACnBrF,EAAQ8G,OAASA,CACjB,IAAIC,MACAJ,EAAOI,EAAIP,QACX7D,EAAQoE,EAAIpE,WAuBVqE,GAAG,SAAStH,EAAQU,EAAOJ,GACjCI,EAAOJ,QAAUN,EAAQ,4BAARA,aAEduH,2BAA2B,IAAIC,GAAG,SAASxH,EAAQU,EAAOJ,GAC7D,YAsBA,SAASmH,GAAuB5F,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQ6F,UAAS7F,GAEvF,QAASD,GAAwBC,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIE,KAAa,IAAW,MAAPF,EAAe,IAAK,GAAIG,KAAOH,GAAWI,OAAOC,UAAUC,eAAe5B,KAAKsB,EAAKG,KAAMD,EAAOC,GAAOH,EAAIG,GAAgC,OAAtBD,GAAAA,WAAiBF,EAAYE,EAElQ,QAAS4F,GAAU9F,EAAK8D,GAA6D,IAAK,GAAlDiC,GAAO3F,OAAO4F,oBAAoBlC,GAAoB1F,EAAI,EAAGA,EAAI2H,EAAKpH,OAAQP,IAAK,CAAE,GAAI+B,GAAM4F,EAAK3H,GAAQqE,EAAQrC,OAAO6F,yBAAyBnC,EAAU3D,EAAUsC,IAASA,EAAMO,cAA6BY,SAAb5D,EAAIG,IAAsBC,OAAOoC,eAAexC,EAAKG,EAAKsC,GAAY,MAAOzC,GAE5T,QAASO,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASwF,GAA2BC,EAAMzH,GAAQ,IAAKyH,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1H,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByH,EAAPzH,EAElO,QAAS2H,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAI7F,WAAU,iEAAoE6F,GAAeD,GAASjG,UAAYD,OAAOoG,OAAOD,GAAcA,EAAWlG,WAAaiD,aAAeb,MAAO6D,EAAUvD,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAeuD,IAAYnG,OAAOqG,eAAiBrG,OAAOqG,eAAeH,EAAUC,GAAcT,EAAUQ,EAAUC,IAEhe,QAASG,GAAOlB,EAAKmB,GAGnB,IAFA,GAAIC,GAAQpB,EAAIqB,QAAQF,GAEjBC,QACLpB,EAAIsB,OAAOF,EAAO,GAClBA,EAAQpB,EAAIqB,QAAQF,GArCxBvG,OAAOoC,eAAe/D,EAAS,cAC7BgE,OAAO,GAGT,IAAIsE,GAAW3G,OAAO4G,QAAU,SAAUpE,GAAU,IAAK,GAAIxE,GAAI,EAAGA,EAAIuF,UAAUhF,OAAQP,IAAK,CAAE,GAAIiH,GAAS1B,UAAUvF,EAAI,KAAK,GAAI+B,KAAOkF,GAAcjF,OAAOC,UAAUC,eAAe5B,KAAK2G,EAAQlF,KAAQyC,EAAOzC,GAAOkF,EAAOlF,IAAY,MAAOyC,IAEnPqE,EAAiB,WAAc,QAASC,GAAc1B,EAAKpH,GAAK,GAAI+I,MAAeC,GAAK,EAAUC,GAAK,EAAWC,EAAK1D,MAAW,KAAM,IAAK,GAAiC2D,GAA7BC,EAAKhC,EAAIpC,OAAOC,cAAmB+D,GAAMG,EAAKC,EAAGC,QAAQC,QAAoBP,EAAKQ,KAAKJ,EAAG9E,QAAYrE,GAAK+I,EAAKxI,SAAWP,GAA3DgJ,GAAK,IAAoE,MAAOvC,GAAOwC,GAAK,EAAMC,EAAKzC,EAAO,QAAU,KAAWuC,GAAMI,EAAG,WAAWA,EAAG,YAAe,QAAU,GAAIH,EAAI,KAAMC,IAAQ,MAAOH,GAAQ,MAAO,UAAU3B,EAAKpH,GAAK,GAAIwJ,MAAMC,QAAQrC,GAAQ,MAAOA,EAAY,IAAIpC,OAAOC,WAAYjD,QAAOoF,GAAQ,MAAO0B,GAAc1B,EAAKpH,EAAa,MAAM,IAAIsC,WAAU,4DAEllB6C,EAASpF,EAAQ,WAEjBqF,EAAQzD,EAAwBwD,GAEhCuE,EAAU3J,EAAQ,YAElB4J,EAAWnC,EAAuBkC,GAElCE,EAAiB7J,EAAQ,kBAEzB8J,EAAiBrC,EAAuBoC,GAuBxCE,EAAY,SAAUC,GAGxB,QAASD,GAAU1I,EAAS4I,EAAO1E,GACjC,GAAI7C,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,EAEnFpD,GAAgBsD,KAAMqE,EAEtB,IAAIzD,GAAQyB,EAA2BrC,KAAMsE,EAAczJ,KAAKmF,MAYhE,OAVAY,GAAMjF,QAAUA,EAChBiF,EAAM2D,MAAQA,EACd3D,EAAMf,SAAWA,EACjBe,EAAM5D,QAAUA,EAChB4D,EAAM4D,OAASN,EAAAA,WAAiBvB,OAAO,oBAEvC/B,EAAM6D,SACN7D,EAAM8D,SAEN9D,EAAMjF,SAAWiF,EAAMjF,QAAQP,MAAQwF,EAAMjF,QAAQP,KAAKyE,EAAU7C,EAAQrB,QAASqB,GAC9E4D,EAsQT,MAzRA4B,GAAU6B,EAAWC,GAsBrBD,EAAU7H,UAAUmI,UAAY,SAAmBzE,EAAWC,EAAYrE,GACxE,GAAIoF,GAASlB,KAGT4E,KACAC,KACAC,KACAC,IAqCJ,OAnCA7E,GAAUkB,QAAQ,SAAUd,GAC1B,GAAI0E,IAAmB,CAEvB7E,GAAWiB,QAAQ,SAAUZ,GAC3B,GAAIyE,GAAO3E,EAAM,IAAME,CAEnBU,GAAOqD,MAAMW,kBAAkB5E,EAAKE,GACtCU,EAAOuD,MAAMQ,GAAQ,EACZ/D,EAAOuD,MAAMQ,GAAQ,IAEI,IAAvB/D,EAAOuD,MAAMQ,GAChBJ,EAAQ7B,QAAQiC,GAAQ,GAAGJ,EAAQf,KAAKmB,IAE5C/D,EAAOuD,MAAMQ,GAAQ,EAErBD,GAAmB,EAEfH,EAAQ7B,QAAQiC,GAAQ,GAAGJ,EAAQf,KAAKmB,GACxCL,EAAO5B,QAAQiC,GAAQ,GAAGL,EAAOd,KAAKmB,GACtCF,EAAiB/B,QAAQxC,GAAM,GAAGuE,EAAiBjB,KAAKtD,OAI/DwE,GAAkBF,EAAgBhB,KAAKxD,MAG1CsE,EAAO9J,QAAU+J,EAAQ/J,SAC3BkF,KAAK0E,MAAMZ,MACTe,QAASA,EACTM,UACAC,UACAtJ,SAAUA,KAKZ8I,OAAQA,EACRC,QAASA,EACTC,gBAAiBA,EACjBC,iBAAkBA,IAItBV,EAAU7H,UAAU2I,OAAS,SAAgBF,EAAMjE,EAAK/D,GACtD,GAAIoI,GAASrF,KAETsF,EAAcL,EAAKM,MAAM,KAEzBC,EAAepC,EAAekC,EAAa,GAE3ChF,EAAMkF,EAAa,GACnBhF,EAAKgF,EAAa,EAGlBxE,IAAKhB,KAAKyF,KAAK,gBAAiBnF,EAAKE,EAAIQ,GAEzC/D,GACF+C,KAAKuE,MAAMmB,kBAAkBpF,EAAKE,EAAIvD,GAIxC+C,KAAKyE,MAAMQ,GAAQjE,KAAW,EAE9BhB,KAAK0E,MAAMtD,QAAQ,SAAUuE,GAC3BhG,EAAMiG,SAASD,EAAER,QAAS7E,GAAME,GAChCqC,EAAO8C,EAAEd,QAASI,GAEdjE,GAAK2E,EAAEP,OAAOtB,KAAK9C,GAEE,IAArB2E,EAAEd,QAAQ/J,QAAiB6K,EAAE9B,OAC/B8B,EAAEP,OAAOtK,OAAS6K,EAAE7J,SAAS6J,EAAEP,QAAUO,EAAE7J,WAC3CuJ,EAAOI,KAAK,SAAUE,EAAER,QACxBQ,EAAE9B,MAAO,KAKb7D,KAAK0E,MAAQ1E,KAAK0E,MAAMmB,OAAO,SAAUF,GACvC,OAAQA,EAAE9B,QAIdQ,EAAU7H,UAAUsJ,KAAO,SAAcxF,EAAKE,EAAIuF,EAAQC,EAAOC,EAAMnK,GACrE,GAAIoK,GAASlG,IAKb,OAHKgG,KAAOA,EAAQ,GACfC,IAAMA,EAAO,KAEb3F,EAAIxF,WAETkF,MAAKrE,QAAQoK,GAAQzF,EAAKE,EAAI,SAAUQ,EAAK/D,GAC3C,MAAI+D,IAAO/D,GAA0B+I,EAAQ,MAC3CG,YAAW,WACTD,EAAOJ,KAAKjL,KAAKqL,EAAQ5F,EAAKE,EAAIuF,IAAUC,EAAc,EAAPC,EAAUnK,IAC5DmK,OAGLnK,GAASkF,EAAK/D,KATQnB,EAAS,UAanCuI,EAAU7H,UAAU4J,KAAO,SAAclG,EAAWC,EAAYrE,GAC9D,GAAIuK,GAASrG,IAEb,KAAKA,KAAKrE,QAER,MADAqE,MAAKwE,OAAO8B,KAAK,kEACVxK,GAAYA,GAErB,IAAIkB,GAAUkG,KAAalD,KAAKrE,QAAQqB,QAASgD,KAAKhD,QAAQrB,QAErC,iBAAduE,KAAwBA,EAAYF,KAAKH,SAAS0G,cAAcC,mBAAmBtG,IACpE,gBAAfC,KAAyBA,GAAcA,GAElD,IAAIyE,GAAS5E,KAAK2E,UAAUzE,EAAWC,EAAYrE,EACnD,OAAK8I,GAAOA,OAAO9J,YAMfkC,EAAQwB,mBAAqBwB,KAAKrE,QAAQ8K,UAC5CzG,KAAK8F,KAAKlB,EAAOE,gBAAiBF,EAAOG,iBAAkB,YAAa,KAAM,KAAM,SAAU/D,EAAK/D,GAC7F+D,GAAKqF,EAAO7B,OAAO8B,KAAK,sBAAwB1B,EAAOG,iBAAiBxE,KAAK,MAAQ,kBAAoBqE,EAAOE,gBAAgBvE,KAAK,MAAQ,2BAA4BS,IACxKA,GAAO/D,GAAMoJ,EAAO7B,OAAOnG,IAAI,qBAAuBuG,EAAOG,iBAAiBxE,KAAK,MAAQ,kBAAoBqE,EAAOE,gBAAgBvE,KAAK,MAAQ,oBAAqBtD,GAE7K2H,EAAOA,OAAOxD,QAAQ,SAAU6D,GAC9B,GAAIyB,GAAezB,EAAKM,MAAM,KAE1BoB,EAAevD,EAAesD,EAAc,GAE5C/L,EAAIgM,EAAa,GACjB3M,EAAI2M,EAAa,GAGjBC,EAASjH,EAAMkH,QAAQ5J,GAAOtC,EAAGX,GACrC,IAAI4M,EACFP,EAAOlB,OAAOF,EAAMjE,EAAK4F,OACpB,CACL,GAAIE,GAAO,qBAAuB9M,EAAI,iBAAmBW,EAAI,0BAC7D0L,GAAOlB,OAAOF,EAAM6B,GACpBT,EAAO7B,OAAOuC,MAAMD,SAQxB,WACE,GAAIE,GAAU,SAAiB/B,GAC7B,GAAIgC,GAASjH,KAETkH,EAAejC,EAAKM,MAAM,KAE1B4B,EAAe/D,EAAe8D,EAAc,GAE5C5G,EAAM6G,EAAa,GACnB3G,EAAK2G,EAAa,EAGtBnH,MAAK8F,KAAKxF,EAAKE,EAAI,OAAQ,KAAM,KAAM,SAAUQ,EAAK/D,GAChD+D,GAAKiG,EAAOzC,OAAO8B,KAAK,qBAAuB9F,EAAK,iBAAmBF,EAAM,UAAWU,IACvFA,GAAO/D,GAAMgK,EAAOzC,OAAOnG,IAAI,oBAAsBmC,EAAK,iBAAmBF,EAAKrD,GAEvFgK,EAAO9B,OAAOF,EAAMjE,EAAK/D,KAM7B2H,GAAOA,OAAOxD,QAAQ,SAAU6D,GAC9B+B,EAAQnM,KAAKwL,EAAQpB,cAxDtBL,EAAOC,QAAQ/J,QAAQgB,MA8DhCuI,EAAU7H,UAAU4K,OAAS,SAAgBlH,EAAWC,GACtD,GAAIkH,GAASrH,IAERA,MAAKrE,SACRqE,KAAKwE,OAAO8B,KAAK,iEAEnB,IAAItJ,GAAUkG,KAAalD,KAAKrE,QAAQqB,QAASgD,KAAKhD,QAAQrB,QAErC,iBAAduE,KAAwBA,EAAYF,KAAKH,SAAS0G,cAAcC,mBAAmBtG,IACpE,gBAAfC,KAAyBA,GAAcA,IAG9CnD,EAAQwB,mBAAqBwB,KAAKrE,QAAQ8K,UAC5CzG,KAAK8F,KAAK5F,EAAWC,EAAY,YAAa,KAAM,KAAM,SAAUa,EAAK/D,GACnE+D,GAAKqG,EAAO7C,OAAO8B,KAAK,wBAA0BnG,EAAWI,KAAK,MAAQ,kBAAoBL,EAAUK,KAAK,MAAQ,2BAA4BS,IAChJA,GAAO/D,GAAMoK,EAAO7C,OAAOnG,IAAI,uBAAyB8B,EAAWI,KAAK,MAAQ,kBAAoBL,EAAUK,KAAK,MAAQ,oBAAqBtD,GAErJiD,EAAUkB,QAAQ,SAAUzG,GAC1BwF,EAAWiB,QAAQ,SAAUpH,GAC3B,GAAI4M,GAASjH,EAAMkH,QAAQ5J,GAAOtC,EAAGX,GACrC,IAAI4M,EACFS,EAAOlC,OAAOxK,EAAI,IAAMX,EAAGgH,EAAK4F,OAC3B,CACL,GAAIU,GAAQ,uBAAyBtN,EAAI,iBAAmBW,EAAI,0BAChE0M,GAAOlC,OAAOxK,EAAI,IAAMX,EAAGsN,GAC3BD,EAAO7C,OAAOuC,MAAMO,WAS1B,WACE,GAAIN,GAAU,SAAiB/B,GAC7B,GAAIsC,GAASvH,KAETwH,EAAevC,EAAKM,MAAM,KAE1BkC,EAAerE,EAAeoE,EAAc,GAE5ClH,EAAMmH,EAAa,GACnBjH,EAAKiH,EAAa,EAGtBzH,MAAK8F,KAAKxF,EAAKE,EAAI,OAAQ,KAAM,KAAM,SAAUQ,EAAK/D,GAChD+D,GAAKuG,EAAO/C,OAAO8B,KAAK,uBAAyB9F,EAAK,iBAAmBF,EAAM,UAAWU,IACzFA,GAAO/D,GAAMsK,EAAO/C,OAAOnG,IAAI,sBAAwBmC,EAAK,iBAAmBF,EAAKrD,GAEzFsK,EAAOpC,OAAOF,EAAMjE,EAAK/D,KAM7BiD,GAAUkB,QAAQ,SAAUzG,GAC1BwF,EAAWiB,QAAQ,SAAUpH,GAC3BgN,EAAQnM,KAAKwM,EAAQ1M,EAAI,IAAMX,WAO3CqK,EAAU7H,UAAUkL,YAAc,SAAqBxH,EAAWS,EAAWrE,EAAK2E,GAC5EjB,KAAKrE,SAAWqE,KAAKrE,QAAQgH,QAAQ3C,KAAKrE,QAAQgH,OAAOzC,EAAWS,EAAWrE,EAAK2E,GAGnFf,GAAcA,EAAU,IAC7BF,KAAKuE,MAAMoD,YAAYzH,EAAU,GAAIS,EAAWrE,EAAK2E,IAGhDoD,GACPD,EAAAA,WAEFxJ,GAAAA,WAAkByJ,IACfuD,iBAAiB,EAAEC,WAAW,GAAGxG,UAAU,KAAKyG,GAAG,SAASxN,EAAQU,EAAOJ,GAC9E,YAoBA,SAASmH,GAAuB5F,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQ6F,UAAS7F,GAEvF,QAASD,GAAwBC,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIE,KAAa,IAAW,MAAPF,EAAe,IAAK,GAAIG,KAAOH,GAAWI,OAAOC,UAAUC,eAAe5B,KAAKsB,EAAKG,KAAMD,EAAOC,GAAOH,EAAIG,GAAgC,OAAtBD,GAAAA,WAAiBF,EAAYE,EAElQ,QAAS4F,GAAU9F,EAAK8D,GAA6D,IAAK,GAAlDiC,GAAO3F,OAAO4F,oBAAoBlC,GAAoB1F,EAAI,EAAGA,EAAI2H,EAAKpH,OAAQP,IAAK,CAAE,GAAI+B,GAAM4F,EAAK3H,GAAQqE,EAAQrC,OAAO6F,yBAAyBnC,EAAU3D,EAAUsC,IAASA,EAAMO,cAA6BY,SAAb5D,EAAIG,IAAsBC,OAAOoC,eAAexC,EAAKG,EAAKsC,GAAY,MAAOzC,GAE5T,QAASO,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASwF,GAA2BC,EAAMzH,GAAQ,IAAKyH,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1H,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByH,EAAPzH,EAElO,QAAS2H,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAI7F,WAAU,iEAAoE6F,GAAeD,GAASjG,UAAYD,OAAOoG,OAAOD,GAAcA,EAAWlG,WAAaiD,aAAeb,MAAO6D,EAAUvD,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAeuD,IAAYnG,OAAOqG,eAAiBrG,OAAOqG,eAAeH,EAAUC,GAAcT,EAAUQ,EAAUC,IA5BhenG,OAAOoC,eAAe/D,EAAS,cAC7BgE,OAAO,GAGT,IAAIsE,GAAW3G,OAAO4G,QAAU,SAAUpE,GAAU,IAAK,GAAIxE,GAAI,EAAGA,EAAIuF,UAAUhF,OAAQP,IAAK,CAAE,GAAIiH,GAAS1B,UAAUvF,EAAI,KAAK,GAAI+B,KAAOkF,GAAcjF,OAAOC,UAAUC,eAAe5B,KAAK2G,EAAQlF,KAAQyC,EAAOzC,GAAOkF,EAAOlF,IAAY,MAAOyC,IAEnPW,EAASpF,EAAQ,WAIjB2J,GAFQ/H,EAAwBwD,GAEtBpF,EAAQ,aAElB4J,EAAWnC,EAAuBkC,GAElCE,EAAiB7J,EAAQ,kBAEzB8J,EAAiBrC,EAAuBoC,GAcxCE,EAAY,SAAUC,GAGxB,QAASD,GAAUnH,EAAOqH,EAAO1E,GAC/B,GAAI7C,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,EAEnFpD,GAAgBsD,KAAMqE,EAEtB,IAAIzD,GAAQyB,EAA2BrC,KAAMsE,EAAczJ,KAAKmF,MAShE,OAPAY,GAAM1D,MAAQA,EACd0D,EAAM2D,MAAQA,EACd3D,EAAMf,SAAWA,EACjBe,EAAM5D,QAAUA,EAChB4D,EAAM4D,OAASN,EAAAA,WAAiBvB,OAAO,kBAEvC/B,EAAM1D,OAAS0D,EAAM1D,MAAM9B,MAAQwF,EAAM1D,MAAM9B,KAAKyE,EAAU7C,EAAQE,MAAOF,GACtE4D,EAmCT,MAnDA4B,GAAU6B,EAAWC,GAmBrBD,EAAU7H,UAAU4J,KAAO,SAAclG,EAAWC,EAAYrE,GAC9D,GAAIoF,GAASlB,IAEb,KAAKA,KAAK9C,MAAO,MAAOpB,IAAYA,GACpC,IAAIkB,GAAUkG,KAAalD,KAAK9C,MAAMF,QAASgD,KAAKhD,QAAQE,MAEnC,iBAAdgD,KAAwBA,EAAYF,KAAKH,SAAS0G,cAAcC,mBAAmBtG,IACpE,gBAAfC,KAAyBA,GAAcA,IAE9CnD,EAAQ+K,QACV/H,KAAK9C,MAAMkJ,KAAKlG,EAAW,SAAUc,EAAK/D,GAExC,GADI+D,GAAKE,EAAOsD,OAAOuC,MAAM,qBAAuB7G,EAAUK,KAAK,MAAQ,qBAAsBS,GAC7F/D,EACF,IAAK,GAAItC,KAAKsC,GACZ,IAAK,GAAIjD,KAAKiD,GAAKtC,GACjB,GAAU,cAANX,EAAJ,CACA,GAAI4M,GAAS3J,EAAKtC,GAAGX,EACjB4M,IAAQ1F,EAAOqD,MAAMmB,kBAAkB/K,EAAGX,EAAG4M,GAInD9K,GAAUA,MAGZA,GAAUA,KAIlBuI,EAAU7H,UAAUwL,KAAO,WACrBhI,KAAK9C,OAAS8C,KAAKhD,QAAQE,OAAS8C,KAAKhD,QAAQE,MAAM6K,SAAS/H,KAAK9C,MAAM8K,KAAKhI,KAAKuE,MAAMtH,OAG1FoH,GACPD,EAAAA,WAEFxJ,GAAAA,WAAkByJ,IACfuD,iBAAiB,EAAEC,WAAW,GAAGxG,UAAU,KAAK4G,GAAG,SAAS3N,EAAQU,EAAOJ,GAC9E,YAMA,SAAS8B,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAJhHN,OAAOoC,eAAe/D,EAAS,cAC9BgE,OAAO,GAKR,IAAIsJ,GAAe,WAClB,QAASA,KACRxL,EAAgBsD,KAAMkI,GAEtBlI,KAAKmI,aAmDN,MAhDAD,GAAa1L,UAAU4L,GAAK,SAAYC,EAAQC,GAC/C,GAAI1H,GAAQZ,IAEZqI,GAAO9C,MAAM,KAAKnE,QAAQ,SAAUmH,GACnC3H,EAAMuH,UAAUI,GAAS3H,EAAMuH,UAAUI,OACzC3H,EAAMuH,UAAUI,GAAOzE,KAAKwE,MAI9BJ,EAAa1L,UAAUgM,IAAM,SAAaD,EAAOD,GAChD,GAAIpH,GAASlB,IAERA,MAAKmI,UAAUI,IAIpBvI,KAAKmI,UAAUI,GAAOnH,QAAQ,WAC7B,GAAKkH,EAEE,CACN,GAAIG,GAAQvH,EAAOiH,UAAUI,GAAOvF,QAAQsF,EACxCG,OACHvH,EAAOiH,UAAUI,GAAOtF,OAAOwF,EAAO,cAJhCvH,GAAOiH,UAAUI,MAU3BL,EAAa1L,UAAUiJ,KAAO,SAAc8C,GAC3C,IAAK,GAAIG,GAAO5I,UAAUhF,OAAQ6N,EAAO5E,MAAM2E,EAAO,EAAIA,EAAO,EAAI,GAAIE,EAAO,EAAGA,EAAOF,EAAME,IAC/FD,EAAKC,EAAO,GAAK9I,UAAU8I,EAGxB5I,MAAKmI,UAAUI,IAClBvI,KAAKmI,UAAUI,GAAOnH,QAAQ,SAAUyH,GACvCA,EAASC,MAAM/I,OAAW4I,KAIxB3I,KAAKmI,UAAU,MAClBnI,KAAKmI,UAAU,KAAK/G,QAAQ,SAAUyH,GACrC,GAAIE,EAEJF,GAASC,MAAMD,GAAWE,GAAQR,IAAQS,OAAOF,MAAMC,EAAMJ,OAKzDT,IAGRtN,GAAAA,WAAkBsN,OACZe,GAAG,SAAS3O,EAAQU,EAAOJ,GACjC,YAcA,SAASmH,GAAuB5F,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQ6F,UAAS7F,GAEvF,QAASD,GAAwBC,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIE,KAAa,IAAW,MAAPF,EAAe,IAAK,GAAIG,KAAOH,GAAWI,OAAOC,UAAUC,eAAe5B,KAAKsB,EAAKG,KAAMD,EAAOC,GAAOH,EAAIG,GAAgC,OAAtBD,GAAAA,WAAiBF,EAAYE,EAElQ,QAASK,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAhBhHN,OAAOoC,eAAe/D,EAAS,cAC7BgE,OAAO,GAGT,IAAIc,GAASpF,EAAQ,WAEjBqF,EAAQzD,EAAwBwD,GAEhCuE,EAAU3J,EAAQ,YAElB4J,EAAWnC,EAAuBkC,GAQlCiF,EAAe,WACjB,QAASA,KACP,GAAIlM,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,EAEnFpD,GAAgBsD,KAAMkJ,GAEtBlJ,KAAKwE,OAASN,EAAAA,WAAiBvB,OAAO,gBAEtC3C,KAAK5E,KAAK4B,GAAS,GAkHrB,MA/GAkM,GAAa1M,UAAUpB,KAAO,WAC5B,GAAI4B,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,GAC/EqJ,EAAQrJ,UAAU,EAElBqJ,KAAOnJ,KAAKhD,QAAUA,GACrBA,EAAQoM,gBAAepM,EAAQoM,eAAkBC,aAAa,GAEnE,IAAIC,GAAQtM,EAAQoM,aAEpBpJ,MAAKqJ,YAAcC,EAAMD,YAEzBrJ,KAAKuJ,OAASD,EAAMC,OAAS5J,EAAM6J,YAAYF,EAAMC,QAAUD,EAAMG,eAAiB,KACtFzJ,KAAK0J,OAASJ,EAAMI,OAAS/J,EAAM6J,YAAYF,EAAMI,QAAUJ,EAAMK,eAAiB,KAEtF3J,KAAK4J,eAAiBN,EAAMO,eAAiB,GAAKP,EAAMM,gBAAkB,IAC1E5J,KAAK6J,eAAiB7J,KAAK4J,eAAiB,GAAKN,EAAMO,gBAAkB,GAEzE7J,KAAK8J,cAAgBR,EAAMQ,cAAgBnK,EAAM6J,YAAYF,EAAMQ,eAAiBR,EAAMS,sBAAwBpK,EAAM6J,YAAY,OACpIxJ,KAAKgK,cAAgBV,EAAMU,cAAgBrK,EAAM6J,YAAYF,EAAMU,eAAiBV,EAAMW,sBAAwBtK,EAAM6J,YAAY,IAGpI,IAAIU,GAAYlK,KAAKuJ,OAAS,QAAUvJ,KAAK0J,MAC7C1J,MAAKmK,OAAS,GAAIC,QAAOF,EAAW,IAEpC,IAAIG,GAAoBrK,KAAKuJ,OAASvJ,KAAK4J,eAAiB,QAAU5J,KAAK6J,eAAiB7J,KAAK0J,MACjG1J,MAAKsK,eAAiB,GAAIF,QAAOC,EAAmB,IAEpD,IAAIE,GAAmBvK,KAAK8J,cAAgB,QAAU9J,KAAKgK,aAC3DhK,MAAKwK,cAAgB,GAAIJ,QAAOG,EAAkB,MAGpDrB,EAAa1M,UAAU2M,MAAQ,WACzBnJ,KAAKhD,SAASgD,KAAK5E,KAAK4E,KAAKhD,UAGnCkM,EAAa1M,UAAU6D,YAAc,SAAqBoK,EAAKxN,GAI7D,QAASyN,GAAUC,GACjB,MAAOA,GAAIC,QAAQ,MAAO,QAI5B,IARA,GAAIC,GAAQ,OACRjM,EAAQ,OAOLiM,EAAQ7K,KAAKsK,eAAeQ,KAAKL,IAAM,CAC5C,GAAIM,GAASpL,EAAMkH,QAAQ5J,EAAM4N,EAAM,GAAGG,OAC1CP,GAAMA,EAAIG,QAAQC,EAAM,GAAIE,GAC5B/K,KAAKsK,eAAeW,UAAY,EAIlC,KAAOJ,EAAQ7K,KAAKmK,OAAOW,KAAKL,IAC9B7L,EAAQe,EAAMkH,QAAQ5J,EAAM4N,EAAM,GAAGG,QAChB,gBAAVpM,KAAoBA,EAAQe,EAAMuL,WAAWtM,IACnDA,IACHoB,KAAKwE,OAAO8B,KAAK,8BAAgCuE,EAAM,GAAK,sBAAwBJ,GACpF7L,EAAQ,IAEVA,EAA2B8L,EAAnB1K,KAAKqJ,YAAwB1J,EAAMwL,OAAOvM,GAAoBA,GACtE6L,EAAMA,EAAIG,QAAQC,EAAM,GAAIjM,GAC5BoB,KAAKmK,OAAOc,UAAY,CAE1B,OAAOR,IAGTvB,EAAa1M,UAAU4O,KAAO,SAAcX,EAAKY,GAS/C,QAASX,GAAUC,GACjB,MAAOA,GAAIC,QAAQ,MAAO,QAI5B,QAASU,GAAiBhP,GACxB,GAAIA,EAAI0G,QAAQ,KAAO,EAAG,MAAO1G,EAEjC,IAAIiP,GAAIjP,EAAIiJ,MAAM,IAClBjJ,GAAMiP,EAAEC,OACR,IAAIC,GAAgBF,EAAEhL,KAAK,IAC3BkL,GAAgBzL,KAAKK,YAAYoL,EAAeC,EAEhD,KACEA,EAAgBhN,KAAKD,MAAMgN,GAC3B,MAAO3R,GACPkG,KAAKwE,OAAOuC,MAAM,oDAAsDzK,EAAKxC,GAG/E,MAAOwC,GA3BT,GAAIU,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,GAE/E+K,EAAQ,OACRjM,EAAQ,OAER8M,EAAgBhN,KAAKD,MAAMC,KAAKiN,UAAU3O,GA0B9C,KAzBA0O,EAAcE,oBAAqB,EAyB5Bf,EAAQ7K,KAAKwK,cAAcM,KAAKL,IACrC7L,EAAQyM,EAAGC,EAAiBzQ,KAAKmF,KAAM6K,EAAM,GAAGG,QAASU,GACpC,gBAAV9M,KAAoBA,EAAQe,EAAMuL,WAAWtM,IACnDA,IACHoB,KAAKwE,OAAO8B,KAAK,8BAAgCuE,EAAM,GAAK,sBAAwBJ,GACpF7L,EAAQ,IAEVA,EAA2B8L,EAAnB1K,KAAKqJ,YAAwB1J,EAAMwL,OAAOvM,GAAoBA,GACtE6L,EAAMA,EAAIG,QAAQC,EAAM,GAAIjM,GAC5BoB,KAAKmK,OAAOc,UAAY,CAE1B,OAAOR,IAGFvB,IAGTtO,GAAAA,WAAkBsO,IACfrB,WAAW,GAAGxG,UAAU,KAAKwK,GAAG,SAASvR,EAAQU,EAAOJ,GAC3D,YAUA,SAASmH,GAAuB5F,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQ6F,UAAS7F,GAEvF,QAASO,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASiP,GAAWC,GAClB,MAAOA,GAAOC,OAAO,GAAGC,cAAgBF,EAAOxO,MAAM,GAbvDhB,OAAOoC,eAAe/D,EAAS,cAC7BgE,OAAO,GAGT,IAAIqF,GAAU3J,EAAQ,YAElB4J,EAAWnC,EAAuBkC,GAUlCiI,EAAe,WACjB,QAASA,GAAalP,GACpBN,EAAgBsD,KAAMkM,GAEtBlM,KAAKhD,QAAUA,EAEfgD,KAAKmM,UAAYnM,KAAKhD,QAAQmP,YAAa,EAC3CnM,KAAKwE,OAASN,EAAAA,WAAiBvB,OAAO,iBAiFxC,MA9EAuJ,GAAa1P,UAAU4P,wBAA0B,SAAiC1R,GAChF,GAAIA,EAAKsI,QAAQ,KAAO,EAAG,MAAOtI,EAElC,IAAI2R,IAAgB,QAAS,QAAS,QAAS,QAAS,QAAS,SAC7Dd,EAAI7Q,EAAK6K,MAAM,IACnB,OAAOvF,MAAKsM,mBAAmBD,EAAarJ,QAAQtI,MAAa6Q,EAAE,GAAGgB,cAAgBhB,EAAE,KAG1FW,EAAa1P,UAAU8P,mBAAqB,SAA4B5R,GAEtE,GAAoB,gBAATA,IAAqBA,EAAKsI,QAAQ,QAAW,CACtD,GAAIqJ,IAAgB,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QAChEd,EAAI7Q,EAAK6K,MAAM,IAsBnB,OApBIvF,MAAKhD,QAAQwP,aACfjB,EAAIA,EAAEkB,IAAI,SAAUC,GAClB,MAAOA,GAAKH,gBAEQ,IAAbhB,EAAEzQ,QACXyQ,EAAE,GAAKA,EAAE,GAAGgB,cACZhB,EAAE,GAAKA,EAAE,GAAGU,cAERI,EAAarJ,QAAQuI,EAAE,GAAGgB,oBAAqBhB,EAAE,GAAKO,EAAWP,EAAE,GAAGgB,iBACpD,IAAbhB,EAAEzQ,SACXyQ,EAAE,GAAKA,EAAE,GAAGgB,cAGQ,IAAhBhB,EAAE,GAAGzQ,SAAcyQ,EAAE,GAAKA,EAAE,GAAGU,eACtB,QAATV,EAAE,IAAgC,IAAhBA,EAAE,GAAGzQ,SAAcyQ,EAAE,GAAKA,EAAE,GAAGU,eAEjDI,EAAarJ,QAAQuI,EAAE,GAAGgB,oBAAqBhB,EAAE,GAAKO,EAAWP,EAAE,GAAGgB,gBACtEF,EAAarJ,QAAQuI,EAAE,GAAGgB,oBAAqBhB,EAAE,GAAKO,EAAWP,EAAE,GAAGgB,iBAGrEhB,EAAEhL,KAAK,KAEd,MAAOP,MAAKhD,QAAQ2P,WAAa3M,KAAKhD,QAAQwP,aAAe9R,EAAK6R,cAAgB7R,GAItFwR,EAAa1P,UAAUoQ,cAAgB,SAAuBlS,EAAMmS,GAIlE,OAH0B,iBAAtB7M,KAAKhD,QAAQoJ,MAA2BpG,KAAKhD,QAAQ8P,uBAAyBD,KAChFnS,EAAOsF,KAAKoM,wBAAwB1R,KAE9BsF,KAAKmM,YAAcnM,KAAKmM,UAAUrR,QAAUkF,KAAKmM,UAAUnJ,QAAQtI,OAG7EwR,EAAa1P,UAAUgK,mBAAqB,SAA4B9L,EAAMqS,GAC5E,GAAInM,GAAQZ,IAEZ+M,GAAeA,GAAgB/M,KAAKhD,QAAQnB,gBAChB,gBAAjBkR,KAA2BA,GAAgBA,GAEtD,IAAIC,MACAC,EAAU,SAAiBvS,GAC7B,GAAImS,KAAa/M,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,KAA2BA,UAAU,EAErFc,GAAMgM,cAAclS,EAAMmS,GAC5BG,EAAMlJ,KAAKpJ,GAEXkG,EAAM4D,OAAO8B,KAAK,4CAA8C5L,GAepE,OAXoB,gBAATA,IAAqBA,EAAKsI,QAAQ,SACjB,iBAAtBhD,KAAKhD,QAAQoJ,MAAyB6G,EAAQjN,KAAKsM,mBAAmB5R,IAAO,GACvD,gBAAtBsF,KAAKhD,QAAQoJ,MAAwB6G,EAAQjN,KAAKoM,wBAAwB1R,KACrD,gBAATA,IAChBuS,EAAQjN,KAAKsM,mBAAmB5R,IAGlCqS,EAAa3L,QAAQ,SAAUiK,GACzB2B,EAAMhK,QAAQqI,GAAM,GAAG4B,EAAQrM,EAAM0L,mBAAmBjB,MAGvD2B,GAGFd,IAKTtR,GAAAA,WAAkBsR,IACfrE,WAAW,KAAKqF,IAAI,SAAS5S,EAAQU,EAAOJ,GAC/C,YAYA,SAASmH,GAAuB5F,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQ6F,UAAS7F,GAEvF,QAASO,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAyEhH,QAASsQ,KACP,GACIC,KASJ,OARAC,GAAKjM,QAAQ,SAAUkM,GACrBA,EAAIC,KAAKnM,QAAQ,SAAUzG,GACzB,MAAOyS,GAAMzS,IACX6S,QAASF,EAAIG,GACbC,QAASC,EAAmBL,EAAIjC,SAI/B+B,EAhGT7Q,OAAOoC,eAAe/D,EAAS,cAC7BgE,OAAO,GAGT,IAAIzB,GAA4B,kBAAXoC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUrD,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXoD,SAAyBpD,EAAIsD,cAAgBF,OAAS,eAAkBpD,IAEtO8H,EAAU3J,EAAQ,YAElB4J,EAAWnC,EAAuBkC,GAQlCoJ,IAAUE,MAAO,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,MAAO,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAOE,IAAK,EAAG,GAAIpC,GAAI,IAAOkC,MAAO,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,QAAS,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,MAAO,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,MAAO,MAAO,KAAM,KAAM,QAAS,KAAM,MAAO,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAOE,IAAK,EAAG,GAAIpC,GAAI,IAAOkC,MAAO,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAOE,IAAK,GAAIpC,GAAI,IAAOkC,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAOE,IAAK,EAAG,EAAG,GAAIpC,GAAI,IAAOkC,MAAO,MAAOE,IAAK,EAAG,EAAG,EAAG,EAAG,GAAI,KAAMpC,GAAI,IAAOkC,MAAO,KAAM,MAAOE,IAAK,EAAG,EAAG,GAAIpC,GAAI,IAAOkC,MAAO,MAAO,MAAOE,IAAK,EAAG,EAAG,GAAIpC,GAAI,IAAOkC,MAAO,MAAOE,IAAK,EAAG,EAAG,EAAG,GAAIpC,GAAI,IAAOkC,MAAO,MAAOE,IAAK,EAAG,GAAIpC,GAAI,IAAOkC,MAAO,MAAOE,IAAK,EAAG,EAAG,EAAG,EAAG,IAAKpC,GAAI,KAAQkC,MAAO,MAAOE,IAAK,EAAG,EAAG,EAAG,IAAKpC,GAAI,KAAQkC,MAAO,MAAOE,IAAK,EAAG,GAAIpC,GAAI,KAAQkC,MAAO,MAAOE,IAAK,EAAG,GAAIpC,GAAI,KAAQkC,MAAO,MAAOE,IAAK,EAAG,EAAG,EAAG,GAAIpC,GAAI,KAAQkC,MAAO,MAAOE,IAAK,EAAG,EAAG,IAAKpC,GAAI,KAAQkC,MAAO,MAAOE,IAAK,EAAG,EAAG,GAAIpC,GAAI,KAAQkC,MAAO,MAAOE,IAAK,EAAG,GAAIpC,GAAI,KAAQkC,MAAO,OAAQE,IAAK,EAAG,EAAG,GAAIpC,GAAI,KAAQkC,MAAO,MAAOE,IAAK,EAAG,EAAG,GAAI,IAAKpC,GAAI,KAAQkC,MAAO,MAAOE,IAAK,EAAG,GAAIpC,GAAI,IAAOkC,MAAO,MAAOE,IAAK,EAAG,EAAG,IAAKpC,GAAI,KAAQkC,MAAO,MAAOE,IAAK,EAAG,EAAG,EAAG,GAAIpC,GAAI,KAEnjDsC,GACF5S,EAAG,SAAWf,GACZ,MAAO4T,QAAO5T,EAAI,IAEpBiC,EAAG,SAAWjC,GACZ,MAAO4T,QAAY,GAAL5T,IAEhBsH,EAAG,SAAWtH,GACZ,MAAO,IAET4H,EAAG,SAAW5H,GACZ,MAAO4T,QAAO5T,EAAI,IAAM,GAAKA,EAAI,KAAO,GAAK,EAAIA,EAAI,IAAM,GAAKA,EAAI,IAAM,IAAMA,EAAI,IAAM,IAAMA,EAAI,KAAO,IAAM,EAAI,IAEvH8H,EAAG,SAAW9H,GACZ,MAAO4T,QAAa,IAAN5T,EAAU,EAAS,GAALA,EAAS,EAAS,GAALA,EAAS,EAAIA,EAAI,KAAO,GAAKA,EAAI,KAAO,GAAK,EAAIA,EAAI,KAAO,GAAK,EAAI,IAEhH8N,EAAG,SAAW9N,GACZ,MAAO4T,QAAY,GAAL5T,EAAS,EAAIA,GAAK,GAAKA,GAAK,EAAI,EAAI,IAEpDiO,EAAG,SAAWjO,GACZ,MAAO4T,QAAY,GAAL5T,EAAS,EAAIA,EAAI,IAAM,GAAKA,EAAI,IAAM,IAAMA,EAAI,IAAM,IAAMA,EAAI,KAAO,IAAM,EAAI,IAEjGiP,EAAG,SAAWjP,GACZ,MAAO4T,QAAY,GAAL5T,EAAS,EAAS,GAALA,EAAS,EAAS,GAALA,GAAe,IAALA,EAAU,EAAI,IAElE6R,EAAG,SAAW7R,GACZ,MAAO4T,QAAO5T,GAAK,IAErBkT,GAAI,SAAWlT,GACb,MAAO4T,QAAY,GAAL5T,EAAS,EAAS,GAALA,EAAS,EAAIA,EAAI,EAAI,EAAIA,EAAI,GAAK,EAAI,IAEnE6T,GAAI,SAAW7T,GACb,MAAO4T,QAAY,GAAL5T,GAAe,IAALA,EAAU,EAAS,GAALA,GAAe,IAALA,EAAU,EAAIA,EAAI,GAAKA,EAAI,GAAK,EAAI,IAEtF8T,GAAI,SAAW9T,GACb,MAAO4T,QAAO5T,EAAI,IAAM,GAAKA,EAAI,KAAO,KAE1C+T,GAAI,SAAW/T,GACb,MAAO4T,QAAa,IAAN5T,IAEhBgU,GAAI,SAAWhU,GACb,MAAO4T,QAAY,GAAL5T,EAAS,EAAS,GAALA,EAAS,EAAS,GAALA,EAAS,EAAI,IAEvDiU,GAAI,SAAWjU,GACb,MAAO4T,QAAO5T,EAAI,IAAM,GAAKA,EAAI,KAAO,GAAK,EAAIA,EAAI,IAAM,IAAMA,EAAI,IAAM,IAAMA,EAAI,KAAO,IAAM,EAAI,IAExGkU,GAAI,SAAWlU,GACb,MAAO4T,QAAO5T,EAAI,IAAM,GAAKA,EAAI,KAAO,GAAK,EAAU,IAANA,EAAU,EAAI,IAEjEmU,GAAI,SAAWnU,GACb,MAAO4T,QAAY,GAAL5T,GAAUA,EAAI,IAAM,EAAI,EAAI,IAE5CoU,GAAI,SAAWpU,GACb,MAAO4T,QAAY,GAAL5T,EAAS,EAAS,GAALA,EAAS,EAAI,IAE1CqU,GAAI,SAAWrU,GACb,MAAO4T,QAAY,GAAL5T,EAAS,EAAU,IAANA,GAAWA,EAAI,IAAM,GAAKA,EAAI,IAAM,GAAK,EAAIA,EAAI,IAAM,IAAMA,EAAI,IAAM,GAAK,EAAI,IAE7GsU,GAAI,SAAWtU,GACb,MAAO4T,QAAY,GAAL5T,EAAS,EAAU,IAANA,GAAWA,EAAI,IAAM,GAAKA,EAAI,IAAM,GAAK,EAAI,IAE1EuU,GAAI,SAAWvU,GACb,MAAO4T,QAAO5T,EAAI,KAAO,EAAI,EAAIA,EAAI,KAAO,EAAI,EAAIA,EAAI,KAAO,GAAKA,EAAI,KAAO,EAAI,EAAI,KAmBvFwU,EAAiB,WACnB,QAASA,GAAejI,GACtB,GAAIvJ,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,EAEnFpD,GAAgBsD,KAAMwO,GAEtBxO,KAAKuG,cAAgBA,EACrBvG,KAAKhD,QAAUA,EAEfgD,KAAKwE,OAASN,EAAAA,WAAiBvB,OAAO,kBAEtC3C,KAAKoN,MAAQD,IAiFf,MA9EAqB,GAAehS,UAAUiS,QAAU,SAAiBnO,EAAKnE,GACvD6D,KAAKoN,MAAM9M,GAAOnE,GAGpBqS,EAAehS,UAAUkS,QAAU,SAAiBhU,GAClD,MAAOsF,MAAKoN,MAAMpN,KAAKuG,cAAc6F,wBAAwB1R,KAG/D8T,EAAehS,UAAUmS,YAAc,SAAqBjU,GAC1D,GAAIkU,GAAO5O,KAAK0O,QAAQhU,EAExB,SAAOkU,GAAQA,EAAKpB,QAAQ1S,QAAU,IAGxC0T,EAAehS,UAAUqS,UAAY,SAAmBnU,EAAMoU,GAC5D,GAAIlO,GAAQZ,KAER4O,EAAO5O,KAAK0O,QAAQhU,EAExB,KAAIkU,EAuDF,MADA5O,MAAKwE,OAAO8B,KAAK,6BAA+B5L,GACzC,EAtDP,IAAIqU,GAAO,WACT,GAA4B,IAAxBH,EAAKpB,QAAQ1S,OAAc,OAC3BkU,EAAG,GAGP,IAAIC,GAAML,EAAKM,MAAQN,EAAKlB,QAAQoB,GAASF,EAAKlB,QAAQyB,KAAKC,IAAIN,IAC/DpF,EAASkF,EAAKpB,QAAQyB,EAGE,KAAxBL,EAAKpB,QAAQ1S,QAAoC,IAApB8T,EAAKpB,QAAQ,KAC7B,IAAX9D,EACFA,EAAS,SACW,IAAXA,IACTA,EAAS,IAIb,IAAI2F,GAAe,WACjB,MAAOzO,GAAM5D,QAAQsS,SAAW5F,EAAO6F,WAAa3O,EAAM5D,QAAQsS,QAAU5F,EAAO6F,WAAa7F,EAAO6F,WAKzG,OAAwC,OAApC3O,EAAM5D,QAAQwS,kBACD,IAAX9F,GACAsF,EAAG,IAEe,gBAAXtF,IACPsF,EAAG,WAAatF,EAAO6F,aAGzBP,EAAGK,KAIsC,OAApCzO,EAAM5D,QAAQwS,mBAAsD,IAAxBZ,EAAKpB,QAAQ1S,QAAoC,IAApB8T,EAAKpB,QAAQ,IAEzFwB,EAAGK,KAI0B,IAAxBT,EAAKpB,QAAQ1S,QAAoC,IAApB8T,EAAKpB,QAAQ,IAE7CwB,EAAGK,MAITL,EAAGpO,EAAM5D,QAAQsS,SAAWL,EAAIM,WAAa3O,EAAM5D,QAAQsS,QAAUL,EAAIM,WAAaN,EAAIM,cAI9F,OAAoE,YAA/C,mBAATR,GAAuB,YAAc5R,EAAQ4R,IAA4BA,EAAKC,EAA1F,QAOGR,IAKT5T,GAAAA,WAAkB4T,IACf3G,WAAW,KAAKgG,IAAI,SAASvT,EAAQU,EAAOJ,GAC/C,YAgBA,SAASsB,GAAwBC,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIE,KAAa,IAAW,MAAPF,EAAe,IAAK,GAAIG,KAAOH,GAAWI,OAAOC,UAAUC,eAAe5B,KAAKsB,EAAKG,KAAMD,EAAOC,GAAOH,EAAIG,GAAgC,OAAtBD,GAAAA,WAAiBF,EAAYE,EAElQ,QAAS0F,GAAuB5F,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQ6F,UAAS7F,GAEvF,QAAS8F,GAAU9F,EAAK8D,GAA6D,IAAK,GAAlDiC,GAAO3F,OAAO4F,oBAAoBlC,GAAoB1F,EAAI,EAAGA,EAAI2H,EAAKpH,OAAQP,IAAK,CAAE,GAAI+B,GAAM4F,EAAK3H,GAAQqE,EAAQrC,OAAO6F,yBAAyBnC,EAAU3D,EAAUsC,IAASA,EAAMO,cAA6BY,SAAb5D,EAAIG,IAAsBC,OAAOoC,eAAexC,EAAKG,EAAKsC,GAAY,MAAOzC,GAE5T,QAASO,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASwF,GAA2BC,EAAMzH,GAAQ,IAAKyH,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1H,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByH,EAAPzH,EAElO,QAAS2H,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAI7F,WAAU,iEAAoE6F,GAAeD,GAASjG,UAAYD,OAAOoG,OAAOD,GAAcA,EAAWlG,WAAaiD,aAAeb,MAAO6D,EAAUvD,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAeuD,IAAYnG,OAAOqG,eAAiBrG,OAAOqG,eAAeH,EAAUC,GAAcT,EAAUQ,EAAUC,IAxBhenG,OAAOoC,eAAe/D,EAAS,cAC7BgE,OAAO,GAGT,IAAIsE,GAAW3G,OAAO4G,QAAU,SAAUpE,GAAU,IAAK,GAAIxE,GAAI,EAAGA,EAAIuF,UAAUhF,OAAQP,IAAK,CAAE,GAAIiH,GAAS1B,UAAUvF,EAAI,KAAK,GAAI+B,KAAOkF,GAAcjF,OAAOC,UAAUC,eAAe5B,KAAK2G,EAAQlF,KAAQyC,EAAOzC,GAAOkF,EAAOlF,IAAY,MAAOyC,IAEnPoF,EAAiB7J,EAAQ,kBAEzB8J,EAAiBrC,EAAuBoC,GAExCzE,EAASpF,EAAQ,WAEjBqF,EAAQzD,EAAwBwD,GAchC+P,EAAgB,SAAUnL,GAG5B,QAASmL,KACP,GAAIxS,GAAO6C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,GAC5E9C,EAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,IAAqBU,IAAK,eAAgBkP,UAAW,eAAkB5P,UAAU,EAElIpD,GAAgBsD,KAAMyP,EAEtB,IAAI7O,GAAQyB,EAA2BrC,KAAMsE,EAAczJ,KAAKmF,MAIhE,OAFAY,GAAM3D,KAAOA,EACb2D,EAAM5D,QAAUA,EACT4D,EAgHT,MA5HA4B,GAAUiN,EAAenL,GAezBmL,EAAcjT,UAAUmT,cAAgB,SAAuBnP,GACzDR,KAAKhD,QAAQwD,GAAGwC,QAAQxC,GAAM,GAChCR,KAAKhD,QAAQwD,GAAGsD,KAAKtD,IAIzBiP,EAAcjT,UAAUoT,iBAAmB,SAA0BpP,GACnE,GAAIiI,GAAQzI,KAAKhD,QAAQwD,GAAGwC,QAAQxC,EAChCiI,OACFzI,KAAKhD,QAAQwD,GAAGyC,OAAOwF,EAAO,IAIlCgH,EAAcjT,UAAUqT,YAAc,SAAqBvP,EAAKE,EAAIlE,GAClE,GAAIU,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,GAE/EgQ,EAAe9S,EAAQ8S,cAAgB9P,KAAKhD,QAAQ8S,YACnC/P,UAAjB+P,IAA4BA,EAAe,IAE/C,IAAIC,IAAQzP,EAAKE,EAQjB,OAPIlE,IAAsB,gBAARA,KAAkByT,EAAOA,EAAK/G,OAAO1M,IACnDA,GAAsB,gBAARA,KAAkByT,EAAOA,EAAK/G,OAAO8G,EAAexT,EAAIiJ,MAAMuK,GAAgBxT,IAE5FgE,EAAI0C,QAAQ,UACd+M,EAAOzP,EAAIiF,MAAM,MAGZ5F,EAAMkH,QAAQ7G,KAAK/C,KAAM8S,IAGlCN,EAAcjT,UAAUmL,YAAc,SAAqBrH,EAAKE,EAAIlE,EAAKsC,GACvE,GAAI5B,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,IAAqBkQ,QAAQ,GAAUlQ,UAAU,GAE9FgQ,EAAe9P,KAAKhD,QAAQ8S,YACX/P,UAAjB+P,IAA4BA,EAAe,IAE/C,IAAIC,IAAQzP,EAAKE,EACblE,KAAKyT,EAAOA,EAAK/G,OAAO8G,EAAexT,EAAIiJ,MAAMuK,GAAgBxT,IAEjEgE,EAAI0C,QAAQ,UACd+M,EAAOzP,EAAIiF,MAAM,KACjB3G,EAAQ4B,EACRA,EAAKuP,EAAK,IAGZ/P,KAAK2P,cAAcnP,GAEnBb,EAAMsQ,QAAQjQ,KAAK/C,KAAM8S,EAAMnR,GAE1B5B,EAAQgT,QAAQhQ,KAAKyF,KAAK,QAASnF,EAAKE,EAAIlE,EAAKsC,IAGxD6Q,EAAcjT,UAAU0T,aAAe,SAAsB5P,EAAKE,EAAI2P,GACpE,IAAK,GAAI7S,KAAK6S,GACgB,gBAAjBA,GAAU7S,IAAiB0C,KAAK2H,YAAYrH,EAAKE,EAAIlD,EAAG6S,EAAU7S,IAAM0S,QAAQ,GAE7FhQ,MAAKyF,KAAK,QAASnF,EAAKE,EAAI2P,IAG9BV,EAAcjT,UAAUkJ,kBAAoB,SAA2BpF,EAAKE,EAAI2P,EAAWC,EAAMC,GAC/F,GAAIN,IAAQzP,EAAKE,EACbF,GAAI0C,QAAQ,UACd+M,EAAOzP,EAAIiF,MAAM,KACjB6K,EAAOD,EACPA,EAAY3P,EACZA,EAAKuP,EAAK,IAGZ/P,KAAK2P,cAAcnP,EAEnB,IAAI8P,GAAO3Q,EAAMkH,QAAQ7G,KAAK/C,KAAM8S,MAEhCK,GACFzQ,EAAM4Q,WAAWD,EAAMH,EAAWE,GAElCC,EAAOpN,KAAaoN,EAAMH,GAG5BxQ,EAAMsQ,QAAQjQ,KAAK/C,KAAM8S,EAAMO,GAE/BtQ,KAAKyF,KAAK,QAASnF,EAAKE,EAAI2P,IAG9BV,EAAcjT,UAAUgU,qBAAuB,SAA8BlQ,EAAKE,GAC5ER,KAAKkF,kBAAkB5E,EAAKE,UACvBR,MAAK/C,KAAKqD,GAAKE,GAExBR,KAAK4P,iBAAiBpP,GAEtBR,KAAKyF,KAAK,UAAWnF,EAAKE,IAG5BiP,EAAcjT,UAAU0I,kBAAoB,SAA2B5E,EAAKE,GAC1E,MAAqCT,UAA9BC,KAAK6P,YAAYvP,EAAKE,IAG/BiP,EAAcjT,UAAUiU,kBAAoB,SAA2BnQ,EAAKE,GAI1E,MAHKA,KAAIA,EAAKR,KAAKhD,QAAQ0S,WAGW,OAAlC1P,KAAKhD,QAAQ0T,iBAAkCxN,KAAalD,KAAK6P,YAAYvP,EAAKE,IAE/ER,KAAK6P,YAAYvP,EAAKE,IAG/BiP,EAAcjT,UAAUmU,OAAS,WAC/B,MAAO3Q,MAAK/C,MAGPwS,GACPrL,EAAAA,WAEFxJ,GAAAA,WAAkB6U,IACf7H,iBAAiB,EAAEvG,UAAU,KAAKyM,IAAI,SAASxT,EAAQU,EAAOJ,GACjE,YA8BA,SAASsB,GAAwBC,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIE,KAAa,IAAW,MAAPF,EAAe,IAAK,GAAIG,KAAOH,GAAWI,OAAOC,UAAUC,eAAe5B,KAAKsB,EAAKG,KAAMD,EAAOC,GAAOH,EAAIG,GAAgC,OAAtBD,GAAAA,WAAiBF,EAAYE,EAElQ,QAAS0F,GAAuB5F,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQ6F,UAAS7F,GAEvF,QAAS8F,GAAU9F,EAAK8D,GAA6D,IAAK,GAAlDiC,GAAO3F,OAAO4F,oBAAoBlC,GAAoB1F,EAAI,EAAGA,EAAI2H,EAAKpH,OAAQP,IAAK,CAAE,GAAI+B,GAAM4F,EAAK3H,GAAQqE,EAAQrC,OAAO6F,yBAAyBnC,EAAU3D,EAAUsC,IAASA,EAAMO,cAA6BY,SAAb5D,EAAIG,IAAsBC,OAAOoC,eAAexC,EAAKG,EAAKsC,GAAY,MAAOzC,GAE5T,QAASO,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASwF,GAA2BC,EAAMzH,GAAQ,IAAKyH,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1H,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByH,EAAPzH,EAElO,QAAS2H,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAI7F,WAAU,iEAAoE6F,GAAeD,GAASjG,UAAYD,OAAOoG,OAAOD,GAAcA,EAAWlG,WAAaiD,aAAeb,MAAO6D,EAAUvD,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAeuD,IAAYnG,OAAOqG,eAAiBrG,OAAOqG,eAAeH,EAAUC,GAAcT,EAAUQ,EAAUC,IAtChenG,OAAOoC,eAAe/D,EAAS,cAC7BgE,OAAO,GAGT,IAAIsE,GAAW3G,OAAO4G,QAAU,SAAUpE,GAAU,IAAK,GAAIxE,GAAI,EAAGA,EAAIuF,UAAUhF,OAAQP,IAAK,CAAE,GAAIiH,GAAS1B,UAAUvF,EAAI,KAAK,GAAI+B,KAAOkF,GAAcjF,OAAOC,UAAUC,eAAe5B,KAAK2G,EAAQlF,KAAQyC,EAAOzC,GAAOkF,EAAOlF,IAAY,MAAOyC,IAEnP5B,EAA4B,kBAAXoC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUrD,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXoD,SAAyBpD,EAAIsD,cAAgBF,OAAS,eAAkBpD,IAEtO8H,EAAU3J,EAAQ,YAElB4J,EAAWnC,EAAuBkC,GAElCE,EAAiB7J,EAAQ,kBAEzB8J,EAAiBrC,EAAuBoC,GAExCyM,EAAiBtW,EAAQ,mBAEzBuW,EAAkB9O,EAAuB6O,GAEzCE,EAAKxW,EAAQ,sBAEbyW,EAAS7U,EAAwB4U,GAEjCpR,EAASpF,EAAQ,WAEjBqF,EAAQzD,EAAwBwD,GAchCsR,EAAa,SAAU1M,GAGzB,QAAS0M,GAAWnR,GAClB,GAAI7C,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,EAEnFpD,GAAgBsD,KAAMgR,EAEtB,IAAIpQ,GAAQyB,EAA2BrC,KAAMsE,EAAczJ,KAAKmF,MAMhE,OAJAL,GAAMsR,MAAM,gBAAiB,gBAAiB,iBAAkB,eAAgB,oBAAqBpR,EAAUe,GAE/GA,EAAM5D,QAAUA,EAChB4D,EAAM4D,OAASN,EAAAA,WAAiBvB,OAAO,cAChC/B,EAwPT,MArQA4B,GAAUwO,EAAY1M,GAgBtB0M,EAAWxU,UAAU0U,eAAiB,SAAwB5Q,GACxDA,IAAKN,KAAKU,SAAWJ,IAG3B0Q,EAAWxU,UAAU2U,OAAS,SAAgB7U,GAC5C,GAAIU,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,IAAqBsJ,kBAAsBtJ,UAAU,EAMtG,OAJsC,OAAlCE,KAAKhD,QAAQ0T,mBACf1T,EAAU+T,EAAOK,gBAAgBpU,IAGG+C,SAA/BC,KAAKqR,QAAQ/U,EAAKU,IAG3BgU,EAAWxU,UAAU8U,eAAiB,SAAwBhV,EAAKU,GACjE,GAAIuU,GAAcvU,EAAQuU,aAAevR,KAAKhD,QAAQuU,WAClCxR,UAAhBwR,IAA2BA,EAAc,IAE7C,IAAIpR,GAAanD,EAAQwD,IAAMR,KAAKhD,QAAQ0S,SAC5C,IAAI6B,GAAejV,EAAI0G,QAAQuO,MAAmB,CAChD,GAAIC,GAAQlV,EAAIiJ,MAAMgM,EACtBpR,GAAaqR,EAAM,GACnBlV,EAAMkV,EAAM,GAId,MAF0B,gBAAfrR,KAAyBA,GAAcA,KAGhD7D,IAAKA,EACL6D,WAAYA,IAIhB6Q,EAAWxU,UAAUiV,UAAY,SAAmBvP,GAClD,GAAIlF,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,EASnF,IAP0E,YAAlD,mBAAZ9C,GAA0B,YAAcG,EAAQH,IAC1DA,EAAUgD,KAAKhD,QAAQ0U,iCAAiC5R,WACb,OAAlCE,KAAKhD,QAAQ0T,mBACtB1T,EAAU+T,EAAOK,gBAAgBpU,IAItB+C,SAATmC,GAA+B,OAATA,GAA0B,KAATA,EAAa,MAAO,EAC3C,iBAATA,KAAmBA,EAAOyP,OAAOzP,IACxB,gBAATA,KAAmBA,GAAQA,GAGtC,IAAI5B,GAAMtD,EAAQsD,KAAON,KAAKU,QAC9B,IAAIJ,GAA6B,WAAtBA,EAAIiM,cAA4B,MAAOrK,GAAKA,EAAKpH,OAAS,EAGrE,IAAIgV,GAAe9S,EAAQ8S,cAAgB9P,KAAKhD,QAAQ8S,cAAgB,IAIpE8B,EAAkB5R,KAAKsR,eAAepP,EAAKA,EAAKpH,OAAS,GAAIkC,GAE7DV,EAAMsV,EAAgBtV,IACtB6D,EAAayR,EAAgBzR,WAE7BQ,EAAYR,EAAWA,EAAWrF,OAAS,GAG3C+W,EAAM7R,KAAKqR,QAAQnP,EAAMlF,GAEzB8U,EAAUvV,OAAOC,UAAU+S,SAASzG,MAAM+I,GAC1CE,GAAY,kBAAmB,oBAAqB,mBACpDC,EAAoCjS,SAAvB/C,EAAQgV,WAA2BhV,EAAQgV,WAAahS,KAAKhD,QAAQgV,UAGtF,IAAIH,GAAsB,gBAARA,IAAoBE,EAAS/O,QAAQ8O,GAAW,KAAOE,GAA0B,mBAAZF,GAA+B,CACpH,IAAK9U,EAAQiV,gBAAkBjS,KAAKhD,QAAQiV,cAE1C,MADAjS,MAAKwE,OAAO8B,KAAK,mEACVtG,KAAKhD,QAAQkV,sBAAwBlS,KAAKhD,QAAQkV,sBAAsB5V,EAAKuV,EAAK7U,GAAW,QAAWV,EAAM,KAAO0D,KAAKU,SAAW,0CAG9I,IAAIuQ,GAAmB,mBAAZa,OAEX,KAAK,GAAIxU,KAAKuU,GACZZ,EAAK3T,GAAK0C,KAAKyR,UAAU,GAAKnV,EAAMwT,EAAexS,EAAG4F,GAAW8O,YAAY,EAAOxR,GAAIL,GAAcnD,GAExG6U,GAAMZ,MAGH,IAAIe,GAA0B,mBAAZF,EACnBD,EAAMA,EAAItR,KAAKyR,GACXH,IAAKA,EAAM7R,KAAKmS,kBAAkBN,EAAKvV,EAAKU,QAG7C,CACD,GAAIoV,IAAc,EACdC,GAAU,CAad,IAVKrS,KAAKsS,cAAcT,IAAiC9R,SAAzB/C,EAAQuV,eACtCH,GAAc,EACdP,EAAM7U,EAAQuV,cAEXvS,KAAKsS,cAAcT,KACtBQ,GAAU,EACVR,EAAMvV,GAIJ+V,GAAWD,EAAa,CAC1BpS,KAAKwE,OAAOnG,IAAI,aAAciC,EAAKK,EAAWrE,EAAKuV,EAEnD,IAAItE,KACJ,IAAmC,aAA/BvN,KAAKhD,QAAQwV,eAAgCxS,KAAKhD,QAAQnB,aAAemE,KAAKhD,QAAQnB,YAAY,GACpG,IAAK,GAAItB,GAAI,EAAGA,EAAIyF,KAAKhD,QAAQnB,YAAYf,OAAQP,IACnDgT,EAAKzJ,KAAK9D,KAAKhD,QAAQnB,YAAYtB,QAEG,QAA/ByF,KAAKhD,QAAQwV,cACtBjF,EAAOvN,KAAKuG,cAAcC,mBAAmBxJ,EAAQsD,KAAON,KAAKU,UAGjE6M,EAAKzJ,KAAK9G,EAAQsD,KAAON,KAAKU,SAG5BV,MAAKhD,QAAQ0K,cACX1H,KAAKhD,QAAQyV,kBACfzS,KAAKhD,QAAQyV,kBAAkBlF,EAAM5M,EAAWrE,EAAKuV,GAC5C7R,KAAK0S,kBAAoB1S,KAAK0S,iBAAiBhL,aACxD1H,KAAK0S,iBAAiBhL,YAAY6F,EAAM5M,EAAWrE,EAAKuV,IAI5D7R,KAAKyF,KAAK,aAAc8H,EAAM5M,EAAWrE,EAAKuV,GAIhDA,EAAM7R,KAAKmS,kBAAkBN,EAAKvV,EAAKU,GAGnCqV,GAAWR,IAAQvV,GAAO0D,KAAKhD,QAAQ2V,8BAA6Bd,EAAMlR,EAAY,IAAMrE,GAG5F+V,GAAWrS,KAAKhD,QAAQ4V,yBAAwBf,EAAM7R,KAAKhD,QAAQ4V,uBAAuBf,IAIpG,MAAOA,IAGTb,EAAWxU,UAAU2V,kBAAoB,SAA2BN,EAAKvV,EAAKU,GAC5E,GAAIkE,GAASlB,IAEThD,GAAQoM,eAAepJ,KAAKI,aAAahF,KAAK4B,EAGlD,IAAIC,GAAOD,EAAQ4N,SAAsC,gBAApB5N,GAAQ4N,QAAuB5N,EAAQ4N,QAAU5N,CAClFgD,MAAKhD,QAAQoM,cAAcyJ,mBAAkB5V,EAAOiG,KAAalD,KAAKhD,QAAQoM,cAAcyJ,iBAAkB5V,IAClH4U,EAAM7R,KAAKI,aAAaC,YAAYwR,EAAK5U,GAGzC4U,EAAM7R,KAAKI,aAAagL,KAAKyG,EAAK,WAChC,IAAK,GAAInJ,GAAO5I,UAAUhF,OAAQ6N,EAAO5E,MAAM2E,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC3ED,EAAKC,GAAQ9I,UAAU8I,EAGzB,OAAO1H,GAAOuQ,UAAU3I,MAAM5H,EAAQyH,IACrC3L,GAECA,EAAQoM,eAAepJ,KAAKI,aAAa+I,OAG7C,IAAI2J,GAAc9V,EAAQ8V,aAAe9S,KAAKhD,QAAQ8V,YAClDC,EAA4C,gBAAhBD,IAA4BA,GAAeA,CAM3E,OAJY/S,UAAR8R,GAAqBkB,GAAsBA,EAAmBjY,QAAUkC,EAAQ4O,sBAAuB,IACzGiG,EAAMhB,EAAAA,WAAwBmC,OAAOD,EAAoBlB,EAAKvV,EAAKU,EAASgD,OAGvE6R,GAGTb,EAAWxU,UAAU6U,QAAU,SAAiBnP,GAC9C,GAAImD,GAASrF,KAEThD,EAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,GAE/EiD,EAAQ,MAmDZ,OAjDoB,gBAATb,KAAmBA,GAAQA,IAGtCA,EAAKd,QAAQ,SAAU6R,GACrB,IAAI5N,EAAOiN,cAAcvP,GAAzB,CAEA,GAAImQ,GAAmB7N,EAAOiM,eAAe2B,EAAGjW,GAE5CV,EAAM4W,EAAiB5W,IACvB6D,EAAa+S,EAAiB/S,UAE9BkF,GAAOrI,QAAQmW,aAAYhT,EAAaA,EAAW6I,OAAO3D,EAAOrI,QAAQmW,YAE7E,IAAIC,GAAwCrT,SAAlB/C,EAAQ8R,OAAgD,gBAAlB9R,GAAQ8R,MACpEuE,EAA2CtT,SAApB/C,EAAQsW,SAAoD,gBAApBtW,GAAQsW,SAA4C,KAApBtW,EAAQsW,QAEvGtG,EAAQhQ,EAAQuQ,KAAOvQ,EAAQuQ,KAAOlI,EAAOkB,cAAcC,mBAAmBxJ,EAAQsD,KAAO+E,EAAO3E,SAExGP,GAAWiB,QAAQ,SAAUZ,GACvB6E,EAAOiN,cAAcvP,IAEzBiK,EAAM5L,QAAQ,SAAU1G,GACtB,IAAI2K,EAAOiN,cAAcvP,GAAzB;AAEA,GAAIwQ,GAAWjX,EACXkX,GAAaD,GAEbE,EAAe,MACfL,KAAqBK,EAAepO,EAAOqO,eAAe7E,UAAUnU,EAAMsC,EAAQ8R,QAGlFsE,GAAuBC,GAAsBG,EAAU1P,KAAKyP,EAAWE,GAGvEJ,GAAsBG,EAAU1P,KAAKyP,GAAY,GAAKlO,EAAOrI,QAAQ2W,iBAAmB3W,EAAQsW,SAGhGF,GAAqBI,EAAU1P,KAAKyP,GAAYE,EAIpD,KADA,GAAIG,GAAc,OACXA,EAAcJ,EAAUK,OACzBxO,EAAOiN,cAAcvP,KACzBA,EAAQsC,EAAOwK,YAAYnV,EAAM8F,EAAIoT,EAAa5W,YAMnD+F,GAGTiO,EAAWxU,UAAU8V,cAAgB,SAAuBT,GAC1D,QAAe9R,SAAR8R,IAAwB7R,KAAKhD,QAAQ8W,YAAsB,OAARjC,IAAoB7R,KAAKhD,QAAQ+W,mBAA6B,KAARlC,IAGlHb,EAAWxU,UAAUqT,YAAc,SAAqBnV,EAAM8F,EAAIlE,GAChE,GAAIU,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,EAEnF,OAAOE,MAAKgU,cAAcnE,YAAYnV,EAAM8F,EAAIlE,EAAKU,IAGhDgU,GACP5M,EAAAA,WAEFxJ,GAAAA,WAAkBoW,IACfpJ,iBAAiB,EAAEqM,qBAAqB,GAAGpM,WAAW,GAAGqM,kBAAkB,GAAG7S,UAAU,KAAK0M,IAAI,SAASzT,EAAQU,EAAOJ,GAC5H,YAcA,SAASmH,GAAuB5F,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQ6F,UAAS7F,GAEvF,QAASgY,GAAqBnX,GAa5B,MAXAA,GAAQoM,eACNS,eAAgB,QAGlB7M,EAAQoM,cAAcG,OAASvM,EAAQoX,qBAAuB,KAC9DpX,EAAQoM,cAAcM,OAAS1M,EAAQqX,qBAAuB,KAC9DrX,EAAQoM,cAAcC,YAAcrM,EAAQsX,sBAAuB,EAEnEtX,EAAQoM,cAAcU,cAAgB9M,EAAQuX,aAAe,MAC7DvX,EAAQoM,cAAcY,cAAgBhN,EAAQwX,aAAe,IAEtDxX,EAGT,QAASyX,GAAkBzX,GAgEzB,MA/DIA,GAAQ0X,WAAU1X,EAAQmT,UAAYnT,EAAQ0X,UAE9C1X,EAAQwD,IAAMxD,EAAQwD,GAAGmU,WAC3B3X,EAAQ0S,UAAY1S,EAAQwD,GAAGmU,UAC/B3X,EAAQwD,GAAKxD,EAAQwD,GAAGL,YAExBnD,EAAQ0S,UAAY1S,EAAQwD,IAAM,cAGhCxD,EAAQ4X,qBAAuB5X,EAAQ0S,YAAW1S,EAAQmW,WAAanW,EAAQ0S,WAEnF1S,EAAQ0K,YAAc1K,EAAQ6X,YAC9B7X,EAAQwV,cAAgBxV,EAAQ8X,eAAiB,UACjD9X,EAAQ8W,YAAa9W,EAAQ+X,eAC7B/X,EAAQ+W,mBAAoB/W,EAAQgY,gBACpChY,EAAQiV,cAAgBjV,EAAQiY,kBAChCjY,EAAQgV,WAAa,KAErBhV,EAAQkV,sBAAwBlV,EAAQkY,qBACxClY,EAAQ4V,uBAAyB5V,EAAQmY,gBACzCnY,EAAQ2V,6BAA8B,EAEtC3V,EAAQuU,YAAcvU,EAAQoY,YAC9BpY,EAAQ8S,aAAe9S,EAAQqY,aAEE,YAA7BrY,EAAQsY,mBACVtY,EAAQ0U,iCAAmC,SAAU/I,GAGnD,IAAK,GAFD4M,MAEKhb,EAAI,EAAGA,EAAIoO,EAAK7N,OAAQP,IAC/Bgb,EAAOzR,KAAK6E,EAAKpO,GAGnB,QACEuY,YAAa,UACb0C,QAASD,KAKfvY,EAAQmP,UAAYnP,EAAQyY,aAC5BzY,EAAQ0Y,QAAU1Y,EAAQ0Y,QACL,YAAjB1Y,EAAQoJ,OAAoBpJ,EAAQoJ,KAAO,eAC1B,eAAjBpJ,EAAQoJ,OAAuBpJ,EAAQoJ,KAAO,gBAGlDpJ,EAAQrB,QAAUqB,EAAQrB,YAC1BqB,EAAQrB,QAAQC,SAAWoB,EAAQ2Y,YAAc,8BACjD3Y,EAAQrB,QAAQ4C,QAAUvB,EAAQ4Y,aAAe,6BACjD5Y,EAAQrB,QAAQ6C,kBAAoBxB,EAAQ6Y,YAG5C7Y,EAAQE,MAAQF,EAAQE,UACxBF,EAAQE,MAAMqM,OAAS,OACvBvM,EAAQE,MAAM4Y,eAAiB,OAC/B9Y,EAAQE,MAAM6K,UAAU/K,EAAQ+Y,gBAEhC/Y,EAAUmX,EAAqBnX,GAC3BA,EAAQ6V,mBAAkB7V,EAAQoM,cAAcyJ,iBAAmB7V,EAAQ6V,kBAKxE7V,EAGT,QAASgZ,GAAmBhZ,GAI1B,MAHAA,GAAUmX,EAAqBnX,GAC/BA,EAAQgV,WAAa,KAEdhV,EAGT,QAASoU,GAAgBpU,GAUvB,OATIA,EAAQoX,qBAAuBpX,EAAQqX,qBAAuBrX,EAAQsX,uBACxEtX,EAAUmX,EAAqBnX,IAGjCA,EAAQuU,YAAcvU,EAAQoY,YAC9BpY,EAAQ8S,aAAe9S,EAAQqY,aAE/BrY,EAAQiV,cAAgBjV,EAAQiY,kBAEzBjY,EAGT,QAASiZ,GAAmBC,GAC1BA,EAAK5V,IAAM,WAET,MADA4D,GAAAA,WAAiBiS,UAAU,6IACpBD,EAAKrW,SAAS0G,cAAcC,mBAAmB0P,EAAKxV,UAAU,IAGvEwV,EAAKR,QAAU,SAAUnI,EAAM6I,GAC7BlS,EAAAA,WAAiBiS,UAAU,kEAC3BD,EAAKG,cAAc9I,EAAM6I,IAG3BF,EAAKI,OAAS,SAAUhW,EAAKtD,EAASlB,GAQpC,MAPAoI,GAAAA,WAAiBiS,UAAU,yJACJ,kBAAZnZ,KACTlB,EAAWkB,EACXA,MAEGA,IAASA,MAEVA,EAAQuZ,UAAW,GACjBza,EAAiBA,EAAS,KAAMoa,EAAKM,UAAUlW,QAGrD4V,GAAKhF,eAAe5Q,EAAKxE,IAG3Boa,EAAKO,iBAAmB,SAAUxR,EAAMoG,GACtCnH,EAAAA,WAAiBiS,UAAU,mHAC3BD,EAAKna,KACHN,KAAM,gBACNwJ,KAAMA,EACNyR,QAASrL,KApJf9O,OAAOoC,eAAe/D,EAAS,cAC7BgE,OAAO,IAEThE,EAAQ6Z,kBAAoBA,EAC5B7Z,EAAQob,mBAAqBA,EAC7Bpb,EAAQwW,gBAAkBA,EAC1BxW,EAAQqb,mBAAqBA,CAE7B,IAAIhS,GAAU3J,EAAQ,aAElB4J,EAAWnC,EAAuBkC,KA8InC0S,YAAY,KAAK3I,IAAI,SAAS1T,EAAQU,EAAOJ,GAChD,YAOA,SAASgc,KACP,OACEC,OAAO,EACPC,eAAe,EAEftW,IAAK,eACLkP,WAAY,eACZ7T,aAAc,OACdsX,YAAY,EAEZhH,WAAW,EACXW,sBAAsB,EACtB1G,KAAM,MACNsP,SAAS,EAET5F,aAAc,IACdyB,YAAa,IACbwF,gBAAiB,IACjBpD,iBAAkB,IAElBjM,aAAa,EACb8K,cAAe,WACfC,mBAAmB,EAEnBK,aAAa,EACbgB,YAAY,EACZC,mBAAmB,EACnB9B,eAAe,EACfD,YAAY,EACZE,sBAAuB,aACvBU,wBAAwB,EACxBD,6BAA6B,EAC7BjB,iCAAkC,SAA0C/I,GAC1E,OAAS4J,aAAc5J,EAAK,KAG9BS,eACEC,aAAa,EACbE,OAAQ,KACRG,OAAQ,KAIRE,eAAgB,IAEhBE,cAAe,MACfE,cAAe,IAGf6I,iBAAkB9S,SAKxB,QAASiX,GAAiBha,GASxB,MAP0B,gBAAfA,GAAQwD,KAAiBxD,EAAQwD,IAAMxD,EAAQwD,KACvB,gBAAxBxD,GAAQnB,cAA0BmB,EAAQnB,aAAemB,EAAQnB,cAC1C,gBAAvBmB,GAAQmW,aAAyBnW,EAAQmW,YAAcnW,EAAQmW,aAGtEnW,EAAQmP,WAAanP,EAAQmP,UAAUnJ,QAAQ,UAAY,GAAGhG,EAAQmP,UAAUrI,KAAK,UAElF9G,EApETT,OAAOoC,eAAe/D,EAAS,cAC7BgE,OAAO,IAEThE,EAAQgc,IAAMA,EACdhc,EAAQoc,iBAAmBA,OAkErB/I,IAAI,SAAS3T,EAAQU,EAAOJ,GAClC,YAwDA,SAASsB,GAAwBC,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIE,KAAa,IAAW,MAAPF,EAAe,IAAK,GAAIG,KAAOH,GAAWI,OAAOC,UAAUC,eAAe5B,KAAKsB,EAAKG,KAAMD,EAAOC,GAAOH,EAAIG,GAAgC,OAAtBD,GAAAA,WAAiBF,EAAYE,EAElQ,QAAS0F,GAAuB5F,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQ6F,UAAS7F,GAEvF,QAAS8F,GAAU9F,EAAK8D,GAA6D,IAAK,GAAlDiC,GAAO3F,OAAO4F,oBAAoBlC,GAAoB1F,EAAI,EAAGA,EAAI2H,EAAKpH,OAAQP,IAAK,CAAE,GAAI+B,GAAM4F,EAAK3H,GAAQqE,EAAQrC,OAAO6F,yBAAyBnC,EAAU3D,EAAUsC,IAASA,EAAMO,cAA6BY,SAAb5D,EAAIG,IAAsBC,OAAOoC,eAAexC,EAAKG,EAAKsC,GAAY,MAAOzC,GAE5T,QAASO,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASwF,GAA2BC,EAAMzH,GAAQ,IAAKyH,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1H,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByH,EAAPzH,EAElO,QAAS2H,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAI7F,WAAU,iEAAoE6F,GAAeD,GAASjG,UAAYD,OAAOoG,OAAOD,GAAcA,EAAWlG,WAAaiD,aAAeb,MAAO6D,EAAUvD,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAeuD,IAAYnG,OAAOqG,eAAiBrG,OAAOqG,eAAeH,EAAUC,GAAcT,EAAUQ,EAAUC,IAhEhenG,OAAOoC,eAAe/D,EAAS,cAC7BgE,OAAO,GAGT,IAAIzB,GAA4B,kBAAXoC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUrD,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXoD,SAAyBpD,EAAIsD,cAAgBF,OAAS,eAAkBpD,IAEtO+G,EAAW3G,OAAO4G,QAAU,SAAUpE,GAAU,IAAK,GAAIxE,GAAI,EAAGA,EAAIuF,UAAUhF,OAAQP,IAAK,CAAE,GAAIiH,GAAS1B,UAAUvF,EAAI,KAAK,GAAI+B,KAAOkF,GAAcjF,OAAOC,UAAUC,eAAe5B,KAAK2G,EAAQlF,KAAQyC,EAAOzC,GAAOkF,EAAOlF,IAAY,MAAOyC,IAEnPkF,EAAU3J,EAAQ,YAElB4J,EAAWnC,EAAuBkC,GAElCE,EAAiB7J,EAAQ,kBAEzB8J,EAAiBrC,EAAuBoC,GAExC8S,EAAiB3c,EAAQ,mBAEzB4c,EAAkBnV,EAAuBkV,GAEzCE,EAAc7c,EAAQ,gBAEtB8c,EAAerV,EAAuBoV,GAEtCE,EAAiB/c,EAAQ,mBAEzBgd,EAAkBvV,EAAuBsV,GAEzCE,EAAkBjd,EAAQ,oBAE1Bkd,EAAmBzV,EAAuBwV,GAE1CE,EAAgBnd,EAAQ,kBAExBod,EAAiB3V,EAAuB0V,GAExCE,EAAoBrd,EAAQ,sBAE5Bsd,EAAqB7V,EAAuB4V,GAE5CE,EAAkBvd,EAAQ,oBAE1Bwd,EAAmB/V,EAAuB8V,GAE1CE,EAAazd,EAAQ,cAErBsW,EAAiBtW,EAAQ,mBAEzBuW,EAAkB9O,EAAuB6O,GAEzCE,EAAKxW,EAAQ,sBAEbyW,EAAS7U,EAAwB4U,GAcjCkH,EAAO,SAAU1T,GAGnB,QAAS0T,KACP,GAAIhb,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,GAC/EhE,EAAWgE,UAAU,EAEzBpD,GAAgBsD,KAAMgY,EAEtB,IAAIpX,GAAQyB,EAA2BrC,KAAMsE,EAAczJ,KAAKmF,MAQhE,OANAY,GAAM5D,SAAU,EAAI+a,EAAWf,kBAAkBha,GACjD4D,EAAMf,YACNe,EAAM4D,OAASN,EAAAA,WACftD,EAAMqX,WAEFnc,IAAa8E,EAAMsX,eAAetX,EAAMxF,KAAK4B,EAASlB,GACnD8E,EA+ST,MA/TA4B,GAAUwV,EAAM1T,GAmBhB0T,EAAKxb,UAAUpB,KAAO,SAAc4B,EAASlB,GAkB3C,QAASqc,GAAoBC,GAC3B,GAAKA,EACL,MAA6B,kBAAlBA,GAAqC,GAAIA,GAC7CA,EApBT,GAAIlX,GAASlB,IAwBb,IAtBuB,kBAAZhD,KACTlB,EAAWkB,EACXA,MAEGA,IAASA,MAEmB,OAA7BA,EAAQ0T,iBACV1Q,KAAKhD,QAAUkG,MAAa,EAAI6U,EAAWnB,QAAQ,EAAImB,EAAWf,kBAAkBjG,EAAO0D,kBAAkBzX,QACtE,OAA9BA,EAAQwS,kBACjBxP,KAAKhD,QAAUkG,MAAa,EAAI6U,EAAWnB,QAAQ,EAAImB,EAAWf,kBAAkBjG,EAAOiF,mBAAmBhZ,QAE9GgD,KAAKhD,QAAUkG,MAAa,EAAI6U,EAAWnB,OAAQ5W,KAAKhD,SAAS,EAAI+a,EAAWf,kBAAkBha,IAE/FlB,IAAUA,EAAW,eASrBkE,KAAKhD,QAAQqb,QAAS,CACrBrY,KAAKiY,QAAQzT,OACfN,EAAAA,WAAiB9I,KAAK+c,EAAoBnY,KAAKiY,QAAQzT,QAASxE,KAAKhD,SAErEkH,EAAAA,WAAiB9I,KAAK,KAAM4E,KAAKhD,QAGnC,IAAIsb,GAAK,GAAIhB,GAAAA,WAAwBtX,KAAKhD,QAC1CgD,MAAKuE,MAAQ,GAAI2S,GAAAA,WAAwBlX,KAAKhD,QAAQmT,UAAWnQ,KAAKhD,QAEtE,IAAI9C,GAAI8F,KAAKH,QACb3F,GAAEsK,OAASN,EAAAA,WACXhK,EAAE8Z,cAAgBhU,KAAKuE,MACvBrK,EAAE8Z,cAAc5L,GAAG,gBAAiB,SAAU9H,EAAKE,GACjDtG,EAAEqe,eAAevQ,SAEnB9N,EAAEqM,cAAgB+R,EAClBpe,EAAEwZ,eAAiB,GAAI8D,GAAAA,WAAyBc,GAAMhJ,QAAStP,KAAKhD,QAAQ+Z,gBAAiBvH,kBAAmBxP,KAAKhD,QAAQwS,oBAC7HtV,EAAEkG,aAAe,GAAIsX,GAAAA,WAAuB1X,KAAKhD,SAEjD9C,EAAEwY,iBAAmB,GAAIkF,GAAAA,WAA2BO,EAAoBnY,KAAKiY,QAAQtc,SAAUzB,EAAE8Z,cAAe9Z,EAAG8F,KAAKhD,SAExH9C,EAAEwY,iBAAiBtK,GAAG,IAAK,SAAUG,GACnC,IAAK,GAAIG,GAAO5I,UAAUhF,OAAQ6N,EAAO5E,MAAM2E,EAAO,EAAIA,EAAO,EAAI,GAAIE,EAAO,EAAGA,EAAOF,EAAME,IAC9FD,EAAKC,EAAO,GAAK9I,UAAU8I,EAG7B1H,GAAOuE,KAAKqD,MAAM5H,GAASqH,GAAOS,OAAOL,MAG3CzO,EAAEwY,iBAAiBtK,GAAG,SAAU,SAAUjD,GACxCjL,EAAEqe,eAAevQ,SAGnB9N,EAAEqe,eAAiB,GAAIT,GAAAA,WAAyBK,EAAoBnY,KAAKiY,QAAQ/a,OAAQhD,EAAE8Z,cAAe9Z,EAAG8F,KAAKhD,SAElH9C,EAAEqe,eAAenQ,GAAG,IAAK,SAAUG,GACjC,IAAK,GAAIiQ,GAAQ1Y,UAAUhF,OAAQ6N,EAAO5E,MAAMyU,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACpG9P,EAAK8P,EAAQ,GAAK3Y,UAAU2Y,EAG9BvX,GAAOuE,KAAKqD,MAAM5H,GAASqH,GAAOS,OAAOL,MAGvC3I,KAAKiY,QAAQS,mBACfxe,EAAEwe,iBAAmBP,EAAoBnY,KAAKiY,QAAQS,kBACtDxe,EAAEwe,iBAAiBtd,KAAKlB,EAAG8F,KAAKhD,QAAQ2b,UAAW3Y,KAAKhD,UAG1DgD,KAAK4Y,WAAa,GAAIxB,GAAAA,WAAqBpX,KAAKH,SAAUG,KAAKhD,SAE/DgD,KAAK4Y,WAAWxQ,GAAG,IAAK,SAAUG,GAChC,IAAK,GAAIsQ,GAAQ/Y,UAAUhF,OAAQ6N,EAAO5E,MAAM8U,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACpGnQ,EAAKmQ,EAAQ,GAAKhZ,UAAUgZ,EAG9B5X,GAAOuE,KAAKqD,MAAM5H,GAASqH,GAAOS,OAAOL,MAK7C,GAAIoQ,IAAY,cAAe,cAAe,eAAgB,oBAAqB,uBAAwB,oBAAqB,oBAChIA,GAAS3X,QAAQ,SAAU2E,GACzB7E,EAAO6E,GAAU,WACf,MAAO/F,MAAKuE,MAAMwB,GAAQ+C,MAAM9I,KAAKuE,MAAOzE,cAKV,OAAlCE,KAAKhD,QAAQ0T,kBAA2BK,EAAOkF,mBAAmBjW,KAEtE,IAAIoG,GAAO,WACTlF,EAAOgQ,eAAehQ,EAAOlE,QAAQsD,IAAK,SAAUU,EAAKjH,GACvDmH,EAAOuE,KAAK,cAAevE,EAAOlE,SAClCkE,EAAOsD,OAAOnG,IAAI,cAAe6C,EAAOlE,SAExClB,EAASkF,EAAKjH,KAUlB,OANIiG,MAAKhD,QAAQmT,YAAcnQ,KAAKhD,QAAQ8Z,cAC1C1Q,IAEAD,WAAWC,EAAM,GAGZpG,MAGTgY,EAAKxb,UAAUwc,cAAgB,SAAuBld,GACpD,GAAIuJ,GAASrF,IAIb,IAFKlE,IAAUA,EAAW,cAErBkE,KAAKhD,QAAQmT,UA8BhBrU,EAAS,UA9BkB,CAC3B,GAAIiT,GAAO,WACT,GAAI1J,EAAO3E,UAA8C,WAAlC2E,EAAO3E,SAAS6L,cAA4B,OAC/DyC,EAAGlT,IAGP,IAAI8I,MAEAqU,EAAS,SAAgB3Y,GAC3B,GAAIiN,GAAOlI,EAAOxF,SAAS0G,cAAcC,mBAAmBlG,EAC5DiN,GAAKnM,QAAQ,SAAUzG,GACjBiK,EAAO5B,QAAQrI,GAAK,GAAGiK,EAAOd,KAAKnJ,KAI3Cse,GAAO5T,EAAO3E,UAEV2E,EAAOrI,QAAQ0Y,SACjBrQ,EAAOrI,QAAQ0Y,QAAQtU,QAAQ,SAAUzG,GACvCse,EAAOte,KAIX0K,EAAOxF,SAAS0Y,eAAenS,KAAKxB,EAAQS,EAAOrI,QAAQwD,GAAI,WAC7D6E,EAAOxF,SAAS6S,iBAAiBtM,KAAKxB,EAAQS,EAAOrI,QAAQwD,GAAI1E,OAIrE,IAAoE,YAA/C,mBAATiT,GAAuB,YAAc5R,EAAQ4R,IAAqB,MAAOA,GAAKC,IAM9FgJ,EAAKxb,UAAU0c,gBAAkB,SAAyB3L,EAAM/M,GACzD+M,IAAMA,EAAOvN,KAAKE,WAClBM,IAAIA,EAAKR,KAAKhD,QAAQwD,IAC3BR,KAAKH,SAAS6S,iBAAiBtL,OAAOmG,EAAM/M,IAG9CwX,EAAKxb,UAAUT,IAAM,SAAaf,GAqBhC,MApBoB,YAAhBA,EAAOS,OACTuE,KAAKiY,QAAQtc,QAAUX,GAGL,UAAhBA,EAAOS,OACTuE,KAAKiY,QAAQ/a,MAAQlC,IAGH,WAAhBA,EAAOS,MAAqBT,EAAOqD,KAAOrD,EAAOsL,MAAQtL,EAAOsL,QAClEtG,KAAKiY,QAAQzT,OAASxJ,GAGJ,qBAAhBA,EAAOS,OACTuE,KAAKiY,QAAQS,iBAAmB1d,GAGd,kBAAhBA,EAAOS,MACToV,EAAAA,WAAwB4F,iBAAiBzb,GAGpCgF,MAGTgY,EAAKxb,UAAU0U,eAAiB,SAAwB5Q,EAAKxE,GAC3D,GAAIoK,GAASlG,KAET6D,EAAO,SAAc7C,GACnBV,IACF4F,EAAOT,KAAK,kBAAmBnF,GAC/B4F,EAAO1B,OAAOnG,IAAI,kBAAmBiC,IAGnCxE,GAAUA,EAASkF,EAAK,WAC1B,IAAK,GAAImY,GAAQrZ,UAAUhF,OAAQ6N,EAAO5E,MAAMoV,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IAChFzQ,EAAKyQ,GAAStZ,UAAUsZ,EAG1B,OAAOlT,GAAOnM,EAAE+O,MAAM5C,EAAQyC,OAI7BrI,GAAON,KAAKH,SAAS6Y,mBAAkBpY,EAAMN,KAAKH,SAAS6Y,iBAAiBrd,UAE7EiF,IACFN,KAAKU,SAAWJ,EAChBN,KAAKE,UAAYF,KAAKH,SAAS0G,cAAcC,mBAAmBlG,GAEhEN,KAAK4Y,WAAW1H,eAAe5Q,GAE3BN,KAAKH,SAAS6Y,kBAAkB1Y,KAAKH,SAAS6Y,iBAAiBld,kBAAkB8E,IAGvFN,KAAKgZ,cAAc,SAAUhY,GAC3B6C,EAAK7C,MAITgX,EAAKxb,UAAUga,UAAY,SAAmBlW,EAAKE,GACjD,GAAI6F,GAASrG,KAETqZ,EAAS,QAASA,GAAO/c,EAAKU,GAIhC,MAHAA,GAAUA,MACVA,EAAQsD,IAAMtD,EAAQsD,KAAO+Y,EAAO/Y,IACpCtD,EAAQwD,GAAKxD,EAAQwD,IAAM6Y,EAAO7Y,GAC3B6F,EAAOtM,EAAEuC,EAAKU,GAIvB,OAFAqc,GAAO/Y,IAAMA,EACb+Y,EAAO7Y,GAAKA,EACL6Y,GAGTrB,EAAKxb,UAAUzC,EAAI,WACjB,MAAOiG,MAAK4Y,YAAc5Y,KAAK4Y,WAAWnH,UAAU3I,MAAM9I,KAAK4Y,WAAY9Y,YAG7EkY,EAAKxb,UAAU2U,OAAS,WACtB,MAAOnR,MAAK4Y,YAAc5Y,KAAK4Y,WAAWzH,OAAOrI,MAAM9I,KAAK4Y,WAAY9Y,YAG1EkY,EAAKxb,UAAU8c,oBAAsB,SAA6B9Y,GAChER,KAAKhD,QAAQ0S,UAAYlP,GAG3BwX,EAAKxb,UAAU+c,eAAiB,SAAwB/Y,EAAI1E,GAC1D,GAAImL,GAASjH,IAEb,OAAKA,MAAKhD,QAAQwD,IACA,gBAAPA,KAAiBA,GAAMA,IAElCA,EAAGY,QAAQ,SAAUpH,GACfiN,EAAOjK,QAAQwD,GAAGwC,QAAQhJ,GAAK,GAAGiN,EAAOjK,QAAQwD,GAAGsD,KAAK9J,SAG/DgG,MAAKgZ,cAAcld,IAPUA,GAAYA,KAU3Ckc,EAAKxb,UAAU6Z,cAAgB,SAAuB9I,EAAMzR,GACtC,gBAATyR,KAAmBA,GAAQA,GACtC,IAAIiM,GAAYxZ,KAAKhD,QAAQ0Y,YAEzB+D,EAAUlM,EAAK1H,OAAO,SAAUvF,GAClC,MAAOkZ,GAAUxW,QAAQ1C,GAAO,GAGlC,OAAKmZ,GAAQ3e,QAEbkF,KAAKhD,QAAQ0Y,QAAU8D,EAAUxQ,OAAOyQ,OACxCzZ,MAAKgZ,cAAcld,IAHSA,KAM9Bkc,EAAKxb,UAAUkd,IAAM,SAAapZ,GAC3BA,IAAKA,EAAMN,KAAKU,SAErB,IAAIiZ,IAAW,KAAM,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAM,KAAM,KAAM,MAAO,MAAO,MAAO,MAAO,MAAO,KAAM,MAAO,MAAO,MAAO,KAAM,KAAM,MAAO,MAAO,MAAO,KAAM,MAAO,MAAO,MAAO,MAAO,KAAM,MAEna,OAAOA,GAAQ3W,QAAQhD,KAAKH,SAAS0G,cAAc6F,wBAAwB9L,KAAS,EAAI,MAAQ,OAGlG0X,EAAKxb,UAAUod,eAAiB,WAC9B,GAAI5c,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,GAC/EhE,EAAWgE,UAAU,EAEzB,OAAO,IAAIkY,GAAKhb,EAASlB,IAG3Bkc,EAAKxb,UAAUqd,cAAgB,WAC7B,GAAIxS,GAASrH,KAEThD,EAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,GAC/EhE,EAAWgE,UAAU,GAErBga,EAAQ,GAAI9B,GAAK9U,KAAalG,EAASgD,KAAKhD,SAAWqb,SAAS,IAASvc,GACzEie,GAAiB,QAAS,aAAc,WAAY,WAKxD,OAJAA,GAAc3Y,QAAQ,SAAU9D,GAC9Bwc,EAAMxc,GAAK+J,EAAO/J,KAGbwc,GAGF9B,GACP5T,EAAAA,WAEFxJ,GAAAA,WAAkB,GAAIod,KACnBgC,qBAAqB,EAAEC,mBAAmB,EAAErS,iBAAiB,EAAEsS,iBAAiB,EAAEC,kBAAkB,EAAEC,mBAAmB,GAAGC,kBAAkB,GAAGC,eAAe,GAAGrG,qBAAqB,GAAGsG,aAAa,GAAG1S,WAAW,GAAGqM,kBAAkB,KAAKhG,IAAI,SAAS5T,EAAQU,EAAOJ,GAC/Q,YAUA,SAASmH,GAAuB5F,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQ6F,UAAS7F,GARvFI,OAAOoC,eAAe/D,EAAS,cAC7BgE,OAAO,GAGT,IAAI4b,GAAWlgB,EAAQ,aAEnBmgB,EAAY1Y,EAAuByY,EAIvC5f,GAAAA,WAAkB6f,EAAAA,aACfC,YAAY,KAAKvM,IAAI,SAAS7T,EAAQU,EAAOJ,GAChD,YAQA,SAAS8B,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhHN,OAAOoC,eAAe/D,EAAS,cAC7BgE,OAAO,GAGT,IAAIsE,GAAW3G,OAAO4G,QAAU,SAAUpE,GAAU,IAAK,GAAIxE,GAAI,EAAGA,EAAIuF,UAAUhF,OAAQP,IAAK,CAAE,GAAIiH,GAAS1B,UAAUvF,EAAI,KAAK,GAAI+B,KAAOkF,GAAcjF,OAAOC,UAAUC,eAAe5B,KAAK2G,EAAQlF,KAAQyC,EAAOzC,GAAOkF,EAAOlF,IAAY,MAAOyC,IAInP4b,GACFlf,KAAM,SAEN4C,IAAK,SAAasK,GAChB3I,KAAK4a,QAAQ,MAAOjS,IAEtBrC,KAAM,SAAcqC,GAClB3I,KAAK4a,QAAQ,OAAQjS,IAEvB5B,MAAO,SAAe4B,GACpB3I,KAAK4a,QAAQ,QAASjS,IAExBiS,QAAS,SAAiBnf,EAAMkN,GAC1BvK,SAAWA,QAAQ3C,IAAO2C,QAAQ3C,GAAMqN,MAAM1K,QAAS2F,MAAMvH,UAAUe,MAAM1C,KAAK8N,MAItFkS,EAAS,WACX,QAASA,GAAOC,GACd,GAAI9d,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,EAEnFpD,GAAgBsD,KAAM6a,GAEtB7a,KAAK+a,QACL/a,KAAK5E,KAAK0f,EAAgB9d,GAoD5B,MAjDA6d,GAAOre,UAAUpB,KAAO,SAAc0f,GACpC,GAAI9d,GAAU8C,UAAUhF,QAAU,GAAsBiF,SAAjBD,UAAU,MAAwBA,UAAU,EAEnFE,MAAKuJ,OAASvM,EAAQuM,QAAU,WAChCvJ,KAAKwE,OAASsW,GAAkBH,EAChC3a,KAAKhD,QAAUA,EACfgD,KAAK6W,MAAQ7Z,EAAQ6Z,SAAU,GAGjCgE,EAAOre,UAAUwe,SAAW,SAAkBC,GAC5Cjb,KAAK6W,MAAQoE,EACbjb,KAAK+a,KAAK3Z,QAAQ,SAAU8Z,GAC1BA,EAAIF,SAASC,MAIjBJ,EAAOre,UAAU6B,IAAM,WACrB2B,KAAKmb,QAAQrb,UAAW,MAAO,IAAI,IAGrC+a,EAAOre,UAAU8J,KAAO,WACtBtG,KAAKmb,QAAQrb,UAAW,OAAQ,IAAI,IAGtC+a,EAAOre,UAAUuK,MAAQ,WACvB/G,KAAKmb,QAAQrb,UAAW,QAAS,KAGnC+a,EAAOre,UAAU2Z,UAAY,WAC3BnW,KAAKmb,QAAQrb,UAAW,OAAQ,wBAAwB,IAG1D+a,EAAOre,UAAU2e,QAAU,SAAiBxS,EAAMyS,EAAK7R,EAAQ8R,GACzDA,IAAcrb,KAAK6W,QACA,gBAAZlO,GAAK,KAAiBA,EAAK,GAAKY,EAASvJ,KAAKuJ,OAAS,IAAMZ,EAAK,IAC7E3I,KAAKwE,OAAO4W,GAAKzS,KAGnBkS,EAAOre,UAAUmG,OAAS,SAAgB2Y,GACxC,GAAIJ,GAAM,GAAIL,GAAO7a,KAAKwE,OAAQtB,GAAWqG,OAAQvJ,KAAKuJ,OAAS,IAAM+R,EAAa,KAAOtb,KAAKhD,SAGlG,OAFAgD,MAAK+a,KAAKjX,KAAKoX,GAERA,GAOFL,IAKTjgB,GAAAA,WAAkB,GAAIigB,QAChBzM,IAAI,SAAS9T,EAAQU,EAAOJ,GAClC,YAEA2B,QAAOoC,eAAe/D,EAAS,cAC7BgE,OAAO,IAEThE,EAAAA,YAEE2gB,cAEA9E,iBAAkB,SAA0Bzb,GAC1CgF,KAAKub,WAAWvgB,EAAOiK,MAAQjK,GAEjCgY,OAAQ,SAAgBuI,EAAY3c,EAAOtC,EAAKU,EAAS4b,GACvD,GAAIhY,GAAQZ,IAMZ,OAJAub,GAAWna,QAAQ,SAAUoa,GACvB5a,EAAM2a,WAAWC,KAAY5c,EAAQgC,EAAM2a,WAAWC,GAAW9E,QAAQ9X,EAAOtC,EAAKU,EAAS4b,MAG7Fha,SAGLyP,IAAI,SAAS/T,EAAQU,EAAOJ,GAClC,YAaA,SAASsQ,GAAWuQ,GAClB,MAAc,OAAVA,EAAuB,GACpB,GAAKA,EAGd,QAASxK,GAAK5W,EAAGH,EAAGH,GAClBM,EAAE+G,QAAQ,SAAU9D,GACdpD,EAAEoD,KAAIvD,EAAEuD,GAAKpD,EAAEoD,MAIvB,QAASoe,GAAcD,EAAQ1L,EAAM4L,GACnC,QAASC,GAAStf,GAChB,MAAOA,IAAOA,EAAI0G,QAAQ,UAAc1G,EAAIsO,QAAQ,OAAQ,KAAOtO,EAIrE,IADA,GAAIuf,GAAwB,gBAAT9L,MAAuB/G,OAAO+G,GAAQA,EAAKxK,MAAM,KAC7DsW,EAAM/gB,OAAS,GAAG,CACvB,IAAK2gB,EAAQ,QAEb,IAAInf,GAAMsf,EAASC,EAAMrQ,UACpBiQ,EAAOnf,IAAQqf,IAAOF,EAAOnf,GAAO,GAAIqf,IAC7CF,EAASA,EAAOnf,GAGlB,MAAKmf,IAEHtf,IAAKsf,EACLxI,EAAG2I,EAASC,EAAMrQ,aAItB,QAASyE,GAAQwL,EAAQ1L,EAAM+L,GAC7B,GAAIC,GAAiBL,EAAcD,EAAQ1L,EAAMxT,QAE7CJ,EAAM4f,EAAe5f,IACrB8W,EAAI8I,EAAe9I,CAGvB9W,GAAI8W,GAAK6I,EAGX,QAASlW,GAAS6V,EAAQ1L,EAAM+L,EAAU9S,GACxC,GAAIgT,GAAkBN,EAAcD,EAAQ1L,EAAMxT,QAE9CJ,EAAM6f,EAAgB7f,IACtB8W,EAAI+I,EAAgB/I,CAGxB9W,GAAI8W,GAAK9W,EAAI8W,OACTjK,IAAQ7M,EAAI8W,GAAK9W,EAAI8W,GAAGjK,OAAO8S,IAC9B9S,GAAQ7M,EAAI8W,GAAGnP,KAAKgY,GAG3B,QAASjV,GAAQ4U,EAAQ1L,GACvB,GAAIkM,GAAkBP,EAAcD,EAAQ1L,GAExC5T,EAAM8f,EAAgB9f,IACtB8W,EAAIgJ,EAAgBhJ,CAGxB,IAAK9W,EACL,MAAOA,GAAI8W,GAGb,QAAS1C,GAAWxR,EAAQyC,EAAQ6O,GAClC,IAAK,GAAI5O,KAAQD,GACXC,IAAQ1C,GAEkB,gBAAjBA,GAAO0C,IAAsB1C,EAAO0C,YAAiBkQ,SAAkC,gBAAjBnQ,GAAOC,IAAsBD,EAAOC,YAAiBkQ,QAChItB,IAAWtR,EAAO0C,GAAQD,EAAOC,IAErC8O,EAAWxR,EAAO0C,GAAOD,EAAOC,GAAO4O,GAGzCtR,EAAO0C,GAAQD,EAAOC,EAEzB,OAAO1C,GAGV,QAASyK,GAAYiB,GACnB,MAAOA,GAAIG,QAAQ,sCAAuC,QAc5D,QAASO,GAAOlO,GACd,MAAoB,gBAATA,GACFA,EAAK2N,QAAQ,aAAc,SAAU1Q,GAC1C,MAAOgiB,GAAWhiB,KAGb+C,EAhHXV,OAAOoC,eAAe/D,EAAS,cAC7BgE,OAAO,IAEThE,EAAQsQ,WAAaA,EACrBtQ,EAAQqW,KAAOA,EACfrW,EAAQqV,QAAUA,EAClBrV,EAAQgL,SAAWA,EACnBhL,EAAQiM,QAAUA,EAClBjM,EAAQ2V,WAAaA,EACrB3V,EAAQ4O,YAAcA,EACtB5O,EAAQuQ,OAASA,CAsFjB,IAAI+Q,IACFC,IAAK,QACLC,IAAK,OACLC,IAAK,OACLC,IAAK,SACLC,IAAK,QACLC,IAAK,eAaDlO,IAAI,SAAShU,EAAQU,EAAOJ,GAClCkF,UAAU,GAAG,GAAG,GAAGgJ,MAAMlO,EAAQkF,aAC9B+B,2BAA2B,GAAG4a,IAAM,SAAS","file":"i18n-1.0.3.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar i18next = require('i18next'),\n    i18next_xhr = require('i18next-xhr-backend');\n\nvar i18next_detector = {\n    init: function () {\n    },\n    detect: function () {\n        return viewer.getAttribute('settings/language');\n    },\n    cacheUserLanguage: function () {\n    },\n    type: 'languageDetector'\n};\n\nvar i18next_opts = {\n    backend: {\n        loadPath: 'assets/locales/{{ns}}.{{lng}}.json'\n    },\n    fallbackLng: 'en'\n};\n\nmodule.exports = function (callback) {\n    i18next\n        .use(i18next_xhr)\n        .use(i18next_detector)\n        .init(i18next_opts, callback);\n};\n\n},{\"i18next\":20,\"i18next-xhr-backend\":4}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// https://gist.github.com/Xeoncross/7663273\nfunction ajax(url, options, callback, data, cache) {\n  // Must encode data\n  if (data && (typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n    var y = '',\n        e = encodeURIComponent;\n    for (var m in data) {\n      y += '&' + e(m) + '=' + e(data[m]);\n    }\n    data = y.slice(1) + (!cache ? '&_t=' + new Date() : '');\n  }\n\n  try {\n    var x = new (XMLHttpRequest || ActiveXObject)('MSXML2.XMLHTTP.3.0');\n    x.open(data ? 'POST' : 'GET', url, 1);\n    if (!options.crossDomain) {\n      x.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    }\n    if (data) {\n      x.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n    }\n    x.onreadystatechange = function () {\n      x.readyState > 3 && callback && callback(x.responseText, x);\n    };\n    x.send(data);\n  } catch (e) {\n    window.console && console.log(e);\n  }\n};\n\n// ajax.uriEncode = function(o) {\n//     var x, y = '', e = encodeURIComponent;\n//     for (x in o) y += '&' + e(x) + '=' + e(o[x]);\n//     return y.slice(1);\n// };\n//\n// ajax.collect = (a, f) {\n//     var n = [];\n//     for (var i = 0; i < a.length; i++) {\n//         var v = f(a[i]);\n//         if (v != null) n.push(v);\n//     }\n//     return n;\n// };\n//\n// ajax.serialize = function (f) {\n//     function g(n) {\n//         return f.getElementsByTagName(n);\n//     };\n//     var nv = function (e) {\n//         if (e.name) return encodeURIComponent(e.name) + '=' + encodeURIComponent(e.value);\n//     };\n//     var i = collect(g('input'), function (i) {\n//         if ((i.type != 'radio' && i.type != 'checkbox') || i.checked) return nv(i);\n//     });\n//     var s = collect(g('select'), nv);\n//     var t = collect(g('textarea'), nv);\n//     return i.concat(s).concat(t).join('&');\n// };\n//\n\nfunction getDefaults() {\n  return {\n    loadPath: '/locales/{{lng}}/{{ns}}.json',\n    addPath: 'locales/add/{{lng}}/{{ns}}',\n    allowMultiLoading: false,\n    parse: JSON.parse,\n    crossDomain: false,\n    ajax: ajax\n  };\n}\n\nvar Backend = function () {\n  function Backend(services) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    _classCallCheck(this, Backend);\n\n    this.init(services, options);\n\n    this.type = 'backend';\n  }\n\n  _createClass(Backend, [{\n    key: 'init',\n    value: function init(services) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      this.services = services;\n      this.options = utils.defaults(options, this.options || {}, getDefaults());\n    }\n  }, {\n    key: 'readMulti',\n    value: function readMulti(languages, namespaces, callback) {\n      var url = this.services.interpolator.interpolate(this.options.loadPath, { lng: languages.join('+'), ns: namespaces.join('+') });\n\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: 'read',\n    value: function read(language, namespace, callback) {\n      var url = this.services.interpolator.interpolate(this.options.loadPath, { lng: language, ns: namespace });\n\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: 'loadUrl',\n    value: function loadUrl(url, callback) {\n      var _this = this;\n\n      this.options.ajax(url, this.options, function (data, xhr) {\n        if (xhr.status >= 500 && xhr.status < 600) return callback('failed loading ' + url, true /* retry */);\n        if (xhr.status >= 400 && xhr.status < 500) return callback('failed loading ' + url, false /* no retry */);\n\n        var ret = void 0,\n            err = void 0;\n        try {\n          ret = _this.options.parse(data, url);\n        } catch (e) {\n          err = 'failed parsing ' + url + ' to json';\n        }\n        if (err) return callback(err, false);\n        callback(null, ret);\n      });\n    }\n  }, {\n    key: 'create',\n    value: function create(languages, namespace, key, fallbackValue) {\n      var _this2 = this;\n\n      if (typeof languages === 'string') languages = [languages];\n\n      var payload = {};\n      payload[key] = fallbackValue || '';\n\n      languages.forEach(function (lng) {\n        var url = _this2.services.interpolator.interpolate(_this2.options.addPath, { lng: lng, ns: namespace });\n\n        _this2.options.ajax(url, _this2.options, function (data, xhr) {\n          //const statusCode = xhr.status.toString();\n          // TODO: if statusCode === 4xx do log\n        }, payload);\n      });\n    }\n  }]);\n\n  return Backend;\n}();\n\nBackend.type = 'backend';\n\nexports.default = Backend;\n},{\"./utils\":3}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaults = defaults;\nexports.extend = extend;\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\n\nfunction defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\n\nfunction extend(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\n},{}],4:[function(require,module,exports){\nmodule.exports = require('./dist/commonjs/index.js').default;\n\n},{\"./dist/commonjs/index.js\":2}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _EventEmitter2 = require('./EventEmitter');\n\nvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nfunction remove(arr, what) {\n  var found = arr.indexOf(what);\n\n  while (found !== -1) {\n    arr.splice(found, 1);\n    found = arr.indexOf(what);\n  }\n}\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(backend, store, services) {\n    var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n    _classCallCheck(this, Connector);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.backend = backend;\n    _this.store = store;\n    _this.services = services;\n    _this.options = options;\n    _this.logger = _logger2.default.create('backendConnector');\n\n    _this.state = {};\n    _this.queue = [];\n\n    _this.backend && _this.backend.init && _this.backend.init(services, options.backend, options);\n    return _this;\n  }\n\n  Connector.prototype.queueLoad = function queueLoad(languages, namespaces, callback) {\n    var _this2 = this;\n\n    // find what needs to be loaded\n    var toLoad = [],\n        pending = [],\n        toLoadLanguages = [],\n        toLoadNamespaces = [];\n\n    languages.forEach(function (lng) {\n      var hasAllNamespaces = true;\n\n      namespaces.forEach(function (ns) {\n        var name = lng + '|' + ns;\n\n        if (_this2.store.hasResourceBundle(lng, ns)) {\n          _this2.state[name] = 2; // loaded\n        } else if (_this2.state[name] < 0) {\n            // nothing to do for err\n          } else if (_this2.state[name] === 1) {\n              if (pending.indexOf(name) < 0) pending.push(name);\n            } else {\n              _this2.state[name] = 1; // pending\n\n              hasAllNamespaces = false;\n\n              if (pending.indexOf(name) < 0) pending.push(name);\n              if (toLoad.indexOf(name) < 0) toLoad.push(name);\n              if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);\n            }\n      });\n\n      if (!hasAllNamespaces) toLoadLanguages.push(lng);\n    });\n\n    if (toLoad.length || pending.length) {\n      this.queue.push({\n        pending: pending,\n        loaded: {},\n        errors: [],\n        callback: callback\n      });\n    }\n\n    return {\n      toLoad: toLoad,\n      pending: pending,\n      toLoadLanguages: toLoadLanguages,\n      toLoadNamespaces: toLoadNamespaces\n    };\n  };\n\n  Connector.prototype.loaded = function loaded(name, err, data) {\n    var _this3 = this;\n\n    var _name$split = name.split('|');\n\n    var _name$split2 = _slicedToArray(_name$split, 2);\n\n    var lng = _name$split2[0];\n    var ns = _name$split2[1];\n\n\n    if (err) this.emit('failedLoading', lng, ns, err);\n\n    if (data) {\n      this.store.addResourceBundle(lng, ns, data);\n    }\n\n    // set loaded\n    this.state[name] = err ? -1 : 2;\n    // callback if ready\n    this.queue.forEach(function (q) {\n      utils.pushPath(q.loaded, [lng], ns);\n      remove(q.pending, name);\n\n      if (err) q.errors.push(err);\n\n      if (q.pending.length === 0 && !q.done) {\n        q.errors.length ? q.callback(q.errors) : q.callback();\n        _this3.emit('loaded', q.loaded);\n        q.done = true;\n      }\n    });\n\n    // remove done load requests\n    this.queue = this.queue.filter(function (q) {\n      return !q.done;\n    });\n  };\n\n  Connector.prototype.read = function read(lng, ns, fcName, tried, wait, callback) {\n    var _this4 = this;\n\n    if (!tried) tried = 0;\n    if (!wait) wait = 250;\n\n    if (!lng.length) return callback(null, {}); // noting to load\n\n    this.backend[fcName](lng, ns, function (err, data) {\n      if (err && data /* = retryFlag */ && tried < 5) {\n        setTimeout(function () {\n          _this4.read.call(_this4, lng, ns, fcName, ++tried, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    });\n  };\n\n  Connector.prototype.load = function load(languages, namespaces, callback) {\n    var _this5 = this;\n\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    var options = _extends({}, this.backend.options, this.options.backend);\n\n    if (typeof languages === 'string') languages = this.services.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    var toLoad = this.queueLoad(languages, namespaces, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback(); // nothing to load and no pendings...callback now\n      return; // pendings will trigger callback\n    }\n\n    // load with multi-load\n    if (options.allowMultiLoading && this.backend.readMulti) {\n      this.read(toLoad.toLoadLanguages, toLoad.toLoadNamespaces, 'readMulti', null, null, function (err, data) {\n        if (err) _this5.logger.warn('loading namespaces ' + toLoad.toLoadNamespaces.join(', ') + ' for languages ' + toLoad.toLoadLanguages.join(', ') + ' via multiloading failed', err);\n        if (!err && data) _this5.logger.log('loaded namespaces ' + toLoad.toLoadNamespaces.join(', ') + ' for languages ' + toLoad.toLoadLanguages.join(', ') + ' via multiloading', data);\n\n        toLoad.toLoad.forEach(function (name) {\n          var _name$split3 = name.split('|');\n\n          var _name$split4 = _slicedToArray(_name$split3, 2);\n\n          var l = _name$split4[0];\n          var n = _name$split4[1];\n\n\n          var bundle = utils.getPath(data, [l, n]);\n          if (bundle) {\n            _this5.loaded(name, err, bundle);\n          } else {\n            var _err = 'loading namespace ' + n + ' for language ' + l + ' via multiloading failed';\n            _this5.loaded(name, _err);\n            _this5.logger.error(_err);\n          }\n        });\n      });\n    }\n\n    // load one by one\n    else {\n        (function () {\n          var readOne = function readOne(name) {\n            var _this6 = this;\n\n            var _name$split5 = name.split('|');\n\n            var _name$split6 = _slicedToArray(_name$split5, 2);\n\n            var lng = _name$split6[0];\n            var ns = _name$split6[1];\n\n\n            this.read(lng, ns, 'read', null, null, function (err, data) {\n              if (err) _this6.logger.warn('loading namespace ' + ns + ' for language ' + lng + ' failed', err);\n              if (!err && data) _this6.logger.log('loaded namespace ' + ns + ' for language ' + lng, data);\n\n              _this6.loaded(name, err, data);\n            });\n          };\n\n          ;\n\n          toLoad.toLoad.forEach(function (name) {\n            readOne.call(_this5, name);\n          });\n        })();\n      }\n  };\n\n  Connector.prototype.reload = function reload(languages, namespaces) {\n    var _this7 = this;\n\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n    }\n    var options = _extends({}, this.backend.options, this.options.backend);\n\n    if (typeof languages === 'string') languages = this.services.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    // load with multi-load\n    if (options.allowMultiLoading && this.backend.readMulti) {\n      this.read(languages, namespaces, 'readMulti', null, null, function (err, data) {\n        if (err) _this7.logger.warn('reloading namespaces ' + namespaces.join(', ') + ' for languages ' + languages.join(', ') + ' via multiloading failed', err);\n        if (!err && data) _this7.logger.log('reloaded namespaces ' + namespaces.join(', ') + ' for languages ' + languages.join(', ') + ' via multiloading', data);\n\n        languages.forEach(function (l) {\n          namespaces.forEach(function (n) {\n            var bundle = utils.getPath(data, [l, n]);\n            if (bundle) {\n              _this7.loaded(l + '|' + n, err, bundle);\n            } else {\n              var _err2 = 'reloading namespace ' + n + ' for language ' + l + ' via multiloading failed';\n              _this7.loaded(l + '|' + n, _err2);\n              _this7.logger.error(_err2);\n            }\n          });\n        });\n      });\n    }\n\n    // load one by one\n    else {\n        (function () {\n          var readOne = function readOne(name) {\n            var _this8 = this;\n\n            var _name$split7 = name.split('|');\n\n            var _name$split8 = _slicedToArray(_name$split7, 2);\n\n            var lng = _name$split8[0];\n            var ns = _name$split8[1];\n\n\n            this.read(lng, ns, 'read', null, null, function (err, data) {\n              if (err) _this8.logger.warn('reloading namespace ' + ns + ' for language ' + lng + ' failed', err);\n              if (!err && data) _this8.logger.log('reloaded namespace ' + ns + ' for language ' + lng, data);\n\n              _this8.loaded(name, err, data);\n            });\n          };\n\n          ;\n\n          languages.forEach(function (l) {\n            namespaces.forEach(function (n) {\n              readOne.call(_this7, l + '|' + n);\n            });\n          });\n        })();\n      }\n  };\n\n  Connector.prototype.saveMissing = function saveMissing(languages, namespace, key, fallbackValue) {\n    if (this.backend && this.backend.create) this.backend.create(languages, namespace, key, fallbackValue);\n\n    // write to store to avoid resending\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  };\n\n  return Connector;\n}(_EventEmitter3.default);\n\nexports.default = Connector;\n},{\"./EventEmitter\":7,\"./logger\":17,\"./utils\":19}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _EventEmitter2 = require('./EventEmitter');\n\nvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(cache, store, services) {\n    var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n    _classCallCheck(this, Connector);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.cache = cache;\n    _this.store = store;\n    _this.services = services;\n    _this.options = options;\n    _this.logger = _logger2.default.create('cacheConnector');\n\n    _this.cache && _this.cache.init && _this.cache.init(services, options.cache, options);\n    return _this;\n  }\n\n  Connector.prototype.load = function load(languages, namespaces, callback) {\n    var _this2 = this;\n\n    if (!this.cache) return callback && callback();\n    var options = _extends({}, this.cache.options, this.options.cache);\n\n    if (typeof languages === 'string') languages = this.services.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    if (options.enabled) {\n      this.cache.load(languages, function (err, data) {\n        if (err) _this2.logger.error('loading languages ' + languages.join(', ') + ' from cache failed', err);\n        if (data) {\n          for (var l in data) {\n            for (var n in data[l]) {\n              if (n === 'i18nStamp') continue;\n              var bundle = data[l][n];\n              if (bundle) _this2.store.addResourceBundle(l, n, bundle);\n            }\n          }\n        }\n        if (callback) callback();\n      });\n    } else {\n      if (callback) callback();\n    }\n  };\n\n  Connector.prototype.save = function save() {\n    if (this.cache && this.options.cache && this.options.cache.enabled) this.cache.save(this.store.data);\n  };\n\n  return Connector;\n}(_EventEmitter3.default);\n\nexports.default = Connector;\n},{\"./EventEmitter\":7,\"./logger\":17,\"./utils\":19}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EventEmitter = function () {\n\tfunction EventEmitter() {\n\t\t_classCallCheck(this, EventEmitter);\n\n\t\tthis.observers = {};\n\t}\n\n\tEventEmitter.prototype.on = function on(events, listener) {\n\t\tvar _this = this;\n\n\t\tevents.split(' ').forEach(function (event) {\n\t\t\t_this.observers[event] = _this.observers[event] || [];\n\t\t\t_this.observers[event].push(listener);\n\t\t});\n\t};\n\n\tEventEmitter.prototype.off = function off(event, listener) {\n\t\tvar _this2 = this;\n\n\t\tif (!this.observers[event]) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.observers[event].forEach(function () {\n\t\t\tif (!listener) {\n\t\t\t\tdelete _this2.observers[event];\n\t\t\t} else {\n\t\t\t\tvar index = _this2.observers[event].indexOf(listener);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\t_this2.observers[event].splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tEventEmitter.prototype.emit = function emit(event) {\n\t\tfor (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t\t\targs[_key - 1] = arguments[_key];\n\t\t}\n\n\t\tif (this.observers[event]) {\n\t\t\tthis.observers[event].forEach(function (observer) {\n\t\t\t\tobserver.apply(undefined, args);\n\t\t\t});\n\t\t}\n\n\t\tif (this.observers['*']) {\n\t\t\tthis.observers['*'].forEach(function (observer) {\n\t\t\t\tvar _ref;\n\n\t\t\t\tobserver.apply(observer, (_ref = [event]).concat.apply(_ref, args));\n\t\t\t});\n\t\t}\n\t};\n\n\treturn EventEmitter;\n}();\n\nexports.default = EventEmitter;\n},{}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Interpolator = function () {\n  function Interpolator() {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    _classCallCheck(this, Interpolator);\n\n    this.logger = _logger2.default.create('interpolator');\n\n    this.init(options, true);\n  }\n\n  Interpolator.prototype.init = function init() {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var reset = arguments[1];\n\n    if (reset) this.options = options;\n    if (!options.interpolation) options.interpolation = { escapeValue: true };\n\n    var iOpts = options.interpolation;\n\n    this.escapeValue = iOpts.escapeValue;\n\n    this.prefix = iOpts.prefix ? utils.regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n    this.suffix = iOpts.suffix ? utils.regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n\n    this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n\n    this.nestingPrefix = iOpts.nestingPrefix ? utils.regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || utils.regexEscape('$t(');\n    this.nestingSuffix = iOpts.nestingSuffix ? utils.regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || utils.regexEscape(')');\n\n    // the regexp\n    var regexpStr = this.prefix + '(.+?)' + this.suffix;\n    this.regexp = new RegExp(regexpStr, 'g');\n\n    var regexpUnescapeStr = this.prefix + this.unescapePrefix + '(.+?)' + this.unescapeSuffix + this.suffix;\n    this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n\n    var nestingRegexpStr = this.nestingPrefix + '(.+?)' + this.nestingSuffix;\n    this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n  };\n\n  Interpolator.prototype.reset = function reset() {\n    if (this.options) this.init(this.options);\n  };\n\n  Interpolator.prototype.interpolate = function interpolate(str, data) {\n    var match = void 0,\n        value = void 0;\n\n    function regexSafe(val) {\n      return val.replace(/\\$/g, '$$$$');\n    }\n\n    // unescape if has unescapePrefix/Suffix\n    while (match = this.regexpUnescape.exec(str)) {\n      var _value = utils.getPath(data, match[1].trim());\n      str = str.replace(match[0], _value);\n      this.regexpUnescape.lastIndex = 0;\n    }\n\n    // regular escape on demand\n    while (match = this.regexp.exec(str)) {\n      value = utils.getPath(data, match[1].trim());\n      if (typeof value !== 'string') value = utils.makeString(value);\n      if (!value) {\n        this.logger.warn('missed to pass in variable ' + match[1] + ' for interpolating ' + str);\n        value = '';\n      }\n      value = this.escapeValue ? regexSafe(utils.escape(value)) : regexSafe(value);\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  };\n\n  Interpolator.prototype.nest = function nest(str, fc) {\n    var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n    var match = void 0,\n        value = void 0;\n\n    var clonedOptions = JSON.parse(JSON.stringify(options));\n    clonedOptions.applyPostProcessor = false; // avoid post processing on nested lookup\n\n    function regexSafe(val) {\n      return val.replace(/\\$/g, '$$$$');\n    }\n\n    // if value is something like \"myKey\": \"lorem $(anotherKey, { \"count\": {{aValueInOptions}} })\"\n    function handleHasOptions(key) {\n      if (key.indexOf(',') < 0) return key;\n\n      var p = key.split(',');\n      key = p.shift();\n      var optionsString = p.join(',');\n      optionsString = this.interpolate(optionsString, clonedOptions);\n\n      try {\n        clonedOptions = JSON.parse(optionsString);\n      } catch (e) {\n        this.logger.error('failed parsing options string in nesting for key ' + key, e);\n      }\n\n      return key;\n    }\n\n    // regular escape on demand\n    while (match = this.nestingRegexp.exec(str)) {\n      value = fc(handleHasOptions.call(this, match[1].trim()), clonedOptions);\n      if (typeof value !== 'string') value = utils.makeString(value);\n      if (!value) {\n        this.logger.warn('missed to pass in variable ' + match[1] + ' for interpolating ' + str);\n        value = '';\n      }\n      value = this.escapeValue ? regexSafe(utils.escape(value)) : regexSafe(value);\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  };\n\n  return Interpolator;\n}();\n\nexports.default = Interpolator;\n},{\"./logger\":17,\"./utils\":19}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar LanguageUtil = function () {\n  function LanguageUtil(options) {\n    _classCallCheck(this, LanguageUtil);\n\n    this.options = options;\n\n    this.whitelist = this.options.whitelist || false;\n    this.logger = _logger2.default.create('languageUtils');\n  }\n\n  LanguageUtil.prototype.getLanguagePartFromCode = function getLanguagePartFromCode(code) {\n    if (code.indexOf('-') < 0) return code;\n\n    var specialCases = ['NB-NO', 'NN-NO', 'nb-NO', 'nn-NO', 'nb-no', 'nn-no'];\n    var p = code.split('-');\n    return this.formatLanguageCode(specialCases.indexOf(code) > -1 ? p[1].toLowerCase() : p[0]);\n  };\n\n  LanguageUtil.prototype.formatLanguageCode = function formatLanguageCode(code) {\n    // http://www.iana.org/assignments/language-tags/language-tags.xhtml\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n      var p = code.split('-');\n\n      if (this.options.lowerCaseLng) {\n        p = p.map(function (part) {\n          return part.toLowerCase();\n        });\n      } else if (p.length === 2) {\n        p[0] = p[0].toLowerCase();\n        p[1] = p[1].toUpperCase();\n\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n      } else if (p.length === 3) {\n        p[0] = p[0].toLowerCase();\n\n        // if lenght 2 guess it's a country\n        if (p[1].length === 2) p[1] = p[1].toUpperCase();\n        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n      }\n\n      return p.join('-');\n    } else {\n      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n    }\n  };\n\n  LanguageUtil.prototype.isWhitelisted = function isWhitelisted(code, exactMatch) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitWhitelist && !exactMatch) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.whitelist || !this.whitelist.length || this.whitelist.indexOf(code) > -1 ? true : false;\n  };\n\n  LanguageUtil.prototype.toResolveHierarchy = function toResolveHierarchy(code, fallbackCode) {\n    var _this = this;\n\n    fallbackCode = fallbackCode || this.options.fallbackLng || [];\n    if (typeof fallbackCode === 'string') fallbackCode = [fallbackCode];\n\n    var codes = [];\n    var addCode = function addCode(code) {\n      var exactMatch = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n      if (_this.isWhitelisted(code, exactMatch)) {\n        codes.push(code);\n      } else {\n        _this.logger.warn('rejecting non-whitelisted language code: ' + code);\n      }\n    };\n\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code), true);\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (typeof code === 'string') {\n      addCode(this.formatLanguageCode(code));\n    }\n\n    fallbackCode.forEach(function (fc) {\n      if (codes.indexOf(fc) < 0) addCode(_this.formatLanguageCode(fc));\n    });\n\n    return codes;\n  };\n\n  return LanguageUtil;\n}();\n\n;\n\nexports.default = LanguageUtil;\n},{\"./logger\":17}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// definition http://translate.sourceforge.net/wiki/l10n/pluralforms\n/* eslint-disable */\nvar sets = [{ lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'tg', 'ti', 'tr', 'uz', 'wa'], nr: [1, 2], fc: 1 }, { lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'es_ar', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'he', 'hi', 'hu', 'hy', 'ia', 'it', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt', 'pt_br', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'], nr: [1, 2], fc: 2 }, { lngs: ['ay', 'bo', 'cgg', 'fa', 'id', 'ja', 'jbo', 'ka', 'kk', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'], nr: [1], fc: 3 }, { lngs: ['be', 'bs', 'dz', 'hr', 'ru', 'sr', 'uk'], nr: [1, 2, 5], fc: 4 }, { lngs: ['ar'], nr: [0, 1, 2, 3, 11, 100], fc: 5 }, { lngs: ['cs', 'sk'], nr: [1, 2, 5], fc: 6 }, { lngs: ['csb', 'pl'], nr: [1, 2, 5], fc: 7 }, { lngs: ['cy'], nr: [1, 2, 3, 8], fc: 8 }, { lngs: ['fr'], nr: [1, 2], fc: 9 }, { lngs: ['ga'], nr: [1, 2, 3, 7, 11], fc: 10 }, { lngs: ['gd'], nr: [1, 2, 3, 20], fc: 11 }, { lngs: ['is'], nr: [1, 2], fc: 12 }, { lngs: ['jv'], nr: [0, 1], fc: 13 }, { lngs: ['kw'], nr: [1, 2, 3, 4], fc: 14 }, { lngs: ['lt'], nr: [1, 2, 10], fc: 15 }, { lngs: ['lv'], nr: [1, 2, 0], fc: 16 }, { lngs: ['mk'], nr: [1, 2], fc: 17 }, { lngs: ['mnk'], nr: [0, 1, 2], fc: 18 }, { lngs: ['mt'], nr: [1, 2, 11, 20], fc: 19 }, { lngs: ['or'], nr: [2, 1], fc: 2 }, { lngs: ['ro'], nr: [1, 2, 20], fc: 20 }, { lngs: ['sl'], nr: [5, 1, 2, 3], fc: 21 }];\n\nvar _rulesPluralsTypes = {\n  1: function _(n) {\n    return Number(n > 1);\n  },\n  2: function _(n) {\n    return Number(n != 1);\n  },\n  3: function _(n) {\n    return 0;\n  },\n  4: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function _(n) {\n    return Number(n === 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function _(n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function _(n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function _(n) {\n    return Number(n >= 2);\n  },\n  10: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function _(n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function _(n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function _(n) {\n    return Number(n !== 0);\n  },\n  14: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function _(n) {\n    return Number(n == 1 || n % 10 == 1 ? 0 : 1);\n  },\n  18: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function _(n) {\n    return Number(n == 1 ? 0 : n === 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function _(n) {\n    return Number(n == 1 ? 0 : n === 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function _(n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  }\n};\n/* eslint-enable */\n\nfunction createRules() {\n  var l,\n      rules = {};\n  sets.forEach(function (set) {\n    set.lngs.forEach(function (l) {\n      return rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\n\nvar PluralResolver = function () {\n  function PluralResolver(languageUtils) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    _classCallCheck(this, PluralResolver);\n\n    this.languageUtils = languageUtils;\n    this.options = options;\n\n    this.logger = _logger2.default.create('pluralResolver');\n\n    this.rules = createRules();\n  }\n\n  PluralResolver.prototype.addRule = function addRule(lng, obj) {\n    this.rules[lng] = obj;\n  };\n\n  PluralResolver.prototype.getRule = function getRule(code) {\n    return this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n  };\n\n  PluralResolver.prototype.needsPlural = function needsPlural(code) {\n    var rule = this.getRule(code);\n\n    return rule && rule.numbers.length <= 1 ? false : true;\n  };\n\n  PluralResolver.prototype.getSuffix = function getSuffix(code, count) {\n    var _this = this;\n\n    var rule = this.getRule(code);\n\n    if (rule) {\n      var _ret = function () {\n        if (rule.numbers.length === 1) return {\n            v: ''\n          }; // only singular\n\n        var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n        var suffix = rule.numbers[idx];\n\n        // special treatment for lngs only having singular and plural\n        if (rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          if (suffix === 2) {\n            suffix = 'plural';\n          } else if (suffix === 1) {\n            suffix = '';\n          }\n        }\n\n        var returnSuffix = function returnSuffix() {\n          return _this.options.prepend && suffix.toString() ? _this.options.prepend + suffix.toString() : suffix.toString();\n        };\n\n        // COMPATIBILITY JSON\n        // v1\n        if (_this.options.compatibilityJSON === 'v1') {\n          if (suffix === 1) return {\n              v: ''\n            };\n          if (typeof suffix === 'number') return {\n              v: '_plural_' + suffix.toString()\n            };\n          return {\n            v: returnSuffix()\n          };\n        }\n        // v2\n        else if (_this.options.compatibilityJSON === 'v2' || rule.numbers.length === 2 && rule.numbers[0] === 1) {\n            return {\n              v: returnSuffix()\n            };\n          }\n          // v3 - gettext index\n          else if (rule.numbers.length === 2 && rule.numbers[0] === 1) {\n              return {\n                v: returnSuffix()\n              };\n            }\n        return {\n          v: _this.options.prepend && idx.toString() ? _this.options.prepend + idx.toString() : idx.toString()\n        };\n      }();\n\n      if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n    } else {\n      this.logger.warn('no plural rule found for: ' + code);\n      return '';\n    }\n  };\n\n  return PluralResolver;\n}();\n\n;\n\nexports.default = PluralResolver;\n},{\"./logger\":17}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _EventEmitter2 = require('./EventEmitter');\n\nvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nvar ResourceStore = function (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n\n  function ResourceStore() {\n    var data = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var options = arguments.length <= 1 || arguments[1] === undefined ? { ns: ['translation'], defaultNS: 'translation' } : arguments[1];\n\n    _classCallCheck(this, ResourceStore);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.data = data;\n    _this.options = options;\n    return _this;\n  }\n\n  ResourceStore.prototype.addNamespaces = function addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  };\n\n  ResourceStore.prototype.removeNamespaces = function removeNamespaces(ns) {\n    var index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  };\n\n  ResourceStore.prototype.getResource = function getResource(lng, ns, key) {\n    var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n    var keySeparator = options.keySeparator || this.options.keySeparator;\n    if (keySeparator === undefined) keySeparator = '.';\n\n    var path = [lng, ns];\n    if (key && typeof key !== 'string') path = path.concat(key);\n    if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    }\n\n    return utils.getPath(this.data, path);\n  };\n\n  ResourceStore.prototype.addResource = function addResource(lng, ns, key, value) {\n    var options = arguments.length <= 4 || arguments[4] === undefined ? { silent: false } : arguments[4];\n\n    var keySeparator = this.options.keySeparator;\n    if (keySeparator === undefined) keySeparator = '.';\n\n    var path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n\n    utils.setPath(this.data, path, value);\n\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  };\n\n  ResourceStore.prototype.addResources = function addResources(lng, ns, resources) {\n    for (var m in resources) {\n      if (typeof resources[m] === 'string') this.addResource(lng, ns, m, resources[m], { silent: true });\n    }\n    this.emit('added', lng, ns, resources);\n  };\n\n  ResourceStore.prototype.addResourceBundle = function addResourceBundle(lng, ns, resources, deep, overwrite) {\n    var path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n\n    var pack = utils.getPath(this.data, path) || {};\n\n    if (deep) {\n      utils.deepExtend(pack, resources, overwrite);\n    } else {\n      pack = _extends({}, pack, resources);\n    }\n\n    utils.setPath(this.data, path, pack);\n\n    this.emit('added', lng, ns, resources);\n  };\n\n  ResourceStore.prototype.removeResourceBundle = function removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n\n    this.emit('removed', lng, ns);\n  };\n\n  ResourceStore.prototype.hasResourceBundle = function hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  };\n\n  ResourceStore.prototype.getResourceBundle = function getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n\n    // TODO: COMPATIBILITY remove extend in v2.1.0\n    if (this.options.compatibilityAPI === 'v1') return _extends({}, this.getResource(lng, ns));\n\n    return this.getResource(lng, ns);\n  };\n\n  ResourceStore.prototype.toJSON = function toJSON() {\n    return this.data;\n  };\n\n  return ResourceStore;\n}(_EventEmitter3.default);\n\nexports.default = ResourceStore;\n},{\"./EventEmitter\":7,\"./utils\":19}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _EventEmitter2 = require('./EventEmitter');\n\nvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\nvar _postProcessor = require('./postProcessor');\n\nvar _postProcessor2 = _interopRequireDefault(_postProcessor);\n\nvar _v = require('./compatibility/v1');\n\nvar compat = _interopRequireWildcard(_v);\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nvar Translator = function (_EventEmitter) {\n  _inherits(Translator, _EventEmitter);\n\n  function Translator(services) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    _classCallCheck(this, Translator);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    utils.copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector'], services, _this);\n\n    _this.options = options;\n    _this.logger = _logger2.default.create('translator');\n    return _this;\n  }\n\n  Translator.prototype.changeLanguage = function changeLanguage(lng) {\n    if (lng) this.language = lng;\n  };\n\n  Translator.prototype.exists = function exists(key) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? { interpolation: {} } : arguments[1];\n\n    if (this.options.compatibilityAPI === 'v1') {\n      options = compat.convertTOptions(options);\n    }\n\n    return this.resolve(key, options) !== undefined;\n  };\n\n  Translator.prototype.extractFromKey = function extractFromKey(key, options) {\n    var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n\n    var namespaces = options.ns || this.options.defaultNS;\n    if (nsSeparator && key.indexOf(nsSeparator) > -1) {\n      var parts = key.split(nsSeparator);\n      namespaces = parts[0];\n      key = parts[1];\n    }\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    return {\n      key: key,\n      namespaces: namespaces\n    };\n  };\n\n  Translator.prototype.translate = function translate(keys) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) !== 'object') {\n      options = this.options.overloadTranslationOptionHandler(arguments);\n    } else if (this.options.compatibilityAPI === 'v1') {\n      options = compat.convertTOptions(options);\n    }\n\n    // non valid keys handling\n    if (keys === undefined || keys === null || keys === '') return '';\n    if (typeof keys === 'number') keys = String(keys);\n    if (typeof keys === 'string') keys = [keys];\n\n    // return key on CIMode\n    var lng = options.lng || this.language;\n    if (lng && lng.toLowerCase() === 'cimode') return keys[keys.length - 1];\n\n    // separators\n    var keySeparator = options.keySeparator || this.options.keySeparator || '.';\n\n    // get namespace(s)\n\n    var _extractFromKey = this.extractFromKey(keys[keys.length - 1], options);\n\n    var key = _extractFromKey.key;\n    var namespaces = _extractFromKey.namespaces;\n\n    var namespace = namespaces[namespaces.length - 1];\n\n    // resolve from store\n    var res = this.resolve(keys, options);\n\n    var resType = Object.prototype.toString.apply(res);\n    var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n\n    // object\n    if (res && typeof res !== 'string' && noObject.indexOf(resType) < 0 && !(joinArrays && resType === '[object Array]')) {\n      if (!options.returnObjects && !this.options.returnObjects) {\n        this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        return this.options.returnedObjectHandler ? this.options.returnedObjectHandler(key, res, options) : 'key \\'' + key + ' (' + this.language + ')\\' returned an object instead of string.';\n      }\n\n      var copy = resType === '[object Array]' ? [] : {}; // apply child translation on a copy\n\n      for (var m in res) {\n        copy[m] = this.translate('' + key + keySeparator + m, _extends({ joinArrays: false, ns: namespaces }, options));\n      }\n      res = copy;\n    }\n    // array special treatment\n    else if (joinArrays && resType === '[object Array]') {\n        res = res.join(joinArrays);\n        if (res) res = this.extendTranslation(res, key, options);\n      }\n      // string, empty or null\n      else {\n          var usedDefault = false,\n              usedKey = false;\n\n          // fallback value\n          if (!this.isValidLookup(res) && options.defaultValue !== undefined) {\n            usedDefault = true;\n            res = options.defaultValue;\n          }\n          if (!this.isValidLookup(res)) {\n            usedKey = true;\n            res = key;\n          }\n\n          // save missing\n          if (usedKey || usedDefault) {\n            this.logger.log('missingKey', lng, namespace, key, res);\n\n            var lngs = [];\n            if (this.options.saveMissingTo === 'fallback' && this.options.fallbackLng && this.options.fallbackLng[0]) {\n              for (var i = 0; i < this.options.fallbackLng.length; i++) {\n                lngs.push(this.options.fallbackLng[i]);\n              }\n            } else if (this.options.saveMissingTo === 'all') {\n              lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n            } else {\n              //(this.options.saveMissingTo === 'current' || (this.options.saveMissingTo === 'fallback' && this.options.fallbackLng[0] === false) ) {\n              lngs.push(options.lng || this.language);\n            }\n\n            if (this.options.saveMissing) {\n              if (this.options.missingKeyHandler) {\n                this.options.missingKeyHandler(lngs, namespace, key, res);\n              } else if (this.backendConnector && this.backendConnector.saveMissing) {\n                this.backendConnector.saveMissing(lngs, namespace, key, res);\n              }\n            }\n\n            this.emit('missingKey', lngs, namespace, key, res);\n          }\n\n          // extend\n          res = this.extendTranslation(res, key, options);\n\n          // append namespace if still key\n          if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = namespace + ':' + key;\n\n          // parseMissingKeyHandler\n          if (usedKey && this.options.parseMissingKeyHandler) res = this.options.parseMissingKeyHandler(res);\n        }\n\n    // return\n    return res;\n  };\n\n  Translator.prototype.extendTranslation = function extendTranslation(res, key, options) {\n    var _this2 = this;\n\n    if (options.interpolation) this.interpolator.init(options);\n\n    // interpolate\n    var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n    if (this.options.interpolation.defaultVariables) data = _extends({}, this.options.interpolation.defaultVariables, data);\n    res = this.interpolator.interpolate(res, data);\n\n    // nesting\n    res = this.interpolator.nest(res, function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _this2.translate.apply(_this2, args);\n    }, options);\n\n    if (options.interpolation) this.interpolator.reset();\n\n    // post process\n    var postProcess = options.postProcess || this.options.postProcess;\n    var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n\n    if (res !== undefined && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n      res = _postProcessor2.default.handle(postProcessorNames, res, key, options, this);\n    }\n\n    return res;\n  };\n\n  Translator.prototype.resolve = function resolve(keys) {\n    var _this3 = this;\n\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var found = void 0;\n\n    if (typeof keys === 'string') keys = [keys];\n\n    // forEach possible key\n    keys.forEach(function (k) {\n      if (_this3.isValidLookup(found)) return;\n\n      var _extractFromKey2 = _this3.extractFromKey(k, options);\n\n      var key = _extractFromKey2.key;\n      var namespaces = _extractFromKey2.namespaces;\n\n      if (_this3.options.fallbackNS) namespaces = namespaces.concat(_this3.options.fallbackNS);\n\n      var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      var needsContextHandling = options.context !== undefined && typeof options.context === 'string' && options.context !== '';\n\n      var codes = options.lngs ? options.lngs : _this3.languageUtils.toResolveHierarchy(options.lng || _this3.language);\n\n      namespaces.forEach(function (ns) {\n        if (_this3.isValidLookup(found)) return;\n\n        codes.forEach(function (code) {\n          if (_this3.isValidLookup(found)) return;\n\n          var finalKey = key;\n          var finalKeys = [finalKey];\n\n          var pluralSuffix = void 0;\n          if (needsPluralHandling) pluralSuffix = _this3.pluralResolver.getSuffix(code, options.count);\n\n          // fallback for plural if context not found\n          if (needsPluralHandling && needsContextHandling) finalKeys.push(finalKey + pluralSuffix);\n\n          // get key for context if needed\n          if (needsContextHandling) finalKeys.push(finalKey += '' + _this3.options.contextSeparator + options.context);\n\n          // get key for plural if needed\n          if (needsPluralHandling) finalKeys.push(finalKey += pluralSuffix);\n\n          // iterate over finalKeys starting with most specific pluralkey (-> contextkey only) -> singularkey only\n          var possibleKey = void 0;\n          while (possibleKey = finalKeys.pop()) {\n            if (_this3.isValidLookup(found)) continue;\n            found = _this3.getResource(code, ns, possibleKey, options);\n          }\n        });\n      });\n    });\n\n    return found;\n  };\n\n  Translator.prototype.isValidLookup = function isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  };\n\n  Translator.prototype.getResource = function getResource(code, ns, key) {\n    var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n    return this.resourceStore.getResource(code, ns, key, options);\n  };\n\n  return Translator;\n}(_EventEmitter3.default);\n\nexports.default = Translator;\n},{\"./EventEmitter\":7,\"./compatibility/v1\":13,\"./logger\":17,\"./postProcessor\":18,\"./utils\":19}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertAPIOptions = convertAPIOptions;\nexports.convertJSONOptions = convertJSONOptions;\nexports.convertTOptions = convertTOptions;\nexports.appendBackwardsAPI = appendBackwardsAPI;\n\nvar _logger = require('../logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction convertInterpolation(options) {\n\n  options.interpolation = {\n    unescapeSuffix: 'HTML'\n  };\n\n  options.interpolation.prefix = options.interpolationPrefix || '__';\n  options.interpolation.suffix = options.interpolationSuffix || '__';\n  options.interpolation.escapeValue = options.escapeInterpolation || false;\n\n  options.interpolation.nestingPrefix = options.reusePrefix || '$t(';\n  options.interpolation.nestingSuffix = options.reuseSuffix || ')';\n\n  return options;\n}\n\nfunction convertAPIOptions(options) {\n  if (options.resStore) options.resources = options.resStore;\n\n  if (options.ns && options.ns.defaultNs) {\n    options.defaultNS = options.ns.defaultNs;\n    options.ns = options.ns.namespaces;\n  } else {\n    options.defaultNS = options.ns || 'translation';\n  }\n\n  if (options.fallbackToDefaultNS && options.defaultNS) options.fallbackNS = options.defaultNS;\n\n  options.saveMissing = options.sendMissing;\n  options.saveMissingTo = options.sendMissingTo || 'current';\n  options.returnNull = options.fallbackOnNull ? false : true;\n  options.returnEmptyString = options.fallbackOnEmpty ? false : true;\n  options.returnObjects = options.returnObjectTrees;\n  options.joinArrays = '\\n';\n\n  options.returnedObjectHandler = options.objectTreeKeyHandler;\n  options.parseMissingKeyHandler = options.parseMissingKey;\n  options.appendNamespaceToMissingKey = true;\n\n  options.nsSeparator = options.nsseparator;\n  options.keySeparator = options.keyseparator;\n\n  if (options.shortcutFunction === 'sprintf') {\n    options.overloadTranslationOptionHandler = function (args) {\n      var values = [];\n\n      for (var i = 1; i < args.length; i++) {\n        values.push(args[i]);\n      }\n\n      return {\n        postProcess: 'sprintf',\n        sprintf: values\n      };\n    };\n  }\n\n  options.whitelist = options.lngWhitelist;\n  options.preload = options.preload;\n  if (options.load === 'current') options.load = 'currentOnly';\n  if (options.load === 'unspecific') options.load = 'languageOnly';\n\n  // backend\n  options.backend = options.backend || {};\n  options.backend.loadPath = options.resGetPath || 'locales/__lng__/__ns__.json';\n  options.backend.addPath = options.resPostPath || 'locales/add/__lng__/__ns__';\n  options.backend.allowMultiLoading = options.dynamicLoad;\n\n  // cache\n  options.cache = options.cache || {};\n  options.cache.prefix = 'res_';\n  options.cache.expirationTime = 7 * 24 * 60 * 60 * 1000;\n  options.cache.enabled = options.useLocalStorage ? true : false;\n\n  options = convertInterpolation(options);\n  if (options.defaultVariables) options.interpolation.defaultVariables = options.defaultVariables;\n\n  // TODO: deprecation\n  // if (options.getAsync === false) throw deprecation error\n\n  return options;\n}\n\nfunction convertJSONOptions(options) {\n  options = convertInterpolation(options);\n  options.joinArrays = '\\n';\n\n  return options;\n}\n\nfunction convertTOptions(options) {\n  if (options.interpolationPrefix || options.interpolationSuffix || options.escapeInterpolation) {\n    options = convertInterpolation(options);\n  }\n\n  options.nsSeparator = options.nsseparator;\n  options.keySeparator = options.keyseparator;\n\n  options.returnObjects = options.returnObjectTrees;\n\n  return options;\n}\n\nfunction appendBackwardsAPI(i18n) {\n  i18n.lng = function () {\n    _logger2.default.deprecate('i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup.');\n    return i18n.services.languageUtils.toResolveHierarchy(i18n.language)[0];\n  };\n\n  i18n.preload = function (lngs, cb) {\n    _logger2.default.deprecate('i18next.preload() can be replaced with i18next.loadLanguages()');\n    i18n.loadLanguages(lngs, cb);\n  };\n\n  i18n.setLng = function (lng, options, callback) {\n    _logger2.default.deprecate('i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace.');\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!options) options = {};\n\n    if (options.fixLng === true) {\n      if (callback) return callback(null, i18n.getFixedT(lng));\n    }\n\n    i18n.changeLanguage(lng, callback);\n  };\n\n  i18n.addPostProcessor = function (name, fc) {\n    _logger2.default.deprecate('i18next.addPostProcessor() can be replaced by i18next.use({ type: \\'postProcessor\\', name: \\'name\\', process: fc })');\n    i18n.use({\n      type: 'postProcessor',\n      name: name,\n      process: fc\n    });\n  };\n}\n},{\"../logger\":17}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get = get;\nexports.transformOptions = transformOptions;\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false, // string or array of namespaces\n\n    whitelist: false, // array with whitelisted languages\n    nonExplicitWhitelist: false,\n    load: 'all', // | currentOnly | languageOnly\n    preload: false, // array with preload languages\n\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n\n    saveMissing: false, // enable to send missing values\n    saveMissingTo: 'fallback', // 'current' || 'all'\n    missingKeyHandler: false, // function(lng, ns, key, fallbackValue) -> override if prefer on handling\n\n    postProcess: false, // string or array of postProcessor names\n    returnNull: true, // allows null value as valid translation\n    returnEmptyString: true, // allows empty string value as valid translation\n    returnObjects: false,\n    joinArrays: false, // or string to join array\n    returnedObjectHandler: function returnedObjectHandler() {}, // function(key, value, options) triggered if key returns object but returnObjects is set to false\n    parseMissingKeyHandler: false, // function(key) parsed a key that was not found in t() before returning\n    appendNamespaceToMissingKey: false,\n    overloadTranslationOptionHandler: function overloadTranslationOptionHandler(args) {\n      return { defaultValue: args[1] };\n    },\n\n    interpolation: {\n      escapeValue: true,\n      prefix: '{{',\n      suffix: '}}',\n      // prefixEscaped: '{{',\n      // suffixEscaped: '}}',\n      // unescapeSuffix: '',\n      unescapePrefix: '-',\n\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      // nestingPrefixEscaped: '$t(',\n      // nestingSuffixEscaped: ')',\n      defaultVariables: undefined // object that can have values to interpolate on - extends passed in interpolation data\n    }\n  };\n}\n\nfunction transformOptions(options) {\n  // create namespace object if namespace is passed in as string\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n\n  // extend whitelist with cimode\n  if (options.whitelist && options.whitelist.indexOf('cimode') < 0) options.whitelist.push('cimode');\n\n  return options;\n}\n},{}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _EventEmitter2 = require('./EventEmitter');\n\nvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\nvar _ResourceStore = require('./ResourceStore');\n\nvar _ResourceStore2 = _interopRequireDefault(_ResourceStore);\n\nvar _Translator = require('./Translator');\n\nvar _Translator2 = _interopRequireDefault(_Translator);\n\nvar _LanguageUtils = require('./LanguageUtils');\n\nvar _LanguageUtils2 = _interopRequireDefault(_LanguageUtils);\n\nvar _PluralResolver = require('./PluralResolver');\n\nvar _PluralResolver2 = _interopRequireDefault(_PluralResolver);\n\nvar _Interpolator = require('./Interpolator');\n\nvar _Interpolator2 = _interopRequireDefault(_Interpolator);\n\nvar _BackendConnector = require('./BackendConnector');\n\nvar _BackendConnector2 = _interopRequireDefault(_BackendConnector);\n\nvar _CacheConnector = require('./CacheConnector');\n\nvar _CacheConnector2 = _interopRequireDefault(_CacheConnector);\n\nvar _defaults2 = require('./defaults');\n\nvar _postProcessor = require('./postProcessor');\n\nvar _postProcessor2 = _interopRequireDefault(_postProcessor);\n\nvar _v = require('./compatibility/v1');\n\nvar compat = _interopRequireWildcard(_v);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nvar I18n = function (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n\n  function I18n() {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var callback = arguments[1];\n\n    _classCallCheck(this, I18n);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.options = (0, _defaults2.transformOptions)(options);\n    _this.services = {};\n    _this.logger = _logger2.default;\n    _this.modules = {};\n\n    if (callback && !_this.isInitialized) _this.init(options, callback);\n    return _this;\n  }\n\n  I18n.prototype.init = function init(options, callback) {\n    var _this2 = this;\n\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!options) options = {};\n\n    if (options.compatibilityAPI === 'v1') {\n      this.options = _extends({}, (0, _defaults2.get)(), (0, _defaults2.transformOptions)(compat.convertAPIOptions(options)), {});\n    } else if (options.compatibilityJSON === 'v1') {\n      this.options = _extends({}, (0, _defaults2.get)(), (0, _defaults2.transformOptions)(compat.convertJSONOptions(options)), {});\n    } else {\n      this.options = _extends({}, (0, _defaults2.get)(), this.options, (0, _defaults2.transformOptions)(options));\n    }\n    if (!callback) callback = function callback() {};\n\n    function createClassOnDemand(ClassOrObject) {\n      if (!ClassOrObject) return;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    }\n\n    // init services\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        _logger2.default.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        _logger2.default.init(null, this.options);\n      }\n\n      var lu = new _LanguageUtils2.default(this.options);\n      this.store = new _ResourceStore2.default(this.options.resources, this.options);\n\n      var s = this.services;\n      s.logger = _logger2.default;\n      s.resourceStore = this.store;\n      s.resourceStore.on('added removed', function (lng, ns) {\n        s.cacheConnector.save();\n      });\n      s.languageUtils = lu;\n      s.pluralResolver = new _PluralResolver2.default(lu, { prepend: this.options.pluralSeparator, compatibilityJSON: this.options.compatibilityJSON });\n      s.interpolator = new _Interpolator2.default(this.options);\n\n      s.backendConnector = new _BackendConnector2.default(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      // pipe events from backendConnector\n      s.backendConnector.on('*', function (event) {\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        _this2.emit.apply(_this2, [event].concat(args));\n      });\n\n      s.backendConnector.on('loaded', function (loaded) {\n        s.cacheConnector.save();\n      });\n\n      s.cacheConnector = new _CacheConnector2.default(createClassOnDemand(this.modules.cache), s.resourceStore, s, this.options);\n      // pipe events from backendConnector\n      s.cacheConnector.on('*', function (event) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n\n        _this2.emit.apply(_this2, [event].concat(args));\n      });\n\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        s.languageDetector.init(s, this.options.detection, this.options);\n      }\n\n      this.translator = new _Translator2.default(this.services, this.options);\n      // pipe events from translator\n      this.translator.on('*', function (event) {\n        for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n          args[_key3 - 1] = arguments[_key3];\n        }\n\n        _this2.emit.apply(_this2, [event].concat(args));\n      });\n    }\n\n    // append api\n    var storeApi = ['getResource', 'addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle', 'hasResourceBundle', 'getResourceBundle'];\n    storeApi.forEach(function (fcName) {\n      _this2[fcName] = function () {\n        return this.store[fcName].apply(this.store, arguments);\n      };\n    });\n\n    // TODO: COMPATIBILITY remove this\n    if (this.options.compatibilityAPI === 'v1') compat.appendBackwardsAPI(this);\n\n    var load = function load() {\n      _this2.changeLanguage(_this2.options.lng, function (err, t) {\n        _this2.emit('initialized', _this2.options);\n        _this2.logger.log('initialized', _this2.options);\n\n        callback(err, t);\n      });\n    };\n\n    if (this.options.resources || !this.options.initImmediate) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n\n    return this;\n  };\n\n  I18n.prototype.loadResources = function loadResources(callback) {\n    var _this3 = this;\n\n    if (!callback) callback = function callback() {};\n\n    if (!this.options.resources) {\n      var _ret = function () {\n        if (_this3.language && _this3.language.toLowerCase() === 'cimode') return {\n            v: callback()\n          }; // avoid loading resources for cimode\n\n        var toLoad = [];\n\n        var append = function append(lng) {\n          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n          lngs.forEach(function (l) {\n            if (toLoad.indexOf(l) < 0) toLoad.push(l);\n          });\n        };\n\n        append(_this3.language);\n\n        if (_this3.options.preload) {\n          _this3.options.preload.forEach(function (l) {\n            append(l);\n          });\n        }\n\n        _this3.services.cacheConnector.load(toLoad, _this3.options.ns, function () {\n          _this3.services.backendConnector.load(toLoad, _this3.options.ns, callback);\n        });\n      }();\n\n      if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n    } else {\n      callback(null);\n    }\n  };\n\n  I18n.prototype.reloadResources = function reloadResources(lngs, ns) {\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    this.services.backendConnector.reload(lngs, ns);\n  };\n\n  I18n.prototype.use = function use(module) {\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n\n    if (module.type === 'cache') {\n      this.modules.cache = module;\n    }\n\n    if (module.type === 'logger' || module.log && module.warn && module.warn) {\n      this.modules.logger = module;\n    }\n\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n\n    if (module.type === 'postProcessor') {\n      _postProcessor2.default.addPostProcessor(module);\n    }\n\n    return this;\n  };\n\n  I18n.prototype.changeLanguage = function changeLanguage(lng, callback) {\n    var _this4 = this;\n\n    var done = function done(err) {\n      if (lng) {\n        _this4.emit('languageChanged', lng);\n        _this4.logger.log('languageChanged', lng);\n      }\n\n      if (callback) callback(err, function () {\n        for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n          args[_key4] = arguments[_key4];\n        }\n\n        return _this4.t.apply(_this4, args);\n      });\n    };\n\n    if (!lng && this.services.languageDetector) lng = this.services.languageDetector.detect();\n\n    if (lng) {\n      this.language = lng;\n      this.languages = this.services.languageUtils.toResolveHierarchy(lng);\n\n      this.translator.changeLanguage(lng);\n\n      if (this.services.languageDetector) this.services.languageDetector.cacheUserLanguage(lng);\n    }\n\n    this.loadResources(function (err) {\n      done(err);\n    });\n  };\n\n  I18n.prototype.getFixedT = function getFixedT(lng, ns) {\n    var _this5 = this;\n\n    var fixedT = function fixedT(key, options) {\n      options = options || {};\n      options.lng = options.lng || fixedT.lng;\n      options.ns = options.ns || fixedT.ns;\n      return _this5.t(key, options);\n    };\n    fixedT.lng = lng;\n    fixedT.ns = ns;\n    return fixedT;\n  };\n\n  I18n.prototype.t = function t() {\n    return this.translator && this.translator.translate.apply(this.translator, arguments);\n  };\n\n  I18n.prototype.exists = function exists() {\n    return this.translator && this.translator.exists.apply(this.translator, arguments);\n  };\n\n  I18n.prototype.setDefaultNamespace = function setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  };\n\n  I18n.prototype.loadNamespaces = function loadNamespaces(ns, callback) {\n    var _this6 = this;\n\n    if (!this.options.ns) return callback && callback();\n    if (typeof ns === 'string') ns = [ns];\n\n    ns.forEach(function (n) {\n      if (_this6.options.ns.indexOf(n) < 0) _this6.options.ns.push(n);\n    });\n\n    this.loadResources(callback);\n  };\n\n  I18n.prototype.loadLanguages = function loadLanguages(lngs, callback) {\n    if (typeof lngs === 'string') lngs = [lngs];\n    var preloaded = this.options.preload || [];\n\n    var newLngs = lngs.filter(function (lng) {\n      return preloaded.indexOf(lng) < 0;\n    });\n    // Exit early if all given languages are already preloaded\n    if (!newLngs.length) return callback();\n\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(callback);\n  };\n\n  I18n.prototype.dir = function dir(lng) {\n    if (!lng) lng = this.language;\n\n    var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];\n\n    return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';\n  };\n\n  I18n.prototype.createInstance = function createInstance() {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var callback = arguments[1];\n\n    return new I18n(options, callback);\n  };\n\n  I18n.prototype.cloneInstance = function cloneInstance() {\n    var _this7 = this;\n\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var callback = arguments[1];\n\n    var clone = new I18n(_extends({}, options, this.options, { isClone: true }), callback);\n    var membersToCopy = ['store', 'translator', 'services', 'language'];\n    membersToCopy.forEach(function (m) {\n      clone[m] = _this7[m];\n    });\n\n    return clone;\n  };\n\n  return I18n;\n}(_EventEmitter3.default);\n\nexports.default = new I18n();\n},{\"./BackendConnector\":5,\"./CacheConnector\":6,\"./EventEmitter\":7,\"./Interpolator\":8,\"./LanguageUtils\":9,\"./PluralResolver\":10,\"./ResourceStore\":11,\"./Translator\":12,\"./compatibility/v1\":13,\"./defaults\":14,\"./logger\":17,\"./postProcessor\":18}],16:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _i18next = require('./i18next');\n\nvar _i18next2 = _interopRequireDefault(_i18next);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _i18next2.default;\n},{\"./i18next\":15}],17:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar consoleLogger = {\n  type: 'logger',\n\n  log: function log(args) {\n    this._output('log', args);\n  },\n  warn: function warn(args) {\n    this._output('warn', args);\n  },\n  error: function error(args) {\n    this._output('error', args);\n  },\n  _output: function _output(type, args) {\n    if (console && console[type]) console[type].apply(console, Array.prototype.slice.call(args));\n  }\n};\n\nvar Logger = function () {\n  function Logger(concreteLogger) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    _classCallCheck(this, Logger);\n\n    this.subs = [];\n    this.init(concreteLogger, options);\n  }\n\n  Logger.prototype.init = function init(concreteLogger) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug === false ? false : true;\n  };\n\n  Logger.prototype.setDebug = function setDebug(bool) {\n    this.debug = bool;\n    this.subs.forEach(function (sub) {\n      sub.setDebug(bool);\n    });\n  };\n\n  Logger.prototype.log = function log() {\n    this.forward(arguments, 'log', '', true);\n  };\n\n  Logger.prototype.warn = function warn() {\n    this.forward(arguments, 'warn', '', true);\n  };\n\n  Logger.prototype.error = function error() {\n    this.forward(arguments, 'error', '');\n  };\n\n  Logger.prototype.deprecate = function deprecate() {\n    this.forward(arguments, 'warn', 'WARNING DEPRECATED: ', true);\n  };\n\n  Logger.prototype.forward = function forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return;\n    if (typeof args[0] === 'string') args[0] = prefix + this.prefix + ' ' + args[0];\n    this.logger[lvl](args);\n  };\n\n  Logger.prototype.create = function create(moduleName) {\n    var sub = new Logger(this.logger, _extends({ prefix: this.prefix + ':' + moduleName + ':' }, this.options));\n    this.subs.push(sub);\n\n    return sub;\n  };\n\n  // createInstance(options = {}) {\n  //   return new Logger(options, callback);\n  // }\n\n  return Logger;\n}();\n\n;\n\nexports.default = new Logger();\n},{}],18:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n\n  processors: {},\n\n  addPostProcessor: function addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle: function handle(processors, value, key, options, translator) {\n    var _this = this;\n\n    processors.forEach(function (processor) {\n      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);\n    });\n\n    return value;\n  }\n};\n},{}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeString = makeString;\nexports.copy = copy;\nexports.setPath = setPath;\nexports.pushPath = pushPath;\nexports.getPath = getPath;\nexports.deepExtend = deepExtend;\nexports.regexEscape = regexEscape;\nexports.escape = escape;\nfunction makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n}\n\nfunction copy(a, s, t) {\n  a.forEach(function (m) {\n    if (s[m]) t[m] = s[m];\n  });\n}\n\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n\n  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n  while (stack.length > 1) {\n    if (!object) return {};\n\n    var key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n    object = object[key];\n  }\n\n  if (!object) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\n\nfunction setPath(object, path, newValue) {\n  var _getLastOfPath = getLastOfPath(object, path, Object);\n\n  var obj = _getLastOfPath.obj;\n  var k = _getLastOfPath.k;\n\n\n  obj[k] = newValue;\n}\n\nfunction pushPath(object, path, newValue, concat) {\n  var _getLastOfPath2 = getLastOfPath(object, path, Object);\n\n  var obj = _getLastOfPath2.obj;\n  var k = _getLastOfPath2.k;\n\n\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\n\nfunction getPath(object, path) {\n  var _getLastOfPath3 = getLastOfPath(object, path);\n\n  var obj = _getLastOfPath3.obj;\n  var k = _getLastOfPath3.k;\n\n\n  if (!obj) return undefined;\n  return obj[k];\n}\n\nfunction deepExtend(target, source, overwrite) {\n  for (var prop in source) {\n    if (prop in target) {\n      // If we reached a leaf string in target or source then replace with source or skip depending on the 'overwrite' switch\n      if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n        if (overwrite) target[prop] = source[prop];\n      } else {\n        deepExtend(target[prop], source[prop], overwrite);\n      }\n    } else {\n      target[prop] = source[prop];\n    }\n  }return target;\n}\n\nfunction regexEscape(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\n\n/* eslint-disable */\nvar _entityMap = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  \"/\": '&#x2F;'\n};\n/* eslint-enable */\n\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, function (s) {\n      return _entityMap[s];\n    });\n  } else {\n    return data;\n  }\n}\n},{}],20:[function(require,module,exports){\narguments[4][4][0].apply(exports,arguments)\n},{\"./dist/commonjs/index.js\":16,\"dup\":4}]},{},[1]);\n"],"sourceRoot":"/source/"}