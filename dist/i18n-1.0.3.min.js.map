{"version":3,"sources":["i18n-1.0.3.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","i18n","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","i18next","i18next_xhr","i18next_detector","init","detect","viewer","getAttribute","cacheUserLanguage","type","i18next_opts","backend","loadPath","fallbackLng","callback","use","i18next-xhr-backend","2","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","_classCallCheck","instance","Constructor","TypeError","ajax","url","options","data","cache","_typeof","y","encodeURIComponent","m","slice","Date","x","XMLHttpRequest","ActiveXObject","open","crossDomain","setRequestHeader","onreadystatechange","readyState","responseText","send","console","log","getDefaults","addPath","allowMultiLoading","parse","JSON","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","Symbol","iterator","constructor","_utils","utils","Backend","services","arguments","undefined","defaults","languages","namespaces","interpolator","interpolate","lng","join","ns","loadUrl","language","namespace","_this","xhr","status","ret","err","fallbackValue","_this2","payload","forEach","./utils","3","each","source","prop","extend","arr","4","./dist/commonjs/index.js","5","_interopRequireDefault","default","_defaults","keys","getOwnPropertyNames","getOwnPropertyDescriptor","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","remove","what","found","indexOf","splice","_extends","assign","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","next","done","push","Array","isArray","_logger","_logger2","_EventEmitter2","_EventEmitter3","Connector","_EventEmitter","store","logger","state","queue","queueLoad","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","name","hasResourceBundle","loaded","errors","_this3","_name$split","split","_name$split2","emit","addResourceBundle","q","pushPath","filter","read","fcName","tried","wait","_this4","setTimeout","load","_this5","warn","languageUtils","toResolveHierarchy","readMulti","_name$split3","_name$split4","bundle","getPath","_err","error","readOne","_this6","_name$split5","_name$split6","reload","_this7","_err2","_this8","_name$split7","_name$split8","saveMissing","addResource","./EventEmitter","./logger","6","enabled","save","7","EventEmitter","observers","on","events","listener","event","off","index","_len","args","_key","observer","apply","_ref","concat","8","Interpolator","reset","interpolation","escapeValue","iOpts","prefix","regexEscape","prefixEscaped","suffix","suffixEscaped","unescapePrefix","unescapeSuffix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","regexpStr","regexp","RegExp","regexpUnescapeStr","regexpUnescape","nestingRegexpStr","nestingRegexp","str","regexSafe","val","replace","match","exec","_value","trim","lastIndex","makeString","escape","nest","fc","handleHasOptions","p","shift","optionsString","clonedOptions","stringify","applyPostProcessor","9","capitalize","string","charAt","toUpperCase","LanguageUtil","whitelist","getLanguagePartFromCode","specialCases","formatLanguageCode","toLowerCase","lowerCaseLng","map","part","cleanCode","isWhitelisted","exactMatch","nonExplicitWhitelist","fallbackCode","codes","addCode","10","createRules","rules","sets","set","lngs","numbers","nr","plurals","_rulesPluralsTypes","Number","11","12","13","14","15","16","17","18","19","20","21","PluralResolver","addRule","getRule","needsPlural","rule","getSuffix","count","_ret","v","idx","noAbs","Math","abs","returnSuffix","prepend","toString","compatibilityJSON","ResourceStore","defaultNS","addNamespaces","removeNamespaces","getResource","keySeparator","path","silent","setPath","addResources","resources","deep","overwrite","pack","deepExtend","removeResourceBundle","getResourceBundle","compatibilityAPI","toJSON","_postProcessor","_postProcessor2","_v","compat","Translator","copy","changeLanguage","exists","convertTOptions","resolve","extractFromKey","nsSeparator","parts","translate","overloadTranslationOptionHandler","String","_extractFromKey","res","resType","noObject","joinArrays","returnObjects","returnedObjectHandler","extendTranslation","usedDefault","usedKey","isValidLookup","defaultValue","saveMissingTo","missingKeyHandler","backendConnector","appendNamespaceToMissingKey","parseMissingKeyHandler","defaultVariables","postProcess","postProcessorNames","handle","k","_extractFromKey2","fallbackNS","needsPluralHandling","needsContextHandling","context","finalKey","finalKeys","pluralSuffix","pluralResolver","contextSeparator","possibleKey","pop","returnNull","returnEmptyString","resourceStore","./compatibility/v1","./postProcessor","convertInterpolation","interpolationPrefix","interpolationSuffix","escapeInterpolation","reusePrefix","reuseSuffix","convertAPIOptions","resStore","defaultNs","fallbackToDefaultNS","sendMissing","sendMissingTo","fallbackOnNull","fallbackOnEmpty","returnObjectTrees","objectTreeKeyHandler","parseMissingKey","nsseparator","keyseparator","shortcutFunction","values","sprintf","lngWhitelist","preload","resGetPath","resPostPath","dynamicLoad","expirationTime","useLocalStorage","convertJSONOptions","appendBackwardsAPI","deprecate","cb","loadLanguages","setLng","fixLng","getFixedT","addPostProcessor","process","../logger","get","debug","initImmediate","pluralSeparator","transformOptions","_ResourceStore","_ResourceStore2","_Translator","_Translator2","_LanguageUtils","_LanguageUtils2","_PluralResolver","_PluralResolver2","_Interpolator","_Interpolator2","_BackendConnector","_BackendConnector2","_CacheConnector","_CacheConnector2","_defaults2","I18n","modules","isInitialized","createClassOnDemand","ClassOrObject","isClone","lu","cacheConnector","_len2","_key2","languageDetector","detection","translator","_len3","_key3","storeApi","loadResources","append","reloadResources","_len4","_key4","fixedT","setDefaultNamespace","loadNamespaces","preloaded","newLngs","dir","rtlLngs","createInstance","cloneInstance","clone","membersToCopy","./BackendConnector","./CacheConnector","./Interpolator","./LanguageUtils","./PluralResolver","./ResourceStore","./Translator","./defaults","_i18next","_i18next2","./i18next","consoleLogger","_output","Logger","concreteLogger","subs","setDebug","bool","sub","forward","lvl","debugOnly","moduleName","processors","processor","object","getLastOfPath","Empty","cleanKey","stack","newValue","_getLastOfPath","_getLastOfPath2","_getLastOfPath3","_entityMap","&","<",">","\"","'","/","dup"],"mappings":"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","file":"i18n-1.0.3.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.i18n = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar i18next = require('i18next'),\n    i18next_xhr = require('i18next-xhr-backend');\n\nvar i18next_detector = {\n    init: function () {\n    },\n    detect: function () {\n        return viewer.getAttribute('settings/language');\n    },\n    cacheUserLanguage: function () {\n    },\n    type: 'languageDetector'\n};\n\nvar i18next_opts = {\n    backend: {\n        loadPath: 'assets/locales/{{ns}}.{{lng}}.json'\n    },\n    fallbackLng: 'en'\n};\n\nmodule.exports = function (callback) {\n    i18next\n        .use(i18next_xhr)\n        .use(i18next_detector)\n        .init(i18next_opts, callback);\n};\n\n},{\"i18next\":20,\"i18next-xhr-backend\":4}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// https://gist.github.com/Xeoncross/7663273\nfunction ajax(url, options, callback, data, cache) {\n  // Must encode data\n  if (data && (typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n    var y = '',\n        e = encodeURIComponent;\n    for (var m in data) {\n      y += '&' + e(m) + '=' + e(data[m]);\n    }\n    data = y.slice(1) + (!cache ? '&_t=' + new Date() : '');\n  }\n\n  try {\n    var x = new (XMLHttpRequest || ActiveXObject)('MSXML2.XMLHTTP.3.0');\n    x.open(data ? 'POST' : 'GET', url, 1);\n    if (!options.crossDomain) {\n      x.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    }\n    if (data) {\n      x.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n    }\n    x.onreadystatechange = function () {\n      x.readyState > 3 && callback && callback(x.responseText, x);\n    };\n    x.send(data);\n  } catch (e) {\n    window.console && console.log(e);\n  }\n};\n\n// ajax.uriEncode = function(o) {\n//     var x, y = '', e = encodeURIComponent;\n//     for (x in o) y += '&' + e(x) + '=' + e(o[x]);\n//     return y.slice(1);\n// };\n//\n// ajax.collect = (a, f) {\n//     var n = [];\n//     for (var i = 0; i < a.length; i++) {\n//         var v = f(a[i]);\n//         if (v != null) n.push(v);\n//     }\n//     return n;\n// };\n//\n// ajax.serialize = function (f) {\n//     function g(n) {\n//         return f.getElementsByTagName(n);\n//     };\n//     var nv = function (e) {\n//         if (e.name) return encodeURIComponent(e.name) + '=' + encodeURIComponent(e.value);\n//     };\n//     var i = collect(g('input'), function (i) {\n//         if ((i.type != 'radio' && i.type != 'checkbox') || i.checked) return nv(i);\n//     });\n//     var s = collect(g('select'), nv);\n//     var t = collect(g('textarea'), nv);\n//     return i.concat(s).concat(t).join('&');\n// };\n//\n\nfunction getDefaults() {\n  return {\n    loadPath: '/locales/{{lng}}/{{ns}}.json',\n    addPath: 'locales/add/{{lng}}/{{ns}}',\n    allowMultiLoading: false,\n    parse: JSON.parse,\n    crossDomain: false,\n    ajax: ajax\n  };\n}\n\nvar Backend = function () {\n  function Backend(services) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    _classCallCheck(this, Backend);\n\n    this.init(services, options);\n\n    this.type = 'backend';\n  }\n\n  _createClass(Backend, [{\n    key: 'init',\n    value: function init(services) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      this.services = services;\n      this.options = utils.defaults(options, this.options || {}, getDefaults());\n    }\n  }, {\n    key: 'readMulti',\n    value: function readMulti(languages, namespaces, callback) {\n      var url = this.services.interpolator.interpolate(this.options.loadPath, { lng: languages.join('+'), ns: namespaces.join('+') });\n\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: 'read',\n    value: function read(language, namespace, callback) {\n      var url = this.services.interpolator.interpolate(this.options.loadPath, { lng: language, ns: namespace });\n\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: 'loadUrl',\n    value: function loadUrl(url, callback) {\n      var _this = this;\n\n      this.options.ajax(url, this.options, function (data, xhr) {\n        if (xhr.status >= 500 && xhr.status < 600) return callback('failed loading ' + url, true /* retry */);\n        if (xhr.status >= 400 && xhr.status < 500) return callback('failed loading ' + url, false /* no retry */);\n\n        var ret = void 0,\n            err = void 0;\n        try {\n          ret = _this.options.parse(data, url);\n        } catch (e) {\n          err = 'failed parsing ' + url + ' to json';\n        }\n        if (err) return callback(err, false);\n        callback(null, ret);\n      });\n    }\n  }, {\n    key: 'create',\n    value: function create(languages, namespace, key, fallbackValue) {\n      var _this2 = this;\n\n      if (typeof languages === 'string') languages = [languages];\n\n      var payload = {};\n      payload[key] = fallbackValue || '';\n\n      languages.forEach(function (lng) {\n        var url = _this2.services.interpolator.interpolate(_this2.options.addPath, { lng: lng, ns: namespace });\n\n        _this2.options.ajax(url, _this2.options, function (data, xhr) {\n          //const statusCode = xhr.status.toString();\n          // TODO: if statusCode === 4xx do log\n        }, payload);\n      });\n    }\n  }]);\n\n  return Backend;\n}();\n\nBackend.type = 'backend';\n\nexports.default = Backend;\n},{\"./utils\":3}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaults = defaults;\nexports.extend = extend;\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\n\nfunction defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\n\nfunction extend(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\n},{}],4:[function(require,module,exports){\nmodule.exports = require('./dist/commonjs/index.js').default;\n\n},{\"./dist/commonjs/index.js\":2}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _EventEmitter2 = require('./EventEmitter');\n\nvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nfunction remove(arr, what) {\n  var found = arr.indexOf(what);\n\n  while (found !== -1) {\n    arr.splice(found, 1);\n    found = arr.indexOf(what);\n  }\n}\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(backend, store, services) {\n    var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n    _classCallCheck(this, Connector);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.backend = backend;\n    _this.store = store;\n    _this.services = services;\n    _this.options = options;\n    _this.logger = _logger2.default.create('backendConnector');\n\n    _this.state = {};\n    _this.queue = [];\n\n    _this.backend && _this.backend.init && _this.backend.init(services, options.backend, options);\n    return _this;\n  }\n\n  Connector.prototype.queueLoad = function queueLoad(languages, namespaces, callback) {\n    var _this2 = this;\n\n    // find what needs to be loaded\n    var toLoad = [],\n        pending = [],\n        toLoadLanguages = [],\n        toLoadNamespaces = [];\n\n    languages.forEach(function (lng) {\n      var hasAllNamespaces = true;\n\n      namespaces.forEach(function (ns) {\n        var name = lng + '|' + ns;\n\n        if (_this2.store.hasResourceBundle(lng, ns)) {\n          _this2.state[name] = 2; // loaded\n        } else if (_this2.state[name] < 0) {\n            // nothing to do for err\n          } else if (_this2.state[name] === 1) {\n              if (pending.indexOf(name) < 0) pending.push(name);\n            } else {\n              _this2.state[name] = 1; // pending\n\n              hasAllNamespaces = false;\n\n              if (pending.indexOf(name) < 0) pending.push(name);\n              if (toLoad.indexOf(name) < 0) toLoad.push(name);\n              if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);\n            }\n      });\n\n      if (!hasAllNamespaces) toLoadLanguages.push(lng);\n    });\n\n    if (toLoad.length || pending.length) {\n      this.queue.push({\n        pending: pending,\n        loaded: {},\n        errors: [],\n        callback: callback\n      });\n    }\n\n    return {\n      toLoad: toLoad,\n      pending: pending,\n      toLoadLanguages: toLoadLanguages,\n      toLoadNamespaces: toLoadNamespaces\n    };\n  };\n\n  Connector.prototype.loaded = function loaded(name, err, data) {\n    var _this3 = this;\n\n    var _name$split = name.split('|');\n\n    var _name$split2 = _slicedToArray(_name$split, 2);\n\n    var lng = _name$split2[0];\n    var ns = _name$split2[1];\n\n\n    if (err) this.emit('failedLoading', lng, ns, err);\n\n    if (data) {\n      this.store.addResourceBundle(lng, ns, data);\n    }\n\n    // set loaded\n    this.state[name] = err ? -1 : 2;\n    // callback if ready\n    this.queue.forEach(function (q) {\n      utils.pushPath(q.loaded, [lng], ns);\n      remove(q.pending, name);\n\n      if (err) q.errors.push(err);\n\n      if (q.pending.length === 0 && !q.done) {\n        q.errors.length ? q.callback(q.errors) : q.callback();\n        _this3.emit('loaded', q.loaded);\n        q.done = true;\n      }\n    });\n\n    // remove done load requests\n    this.queue = this.queue.filter(function (q) {\n      return !q.done;\n    });\n  };\n\n  Connector.prototype.read = function read(lng, ns, fcName, tried, wait, callback) {\n    var _this4 = this;\n\n    if (!tried) tried = 0;\n    if (!wait) wait = 250;\n\n    if (!lng.length) return callback(null, {}); // noting to load\n\n    this.backend[fcName](lng, ns, function (err, data) {\n      if (err && data /* = retryFlag */ && tried < 5) {\n        setTimeout(function () {\n          _this4.read.call(_this4, lng, ns, fcName, ++tried, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    });\n  };\n\n  Connector.prototype.load = function load(languages, namespaces, callback) {\n    var _this5 = this;\n\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    var options = _extends({}, this.backend.options, this.options.backend);\n\n    if (typeof languages === 'string') languages = this.services.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    var toLoad = this.queueLoad(languages, namespaces, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback(); // nothing to load and no pendings...callback now\n      return; // pendings will trigger callback\n    }\n\n    // load with multi-load\n    if (options.allowMultiLoading && this.backend.readMulti) {\n      this.read(toLoad.toLoadLanguages, toLoad.toLoadNamespaces, 'readMulti', null, null, function (err, data) {\n        if (err) _this5.logger.warn('loading namespaces ' + toLoad.toLoadNamespaces.join(', ') + ' for languages ' + toLoad.toLoadLanguages.join(', ') + ' via multiloading failed', err);\n        if (!err && data) _this5.logger.log('loaded namespaces ' + toLoad.toLoadNamespaces.join(', ') + ' for languages ' + toLoad.toLoadLanguages.join(', ') + ' via multiloading', data);\n\n        toLoad.toLoad.forEach(function (name) {\n          var _name$split3 = name.split('|');\n\n          var _name$split4 = _slicedToArray(_name$split3, 2);\n\n          var l = _name$split4[0];\n          var n = _name$split4[1];\n\n\n          var bundle = utils.getPath(data, [l, n]);\n          if (bundle) {\n            _this5.loaded(name, err, bundle);\n          } else {\n            var _err = 'loading namespace ' + n + ' for language ' + l + ' via multiloading failed';\n            _this5.loaded(name, _err);\n            _this5.logger.error(_err);\n          }\n        });\n      });\n    }\n\n    // load one by one\n    else {\n        (function () {\n          var readOne = function readOne(name) {\n            var _this6 = this;\n\n            var _name$split5 = name.split('|');\n\n            var _name$split6 = _slicedToArray(_name$split5, 2);\n\n            var lng = _name$split6[0];\n            var ns = _name$split6[1];\n\n\n            this.read(lng, ns, 'read', null, null, function (err, data) {\n              if (err) _this6.logger.warn('loading namespace ' + ns + ' for language ' + lng + ' failed', err);\n              if (!err && data) _this6.logger.log('loaded namespace ' + ns + ' for language ' + lng, data);\n\n              _this6.loaded(name, err, data);\n            });\n          };\n\n          ;\n\n          toLoad.toLoad.forEach(function (name) {\n            readOne.call(_this5, name);\n          });\n        })();\n      }\n  };\n\n  Connector.prototype.reload = function reload(languages, namespaces) {\n    var _this7 = this;\n\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n    }\n    var options = _extends({}, this.backend.options, this.options.backend);\n\n    if (typeof languages === 'string') languages = this.services.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    // load with multi-load\n    if (options.allowMultiLoading && this.backend.readMulti) {\n      this.read(languages, namespaces, 'readMulti', null, null, function (err, data) {\n        if (err) _this7.logger.warn('reloading namespaces ' + namespaces.join(', ') + ' for languages ' + languages.join(', ') + ' via multiloading failed', err);\n        if (!err && data) _this7.logger.log('reloaded namespaces ' + namespaces.join(', ') + ' for languages ' + languages.join(', ') + ' via multiloading', data);\n\n        languages.forEach(function (l) {\n          namespaces.forEach(function (n) {\n            var bundle = utils.getPath(data, [l, n]);\n            if (bundle) {\n              _this7.loaded(l + '|' + n, err, bundle);\n            } else {\n              var _err2 = 'reloading namespace ' + n + ' for language ' + l + ' via multiloading failed';\n              _this7.loaded(l + '|' + n, _err2);\n              _this7.logger.error(_err2);\n            }\n          });\n        });\n      });\n    }\n\n    // load one by one\n    else {\n        (function () {\n          var readOne = function readOne(name) {\n            var _this8 = this;\n\n            var _name$split7 = name.split('|');\n\n            var _name$split8 = _slicedToArray(_name$split7, 2);\n\n            var lng = _name$split8[0];\n            var ns = _name$split8[1];\n\n\n            this.read(lng, ns, 'read', null, null, function (err, data) {\n              if (err) _this8.logger.warn('reloading namespace ' + ns + ' for language ' + lng + ' failed', err);\n              if (!err && data) _this8.logger.log('reloaded namespace ' + ns + ' for language ' + lng, data);\n\n              _this8.loaded(name, err, data);\n            });\n          };\n\n          ;\n\n          languages.forEach(function (l) {\n            namespaces.forEach(function (n) {\n              readOne.call(_this7, l + '|' + n);\n            });\n          });\n        })();\n      }\n  };\n\n  Connector.prototype.saveMissing = function saveMissing(languages, namespace, key, fallbackValue) {\n    if (this.backend && this.backend.create) this.backend.create(languages, namespace, key, fallbackValue);\n\n    // write to store to avoid resending\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  };\n\n  return Connector;\n}(_EventEmitter3.default);\n\nexports.default = Connector;\n},{\"./EventEmitter\":7,\"./logger\":17,\"./utils\":19}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _EventEmitter2 = require('./EventEmitter');\n\nvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(cache, store, services) {\n    var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n    _classCallCheck(this, Connector);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.cache = cache;\n    _this.store = store;\n    _this.services = services;\n    _this.options = options;\n    _this.logger = _logger2.default.create('cacheConnector');\n\n    _this.cache && _this.cache.init && _this.cache.init(services, options.cache, options);\n    return _this;\n  }\n\n  Connector.prototype.load = function load(languages, namespaces, callback) {\n    var _this2 = this;\n\n    if (!this.cache) return callback && callback();\n    var options = _extends({}, this.cache.options, this.options.cache);\n\n    if (typeof languages === 'string') languages = this.services.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    if (options.enabled) {\n      this.cache.load(languages, function (err, data) {\n        if (err) _this2.logger.error('loading languages ' + languages.join(', ') + ' from cache failed', err);\n        if (data) {\n          for (var l in data) {\n            for (var n in data[l]) {\n              if (n === 'i18nStamp') continue;\n              var bundle = data[l][n];\n              if (bundle) _this2.store.addResourceBundle(l, n, bundle);\n            }\n          }\n        }\n        if (callback) callback();\n      });\n    } else {\n      if (callback) callback();\n    }\n  };\n\n  Connector.prototype.save = function save() {\n    if (this.cache && this.options.cache && this.options.cache.enabled) this.cache.save(this.store.data);\n  };\n\n  return Connector;\n}(_EventEmitter3.default);\n\nexports.default = Connector;\n},{\"./EventEmitter\":7,\"./logger\":17,\"./utils\":19}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EventEmitter = function () {\n\tfunction EventEmitter() {\n\t\t_classCallCheck(this, EventEmitter);\n\n\t\tthis.observers = {};\n\t}\n\n\tEventEmitter.prototype.on = function on(events, listener) {\n\t\tvar _this = this;\n\n\t\tevents.split(' ').forEach(function (event) {\n\t\t\t_this.observers[event] = _this.observers[event] || [];\n\t\t\t_this.observers[event].push(listener);\n\t\t});\n\t};\n\n\tEventEmitter.prototype.off = function off(event, listener) {\n\t\tvar _this2 = this;\n\n\t\tif (!this.observers[event]) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.observers[event].forEach(function () {\n\t\t\tif (!listener) {\n\t\t\t\tdelete _this2.observers[event];\n\t\t\t} else {\n\t\t\t\tvar index = _this2.observers[event].indexOf(listener);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\t_this2.observers[event].splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tEventEmitter.prototype.emit = function emit(event) {\n\t\tfor (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t\t\targs[_key - 1] = arguments[_key];\n\t\t}\n\n\t\tif (this.observers[event]) {\n\t\t\tthis.observers[event].forEach(function (observer) {\n\t\t\t\tobserver.apply(undefined, args);\n\t\t\t});\n\t\t}\n\n\t\tif (this.observers['*']) {\n\t\t\tthis.observers['*'].forEach(function (observer) {\n\t\t\t\tvar _ref;\n\n\t\t\t\tobserver.apply(observer, (_ref = [event]).concat.apply(_ref, args));\n\t\t\t});\n\t\t}\n\t};\n\n\treturn EventEmitter;\n}();\n\nexports.default = EventEmitter;\n},{}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Interpolator = function () {\n  function Interpolator() {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    _classCallCheck(this, Interpolator);\n\n    this.logger = _logger2.default.create('interpolator');\n\n    this.init(options, true);\n  }\n\n  Interpolator.prototype.init = function init() {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var reset = arguments[1];\n\n    if (reset) this.options = options;\n    if (!options.interpolation) options.interpolation = { escapeValue: true };\n\n    var iOpts = options.interpolation;\n\n    this.escapeValue = iOpts.escapeValue;\n\n    this.prefix = iOpts.prefix ? utils.regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n    this.suffix = iOpts.suffix ? utils.regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n\n    this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n\n    this.nestingPrefix = iOpts.nestingPrefix ? utils.regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || utils.regexEscape('$t(');\n    this.nestingSuffix = iOpts.nestingSuffix ? utils.regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || utils.regexEscape(')');\n\n    // the regexp\n    var regexpStr = this.prefix + '(.+?)' + this.suffix;\n    this.regexp = new RegExp(regexpStr, 'g');\n\n    var regexpUnescapeStr = this.prefix + this.unescapePrefix + '(.+?)' + this.unescapeSuffix + this.suffix;\n    this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n\n    var nestingRegexpStr = this.nestingPrefix + '(.+?)' + this.nestingSuffix;\n    this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n  };\n\n  Interpolator.prototype.reset = function reset() {\n    if (this.options) this.init(this.options);\n  };\n\n  Interpolator.prototype.interpolate = function interpolate(str, data) {\n    var match = void 0,\n        value = void 0;\n\n    function regexSafe(val) {\n      return val.replace(/\\$/g, '$$$$');\n    }\n\n    // unescape if has unescapePrefix/Suffix\n    while (match = this.regexpUnescape.exec(str)) {\n      var _value = utils.getPath(data, match[1].trim());\n      str = str.replace(match[0], _value);\n      this.regexpUnescape.lastIndex = 0;\n    }\n\n    // regular escape on demand\n    while (match = this.regexp.exec(str)) {\n      value = utils.getPath(data, match[1].trim());\n      if (typeof value !== 'string') value = utils.makeString(value);\n      if (!value) {\n        this.logger.warn('missed to pass in variable ' + match[1] + ' for interpolating ' + str);\n        value = '';\n      }\n      value = this.escapeValue ? regexSafe(utils.escape(value)) : regexSafe(value);\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  };\n\n  Interpolator.prototype.nest = function nest(str, fc) {\n    var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n    var match = void 0,\n        value = void 0;\n\n    var clonedOptions = JSON.parse(JSON.stringify(options));\n    clonedOptions.applyPostProcessor = false; // avoid post processing on nested lookup\n\n    function regexSafe(val) {\n      return val.replace(/\\$/g, '$$$$');\n    }\n\n    // if value is something like \"myKey\": \"lorem $(anotherKey, { \"count\": {{aValueInOptions}} })\"\n    function handleHasOptions(key) {\n      if (key.indexOf(',') < 0) return key;\n\n      var p = key.split(',');\n      key = p.shift();\n      var optionsString = p.join(',');\n      optionsString = this.interpolate(optionsString, clonedOptions);\n\n      try {\n        clonedOptions = JSON.parse(optionsString);\n      } catch (e) {\n        this.logger.error('failed parsing options string in nesting for key ' + key, e);\n      }\n\n      return key;\n    }\n\n    // regular escape on demand\n    while (match = this.nestingRegexp.exec(str)) {\n      value = fc(handleHasOptions.call(this, match[1].trim()), clonedOptions);\n      if (typeof value !== 'string') value = utils.makeString(value);\n      if (!value) {\n        this.logger.warn('missed to pass in variable ' + match[1] + ' for interpolating ' + str);\n        value = '';\n      }\n      value = this.escapeValue ? regexSafe(utils.escape(value)) : regexSafe(value);\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  };\n\n  return Interpolator;\n}();\n\nexports.default = Interpolator;\n},{\"./logger\":17,\"./utils\":19}],9:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar LanguageUtil = function () {\n  function LanguageUtil(options) {\n    _classCallCheck(this, LanguageUtil);\n\n    this.options = options;\n\n    this.whitelist = this.options.whitelist || false;\n    this.logger = _logger2.default.create('languageUtils');\n  }\n\n  LanguageUtil.prototype.getLanguagePartFromCode = function getLanguagePartFromCode(code) {\n    if (code.indexOf('-') < 0) return code;\n\n    var specialCases = ['NB-NO', 'NN-NO', 'nb-NO', 'nn-NO', 'nb-no', 'nn-no'];\n    var p = code.split('-');\n    return this.formatLanguageCode(specialCases.indexOf(code) > -1 ? p[1].toLowerCase() : p[0]);\n  };\n\n  LanguageUtil.prototype.formatLanguageCode = function formatLanguageCode(code) {\n    // http://www.iana.org/assignments/language-tags/language-tags.xhtml\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n      var p = code.split('-');\n\n      if (this.options.lowerCaseLng) {\n        p = p.map(function (part) {\n          return part.toLowerCase();\n        });\n      } else if (p.length === 2) {\n        p[0] = p[0].toLowerCase();\n        p[1] = p[1].toUpperCase();\n\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n      } else if (p.length === 3) {\n        p[0] = p[0].toLowerCase();\n\n        // if lenght 2 guess it's a country\n        if (p[1].length === 2) p[1] = p[1].toUpperCase();\n        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n      }\n\n      return p.join('-');\n    } else {\n      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n    }\n  };\n\n  LanguageUtil.prototype.isWhitelisted = function isWhitelisted(code, exactMatch) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitWhitelist && !exactMatch) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.whitelist || !this.whitelist.length || this.whitelist.indexOf(code) > -1 ? true : false;\n  };\n\n  LanguageUtil.prototype.toResolveHierarchy = function toResolveHierarchy(code, fallbackCode) {\n    var _this = this;\n\n    fallbackCode = fallbackCode || this.options.fallbackLng || [];\n    if (typeof fallbackCode === 'string') fallbackCode = [fallbackCode];\n\n    var codes = [];\n    var addCode = function addCode(code) {\n      var exactMatch = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n      if (_this.isWhitelisted(code, exactMatch)) {\n        codes.push(code);\n      } else {\n        _this.logger.warn('rejecting non-whitelisted language code: ' + code);\n      }\n    };\n\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code), true);\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (typeof code === 'string') {\n      addCode(this.formatLanguageCode(code));\n    }\n\n    fallbackCode.forEach(function (fc) {\n      if (codes.indexOf(fc) < 0) addCode(_this.formatLanguageCode(fc));\n    });\n\n    return codes;\n  };\n\n  return LanguageUtil;\n}();\n\n;\n\nexports.default = LanguageUtil;\n},{\"./logger\":17}],10:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// definition http://translate.sourceforge.net/wiki/l10n/pluralforms\n/* eslint-disable */\nvar sets = [{ lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'tg', 'ti', 'tr', 'uz', 'wa'], nr: [1, 2], fc: 1 }, { lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'es_ar', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'he', 'hi', 'hu', 'hy', 'ia', 'it', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt', 'pt_br', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'], nr: [1, 2], fc: 2 }, { lngs: ['ay', 'bo', 'cgg', 'fa', 'id', 'ja', 'jbo', 'ka', 'kk', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'], nr: [1], fc: 3 }, { lngs: ['be', 'bs', 'dz', 'hr', 'ru', 'sr', 'uk'], nr: [1, 2, 5], fc: 4 }, { lngs: ['ar'], nr: [0, 1, 2, 3, 11, 100], fc: 5 }, { lngs: ['cs', 'sk'], nr: [1, 2, 5], fc: 6 }, { lngs: ['csb', 'pl'], nr: [1, 2, 5], fc: 7 }, { lngs: ['cy'], nr: [1, 2, 3, 8], fc: 8 }, { lngs: ['fr'], nr: [1, 2], fc: 9 }, { lngs: ['ga'], nr: [1, 2, 3, 7, 11], fc: 10 }, { lngs: ['gd'], nr: [1, 2, 3, 20], fc: 11 }, { lngs: ['is'], nr: [1, 2], fc: 12 }, { lngs: ['jv'], nr: [0, 1], fc: 13 }, { lngs: ['kw'], nr: [1, 2, 3, 4], fc: 14 }, { lngs: ['lt'], nr: [1, 2, 10], fc: 15 }, { lngs: ['lv'], nr: [1, 2, 0], fc: 16 }, { lngs: ['mk'], nr: [1, 2], fc: 17 }, { lngs: ['mnk'], nr: [0, 1, 2], fc: 18 }, { lngs: ['mt'], nr: [1, 2, 11, 20], fc: 19 }, { lngs: ['or'], nr: [2, 1], fc: 2 }, { lngs: ['ro'], nr: [1, 2, 20], fc: 20 }, { lngs: ['sl'], nr: [5, 1, 2, 3], fc: 21 }];\n\nvar _rulesPluralsTypes = {\n  1: function _(n) {\n    return Number(n > 1);\n  },\n  2: function _(n) {\n    return Number(n != 1);\n  },\n  3: function _(n) {\n    return 0;\n  },\n  4: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function _(n) {\n    return Number(n === 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function _(n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function _(n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function _(n) {\n    return Number(n >= 2);\n  },\n  10: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function _(n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function _(n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function _(n) {\n    return Number(n !== 0);\n  },\n  14: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function _(n) {\n    return Number(n == 1 || n % 10 == 1 ? 0 : 1);\n  },\n  18: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function _(n) {\n    return Number(n == 1 ? 0 : n === 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function _(n) {\n    return Number(n == 1 ? 0 : n === 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function _(n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  }\n};\n/* eslint-enable */\n\nfunction createRules() {\n  var l,\n      rules = {};\n  sets.forEach(function (set) {\n    set.lngs.forEach(function (l) {\n      return rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\n\nvar PluralResolver = function () {\n  function PluralResolver(languageUtils) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    _classCallCheck(this, PluralResolver);\n\n    this.languageUtils = languageUtils;\n    this.options = options;\n\n    this.logger = _logger2.default.create('pluralResolver');\n\n    this.rules = createRules();\n  }\n\n  PluralResolver.prototype.addRule = function addRule(lng, obj) {\n    this.rules[lng] = obj;\n  };\n\n  PluralResolver.prototype.getRule = function getRule(code) {\n    return this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n  };\n\n  PluralResolver.prototype.needsPlural = function needsPlural(code) {\n    var rule = this.getRule(code);\n\n    return rule && rule.numbers.length <= 1 ? false : true;\n  };\n\n  PluralResolver.prototype.getSuffix = function getSuffix(code, count) {\n    var _this = this;\n\n    var rule = this.getRule(code);\n\n    if (rule) {\n      var _ret = function () {\n        if (rule.numbers.length === 1) return {\n            v: ''\n          }; // only singular\n\n        var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n        var suffix = rule.numbers[idx];\n\n        // special treatment for lngs only having singular and plural\n        if (rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          if (suffix === 2) {\n            suffix = 'plural';\n          } else if (suffix === 1) {\n            suffix = '';\n          }\n        }\n\n        var returnSuffix = function returnSuffix() {\n          return _this.options.prepend && suffix.toString() ? _this.options.prepend + suffix.toString() : suffix.toString();\n        };\n\n        // COMPATIBILITY JSON\n        // v1\n        if (_this.options.compatibilityJSON === 'v1') {\n          if (suffix === 1) return {\n              v: ''\n            };\n          if (typeof suffix === 'number') return {\n              v: '_plural_' + suffix.toString()\n            };\n          return {\n            v: returnSuffix()\n          };\n        }\n        // v2\n        else if (_this.options.compatibilityJSON === 'v2' || rule.numbers.length === 2 && rule.numbers[0] === 1) {\n            return {\n              v: returnSuffix()\n            };\n          }\n          // v3 - gettext index\n          else if (rule.numbers.length === 2 && rule.numbers[0] === 1) {\n              return {\n                v: returnSuffix()\n              };\n            }\n        return {\n          v: _this.options.prepend && idx.toString() ? _this.options.prepend + idx.toString() : idx.toString()\n        };\n      }();\n\n      if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n    } else {\n      this.logger.warn('no plural rule found for: ' + code);\n      return '';\n    }\n  };\n\n  return PluralResolver;\n}();\n\n;\n\nexports.default = PluralResolver;\n},{\"./logger\":17}],11:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _EventEmitter2 = require('./EventEmitter');\n\nvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nvar ResourceStore = function (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n\n  function ResourceStore() {\n    var data = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var options = arguments.length <= 1 || arguments[1] === undefined ? { ns: ['translation'], defaultNS: 'translation' } : arguments[1];\n\n    _classCallCheck(this, ResourceStore);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.data = data;\n    _this.options = options;\n    return _this;\n  }\n\n  ResourceStore.prototype.addNamespaces = function addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  };\n\n  ResourceStore.prototype.removeNamespaces = function removeNamespaces(ns) {\n    var index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  };\n\n  ResourceStore.prototype.getResource = function getResource(lng, ns, key) {\n    var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n    var keySeparator = options.keySeparator || this.options.keySeparator;\n    if (keySeparator === undefined) keySeparator = '.';\n\n    var path = [lng, ns];\n    if (key && typeof key !== 'string') path = path.concat(key);\n    if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    }\n\n    return utils.getPath(this.data, path);\n  };\n\n  ResourceStore.prototype.addResource = function addResource(lng, ns, key, value) {\n    var options = arguments.length <= 4 || arguments[4] === undefined ? { silent: false } : arguments[4];\n\n    var keySeparator = this.options.keySeparator;\n    if (keySeparator === undefined) keySeparator = '.';\n\n    var path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n\n    utils.setPath(this.data, path, value);\n\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  };\n\n  ResourceStore.prototype.addResources = function addResources(lng, ns, resources) {\n    for (var m in resources) {\n      if (typeof resources[m] === 'string') this.addResource(lng, ns, m, resources[m], { silent: true });\n    }\n    this.emit('added', lng, ns, resources);\n  };\n\n  ResourceStore.prototype.addResourceBundle = function addResourceBundle(lng, ns, resources, deep, overwrite) {\n    var path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n\n    var pack = utils.getPath(this.data, path) || {};\n\n    if (deep) {\n      utils.deepExtend(pack, resources, overwrite);\n    } else {\n      pack = _extends({}, pack, resources);\n    }\n\n    utils.setPath(this.data, path, pack);\n\n    this.emit('added', lng, ns, resources);\n  };\n\n  ResourceStore.prototype.removeResourceBundle = function removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n\n    this.emit('removed', lng, ns);\n  };\n\n  ResourceStore.prototype.hasResourceBundle = function hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  };\n\n  ResourceStore.prototype.getResourceBundle = function getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n\n    // TODO: COMPATIBILITY remove extend in v2.1.0\n    if (this.options.compatibilityAPI === 'v1') return _extends({}, this.getResource(lng, ns));\n\n    return this.getResource(lng, ns);\n  };\n\n  ResourceStore.prototype.toJSON = function toJSON() {\n    return this.data;\n  };\n\n  return ResourceStore;\n}(_EventEmitter3.default);\n\nexports.default = ResourceStore;\n},{\"./EventEmitter\":7,\"./utils\":19}],12:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _EventEmitter2 = require('./EventEmitter');\n\nvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\nvar _postProcessor = require('./postProcessor');\n\nvar _postProcessor2 = _interopRequireDefault(_postProcessor);\n\nvar _v = require('./compatibility/v1');\n\nvar compat = _interopRequireWildcard(_v);\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nvar Translator = function (_EventEmitter) {\n  _inherits(Translator, _EventEmitter);\n\n  function Translator(services) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    _classCallCheck(this, Translator);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    utils.copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector'], services, _this);\n\n    _this.options = options;\n    _this.logger = _logger2.default.create('translator');\n    return _this;\n  }\n\n  Translator.prototype.changeLanguage = function changeLanguage(lng) {\n    if (lng) this.language = lng;\n  };\n\n  Translator.prototype.exists = function exists(key) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? { interpolation: {} } : arguments[1];\n\n    if (this.options.compatibilityAPI === 'v1') {\n      options = compat.convertTOptions(options);\n    }\n\n    return this.resolve(key, options) !== undefined;\n  };\n\n  Translator.prototype.extractFromKey = function extractFromKey(key, options) {\n    var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n\n    var namespaces = options.ns || this.options.defaultNS;\n    if (nsSeparator && key.indexOf(nsSeparator) > -1) {\n      var parts = key.split(nsSeparator);\n      namespaces = parts[0];\n      key = parts[1];\n    }\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    return {\n      key: key,\n      namespaces: namespaces\n    };\n  };\n\n  Translator.prototype.translate = function translate(keys) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) !== 'object') {\n      options = this.options.overloadTranslationOptionHandler(arguments);\n    } else if (this.options.compatibilityAPI === 'v1') {\n      options = compat.convertTOptions(options);\n    }\n\n    // non valid keys handling\n    if (keys === undefined || keys === null || keys === '') return '';\n    if (typeof keys === 'number') keys = String(keys);\n    if (typeof keys === 'string') keys = [keys];\n\n    // return key on CIMode\n    var lng = options.lng || this.language;\n    if (lng && lng.toLowerCase() === 'cimode') return keys[keys.length - 1];\n\n    // separators\n    var keySeparator = options.keySeparator || this.options.keySeparator || '.';\n\n    // get namespace(s)\n\n    var _extractFromKey = this.extractFromKey(keys[keys.length - 1], options);\n\n    var key = _extractFromKey.key;\n    var namespaces = _extractFromKey.namespaces;\n\n    var namespace = namespaces[namespaces.length - 1];\n\n    // resolve from store\n    var res = this.resolve(keys, options);\n\n    var resType = Object.prototype.toString.apply(res);\n    var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n\n    // object\n    if (res && typeof res !== 'string' && noObject.indexOf(resType) < 0 && !(joinArrays && resType === '[object Array]')) {\n      if (!options.returnObjects && !this.options.returnObjects) {\n        this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        return this.options.returnedObjectHandler ? this.options.returnedObjectHandler(key, res, options) : 'key \\'' + key + ' (' + this.language + ')\\' returned an object instead of string.';\n      }\n\n      var copy = resType === '[object Array]' ? [] : {}; // apply child translation on a copy\n\n      for (var m in res) {\n        copy[m] = this.translate('' + key + keySeparator + m, _extends({ joinArrays: false, ns: namespaces }, options));\n      }\n      res = copy;\n    }\n    // array special treatment\n    else if (joinArrays && resType === '[object Array]') {\n        res = res.join(joinArrays);\n        if (res) res = this.extendTranslation(res, key, options);\n      }\n      // string, empty or null\n      else {\n          var usedDefault = false,\n              usedKey = false;\n\n          // fallback value\n          if (!this.isValidLookup(res) && options.defaultValue !== undefined) {\n            usedDefault = true;\n            res = options.defaultValue;\n          }\n          if (!this.isValidLookup(res)) {\n            usedKey = true;\n            res = key;\n          }\n\n          // save missing\n          if (usedKey || usedDefault) {\n            this.logger.log('missingKey', lng, namespace, key, res);\n\n            var lngs = [];\n            if (this.options.saveMissingTo === 'fallback' && this.options.fallbackLng && this.options.fallbackLng[0]) {\n              for (var i = 0; i < this.options.fallbackLng.length; i++) {\n                lngs.push(this.options.fallbackLng[i]);\n              }\n            } else if (this.options.saveMissingTo === 'all') {\n              lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n            } else {\n              //(this.options.saveMissingTo === 'current' || (this.options.saveMissingTo === 'fallback' && this.options.fallbackLng[0] === false) ) {\n              lngs.push(options.lng || this.language);\n            }\n\n            if (this.options.saveMissing) {\n              if (this.options.missingKeyHandler) {\n                this.options.missingKeyHandler(lngs, namespace, key, res);\n              } else if (this.backendConnector && this.backendConnector.saveMissing) {\n                this.backendConnector.saveMissing(lngs, namespace, key, res);\n              }\n            }\n\n            this.emit('missingKey', lngs, namespace, key, res);\n          }\n\n          // extend\n          res = this.extendTranslation(res, key, options);\n\n          // append namespace if still key\n          if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = namespace + ':' + key;\n\n          // parseMissingKeyHandler\n          if (usedKey && this.options.parseMissingKeyHandler) res = this.options.parseMissingKeyHandler(res);\n        }\n\n    // return\n    return res;\n  };\n\n  Translator.prototype.extendTranslation = function extendTranslation(res, key, options) {\n    var _this2 = this;\n\n    if (options.interpolation) this.interpolator.init(options);\n\n    // interpolate\n    var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n    if (this.options.interpolation.defaultVariables) data = _extends({}, this.options.interpolation.defaultVariables, data);\n    res = this.interpolator.interpolate(res, data);\n\n    // nesting\n    res = this.interpolator.nest(res, function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _this2.translate.apply(_this2, args);\n    }, options);\n\n    if (options.interpolation) this.interpolator.reset();\n\n    // post process\n    var postProcess = options.postProcess || this.options.postProcess;\n    var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n\n    if (res !== undefined && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n      res = _postProcessor2.default.handle(postProcessorNames, res, key, options, this);\n    }\n\n    return res;\n  };\n\n  Translator.prototype.resolve = function resolve(keys) {\n    var _this3 = this;\n\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var found = void 0;\n\n    if (typeof keys === 'string') keys = [keys];\n\n    // forEach possible key\n    keys.forEach(function (k) {\n      if (_this3.isValidLookup(found)) return;\n\n      var _extractFromKey2 = _this3.extractFromKey(k, options);\n\n      var key = _extractFromKey2.key;\n      var namespaces = _extractFromKey2.namespaces;\n\n      if (_this3.options.fallbackNS) namespaces = namespaces.concat(_this3.options.fallbackNS);\n\n      var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      var needsContextHandling = options.context !== undefined && typeof options.context === 'string' && options.context !== '';\n\n      var codes = options.lngs ? options.lngs : _this3.languageUtils.toResolveHierarchy(options.lng || _this3.language);\n\n      namespaces.forEach(function (ns) {\n        if (_this3.isValidLookup(found)) return;\n\n        codes.forEach(function (code) {\n          if (_this3.isValidLookup(found)) return;\n\n          var finalKey = key;\n          var finalKeys = [finalKey];\n\n          var pluralSuffix = void 0;\n          if (needsPluralHandling) pluralSuffix = _this3.pluralResolver.getSuffix(code, options.count);\n\n          // fallback for plural if context not found\n          if (needsPluralHandling && needsContextHandling) finalKeys.push(finalKey + pluralSuffix);\n\n          // get key for context if needed\n          if (needsContextHandling) finalKeys.push(finalKey += '' + _this3.options.contextSeparator + options.context);\n\n          // get key for plural if needed\n          if (needsPluralHandling) finalKeys.push(finalKey += pluralSuffix);\n\n          // iterate over finalKeys starting with most specific pluralkey (-> contextkey only) -> singularkey only\n          var possibleKey = void 0;\n          while (possibleKey = finalKeys.pop()) {\n            if (_this3.isValidLookup(found)) continue;\n            found = _this3.getResource(code, ns, possibleKey, options);\n          }\n        });\n      });\n    });\n\n    return found;\n  };\n\n  Translator.prototype.isValidLookup = function isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  };\n\n  Translator.prototype.getResource = function getResource(code, ns, key) {\n    var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n    return this.resourceStore.getResource(code, ns, key, options);\n  };\n\n  return Translator;\n}(_EventEmitter3.default);\n\nexports.default = Translator;\n},{\"./EventEmitter\":7,\"./compatibility/v1\":13,\"./logger\":17,\"./postProcessor\":18,\"./utils\":19}],13:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertAPIOptions = convertAPIOptions;\nexports.convertJSONOptions = convertJSONOptions;\nexports.convertTOptions = convertTOptions;\nexports.appendBackwardsAPI = appendBackwardsAPI;\n\nvar _logger = require('../logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction convertInterpolation(options) {\n\n  options.interpolation = {\n    unescapeSuffix: 'HTML'\n  };\n\n  options.interpolation.prefix = options.interpolationPrefix || '__';\n  options.interpolation.suffix = options.interpolationSuffix || '__';\n  options.interpolation.escapeValue = options.escapeInterpolation || false;\n\n  options.interpolation.nestingPrefix = options.reusePrefix || '$t(';\n  options.interpolation.nestingSuffix = options.reuseSuffix || ')';\n\n  return options;\n}\n\nfunction convertAPIOptions(options) {\n  if (options.resStore) options.resources = options.resStore;\n\n  if (options.ns && options.ns.defaultNs) {\n    options.defaultNS = options.ns.defaultNs;\n    options.ns = options.ns.namespaces;\n  } else {\n    options.defaultNS = options.ns || 'translation';\n  }\n\n  if (options.fallbackToDefaultNS && options.defaultNS) options.fallbackNS = options.defaultNS;\n\n  options.saveMissing = options.sendMissing;\n  options.saveMissingTo = options.sendMissingTo || 'current';\n  options.returnNull = options.fallbackOnNull ? false : true;\n  options.returnEmptyString = options.fallbackOnEmpty ? false : true;\n  options.returnObjects = options.returnObjectTrees;\n  options.joinArrays = '\\n';\n\n  options.returnedObjectHandler = options.objectTreeKeyHandler;\n  options.parseMissingKeyHandler = options.parseMissingKey;\n  options.appendNamespaceToMissingKey = true;\n\n  options.nsSeparator = options.nsseparator;\n  options.keySeparator = options.keyseparator;\n\n  if (options.shortcutFunction === 'sprintf') {\n    options.overloadTranslationOptionHandler = function (args) {\n      var values = [];\n\n      for (var i = 1; i < args.length; i++) {\n        values.push(args[i]);\n      }\n\n      return {\n        postProcess: 'sprintf',\n        sprintf: values\n      };\n    };\n  }\n\n  options.whitelist = options.lngWhitelist;\n  options.preload = options.preload;\n  if (options.load === 'current') options.load = 'currentOnly';\n  if (options.load === 'unspecific') options.load = 'languageOnly';\n\n  // backend\n  options.backend = options.backend || {};\n  options.backend.loadPath = options.resGetPath || 'locales/__lng__/__ns__.json';\n  options.backend.addPath = options.resPostPath || 'locales/add/__lng__/__ns__';\n  options.backend.allowMultiLoading = options.dynamicLoad;\n\n  // cache\n  options.cache = options.cache || {};\n  options.cache.prefix = 'res_';\n  options.cache.expirationTime = 7 * 24 * 60 * 60 * 1000;\n  options.cache.enabled = options.useLocalStorage ? true : false;\n\n  options = convertInterpolation(options);\n  if (options.defaultVariables) options.interpolation.defaultVariables = options.defaultVariables;\n\n  // TODO: deprecation\n  // if (options.getAsync === false) throw deprecation error\n\n  return options;\n}\n\nfunction convertJSONOptions(options) {\n  options = convertInterpolation(options);\n  options.joinArrays = '\\n';\n\n  return options;\n}\n\nfunction convertTOptions(options) {\n  if (options.interpolationPrefix || options.interpolationSuffix || options.escapeInterpolation) {\n    options = convertInterpolation(options);\n  }\n\n  options.nsSeparator = options.nsseparator;\n  options.keySeparator = options.keyseparator;\n\n  options.returnObjects = options.returnObjectTrees;\n\n  return options;\n}\n\nfunction appendBackwardsAPI(i18n) {\n  i18n.lng = function () {\n    _logger2.default.deprecate('i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup.');\n    return i18n.services.languageUtils.toResolveHierarchy(i18n.language)[0];\n  };\n\n  i18n.preload = function (lngs, cb) {\n    _logger2.default.deprecate('i18next.preload() can be replaced with i18next.loadLanguages()');\n    i18n.loadLanguages(lngs, cb);\n  };\n\n  i18n.setLng = function (lng, options, callback) {\n    _logger2.default.deprecate('i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace.');\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!options) options = {};\n\n    if (options.fixLng === true) {\n      if (callback) return callback(null, i18n.getFixedT(lng));\n    }\n\n    i18n.changeLanguage(lng, callback);\n  };\n\n  i18n.addPostProcessor = function (name, fc) {\n    _logger2.default.deprecate('i18next.addPostProcessor() can be replaced by i18next.use({ type: \\'postProcessor\\', name: \\'name\\', process: fc })');\n    i18n.use({\n      type: 'postProcessor',\n      name: name,\n      process: fc\n    });\n  };\n}\n},{\"../logger\":17}],14:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get = get;\nexports.transformOptions = transformOptions;\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false, // string or array of namespaces\n\n    whitelist: false, // array with whitelisted languages\n    nonExplicitWhitelist: false,\n    load: 'all', // | currentOnly | languageOnly\n    preload: false, // array with preload languages\n\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n\n    saveMissing: false, // enable to send missing values\n    saveMissingTo: 'fallback', // 'current' || 'all'\n    missingKeyHandler: false, // function(lng, ns, key, fallbackValue) -> override if prefer on handling\n\n    postProcess: false, // string or array of postProcessor names\n    returnNull: true, // allows null value as valid translation\n    returnEmptyString: true, // allows empty string value as valid translation\n    returnObjects: false,\n    joinArrays: false, // or string to join array\n    returnedObjectHandler: function returnedObjectHandler() {}, // function(key, value, options) triggered if key returns object but returnObjects is set to false\n    parseMissingKeyHandler: false, // function(key) parsed a key that was not found in t() before returning\n    appendNamespaceToMissingKey: false,\n    overloadTranslationOptionHandler: function overloadTranslationOptionHandler(args) {\n      return { defaultValue: args[1] };\n    },\n\n    interpolation: {\n      escapeValue: true,\n      prefix: '{{',\n      suffix: '}}',\n      // prefixEscaped: '{{',\n      // suffixEscaped: '}}',\n      // unescapeSuffix: '',\n      unescapePrefix: '-',\n\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      // nestingPrefixEscaped: '$t(',\n      // nestingSuffixEscaped: ')',\n      defaultVariables: undefined // object that can have values to interpolate on - extends passed in interpolation data\n    }\n  };\n}\n\nfunction transformOptions(options) {\n  // create namespace object if namespace is passed in as string\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n\n  // extend whitelist with cimode\n  if (options.whitelist && options.whitelist.indexOf('cimode') < 0) options.whitelist.push('cimode');\n\n  return options;\n}\n},{}],15:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _EventEmitter2 = require('./EventEmitter');\n\nvar _EventEmitter3 = _interopRequireDefault(_EventEmitter2);\n\nvar _ResourceStore = require('./ResourceStore');\n\nvar _ResourceStore2 = _interopRequireDefault(_ResourceStore);\n\nvar _Translator = require('./Translator');\n\nvar _Translator2 = _interopRequireDefault(_Translator);\n\nvar _LanguageUtils = require('./LanguageUtils');\n\nvar _LanguageUtils2 = _interopRequireDefault(_LanguageUtils);\n\nvar _PluralResolver = require('./PluralResolver');\n\nvar _PluralResolver2 = _interopRequireDefault(_PluralResolver);\n\nvar _Interpolator = require('./Interpolator');\n\nvar _Interpolator2 = _interopRequireDefault(_Interpolator);\n\nvar _BackendConnector = require('./BackendConnector');\n\nvar _BackendConnector2 = _interopRequireDefault(_BackendConnector);\n\nvar _CacheConnector = require('./CacheConnector');\n\nvar _CacheConnector2 = _interopRequireDefault(_CacheConnector);\n\nvar _defaults2 = require('./defaults');\n\nvar _postProcessor = require('./postProcessor');\n\nvar _postProcessor2 = _interopRequireDefault(_postProcessor);\n\nvar _v = require('./compatibility/v1');\n\nvar compat = _interopRequireWildcard(_v);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\nvar I18n = function (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n\n  function I18n() {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var callback = arguments[1];\n\n    _classCallCheck(this, I18n);\n\n    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.options = (0, _defaults2.transformOptions)(options);\n    _this.services = {};\n    _this.logger = _logger2.default;\n    _this.modules = {};\n\n    if (callback && !_this.isInitialized) _this.init(options, callback);\n    return _this;\n  }\n\n  I18n.prototype.init = function init(options, callback) {\n    var _this2 = this;\n\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!options) options = {};\n\n    if (options.compatibilityAPI === 'v1') {\n      this.options = _extends({}, (0, _defaults2.get)(), (0, _defaults2.transformOptions)(compat.convertAPIOptions(options)), {});\n    } else if (options.compatibilityJSON === 'v1') {\n      this.options = _extends({}, (0, _defaults2.get)(), (0, _defaults2.transformOptions)(compat.convertJSONOptions(options)), {});\n    } else {\n      this.options = _extends({}, (0, _defaults2.get)(), this.options, (0, _defaults2.transformOptions)(options));\n    }\n    if (!callback) callback = function callback() {};\n\n    function createClassOnDemand(ClassOrObject) {\n      if (!ClassOrObject) return;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    }\n\n    // init services\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        _logger2.default.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        _logger2.default.init(null, this.options);\n      }\n\n      var lu = new _LanguageUtils2.default(this.options);\n      this.store = new _ResourceStore2.default(this.options.resources, this.options);\n\n      var s = this.services;\n      s.logger = _logger2.default;\n      s.resourceStore = this.store;\n      s.resourceStore.on('added removed', function (lng, ns) {\n        s.cacheConnector.save();\n      });\n      s.languageUtils = lu;\n      s.pluralResolver = new _PluralResolver2.default(lu, { prepend: this.options.pluralSeparator, compatibilityJSON: this.options.compatibilityJSON });\n      s.interpolator = new _Interpolator2.default(this.options);\n\n      s.backendConnector = new _BackendConnector2.default(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      // pipe events from backendConnector\n      s.backendConnector.on('*', function (event) {\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        _this2.emit.apply(_this2, [event].concat(args));\n      });\n\n      s.backendConnector.on('loaded', function (loaded) {\n        s.cacheConnector.save();\n      });\n\n      s.cacheConnector = new _CacheConnector2.default(createClassOnDemand(this.modules.cache), s.resourceStore, s, this.options);\n      // pipe events from backendConnector\n      s.cacheConnector.on('*', function (event) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n\n        _this2.emit.apply(_this2, [event].concat(args));\n      });\n\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        s.languageDetector.init(s, this.options.detection, this.options);\n      }\n\n      this.translator = new _Translator2.default(this.services, this.options);\n      // pipe events from translator\n      this.translator.on('*', function (event) {\n        for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n          args[_key3 - 1] = arguments[_key3];\n        }\n\n        _this2.emit.apply(_this2, [event].concat(args));\n      });\n    }\n\n    // append api\n    var storeApi = ['getResource', 'addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle', 'hasResourceBundle', 'getResourceBundle'];\n    storeApi.forEach(function (fcName) {\n      _this2[fcName] = function () {\n        return this.store[fcName].apply(this.store, arguments);\n      };\n    });\n\n    // TODO: COMPATIBILITY remove this\n    if (this.options.compatibilityAPI === 'v1') compat.appendBackwardsAPI(this);\n\n    var load = function load() {\n      _this2.changeLanguage(_this2.options.lng, function (err, t) {\n        _this2.emit('initialized', _this2.options);\n        _this2.logger.log('initialized', _this2.options);\n\n        callback(err, t);\n      });\n    };\n\n    if (this.options.resources || !this.options.initImmediate) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n\n    return this;\n  };\n\n  I18n.prototype.loadResources = function loadResources(callback) {\n    var _this3 = this;\n\n    if (!callback) callback = function callback() {};\n\n    if (!this.options.resources) {\n      var _ret = function () {\n        if (_this3.language && _this3.language.toLowerCase() === 'cimode') return {\n            v: callback()\n          }; // avoid loading resources for cimode\n\n        var toLoad = [];\n\n        var append = function append(lng) {\n          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n          lngs.forEach(function (l) {\n            if (toLoad.indexOf(l) < 0) toLoad.push(l);\n          });\n        };\n\n        append(_this3.language);\n\n        if (_this3.options.preload) {\n          _this3.options.preload.forEach(function (l) {\n            append(l);\n          });\n        }\n\n        _this3.services.cacheConnector.load(toLoad, _this3.options.ns, function () {\n          _this3.services.backendConnector.load(toLoad, _this3.options.ns, callback);\n        });\n      }();\n\n      if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n    } else {\n      callback(null);\n    }\n  };\n\n  I18n.prototype.reloadResources = function reloadResources(lngs, ns) {\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    this.services.backendConnector.reload(lngs, ns);\n  };\n\n  I18n.prototype.use = function use(module) {\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n\n    if (module.type === 'cache') {\n      this.modules.cache = module;\n    }\n\n    if (module.type === 'logger' || module.log && module.warn && module.warn) {\n      this.modules.logger = module;\n    }\n\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n\n    if (module.type === 'postProcessor') {\n      _postProcessor2.default.addPostProcessor(module);\n    }\n\n    return this;\n  };\n\n  I18n.prototype.changeLanguage = function changeLanguage(lng, callback) {\n    var _this4 = this;\n\n    var done = function done(err) {\n      if (lng) {\n        _this4.emit('languageChanged', lng);\n        _this4.logger.log('languageChanged', lng);\n      }\n\n      if (callback) callback(err, function () {\n        for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n          args[_key4] = arguments[_key4];\n        }\n\n        return _this4.t.apply(_this4, args);\n      });\n    };\n\n    if (!lng && this.services.languageDetector) lng = this.services.languageDetector.detect();\n\n    if (lng) {\n      this.language = lng;\n      this.languages = this.services.languageUtils.toResolveHierarchy(lng);\n\n      this.translator.changeLanguage(lng);\n\n      if (this.services.languageDetector) this.services.languageDetector.cacheUserLanguage(lng);\n    }\n\n    this.loadResources(function (err) {\n      done(err);\n    });\n  };\n\n  I18n.prototype.getFixedT = function getFixedT(lng, ns) {\n    var _this5 = this;\n\n    var fixedT = function fixedT(key, options) {\n      options = options || {};\n      options.lng = options.lng || fixedT.lng;\n      options.ns = options.ns || fixedT.ns;\n      return _this5.t(key, options);\n    };\n    fixedT.lng = lng;\n    fixedT.ns = ns;\n    return fixedT;\n  };\n\n  I18n.prototype.t = function t() {\n    return this.translator && this.translator.translate.apply(this.translator, arguments);\n  };\n\n  I18n.prototype.exists = function exists() {\n    return this.translator && this.translator.exists.apply(this.translator, arguments);\n  };\n\n  I18n.prototype.setDefaultNamespace = function setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  };\n\n  I18n.prototype.loadNamespaces = function loadNamespaces(ns, callback) {\n    var _this6 = this;\n\n    if (!this.options.ns) return callback && callback();\n    if (typeof ns === 'string') ns = [ns];\n\n    ns.forEach(function (n) {\n      if (_this6.options.ns.indexOf(n) < 0) _this6.options.ns.push(n);\n    });\n\n    this.loadResources(callback);\n  };\n\n  I18n.prototype.loadLanguages = function loadLanguages(lngs, callback) {\n    if (typeof lngs === 'string') lngs = [lngs];\n    var preloaded = this.options.preload || [];\n\n    var newLngs = lngs.filter(function (lng) {\n      return preloaded.indexOf(lng) < 0;\n    });\n    // Exit early if all given languages are already preloaded\n    if (!newLngs.length) return callback();\n\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(callback);\n  };\n\n  I18n.prototype.dir = function dir(lng) {\n    if (!lng) lng = this.language;\n\n    var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];\n\n    return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';\n  };\n\n  I18n.prototype.createInstance = function createInstance() {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var callback = arguments[1];\n\n    return new I18n(options, callback);\n  };\n\n  I18n.prototype.cloneInstance = function cloneInstance() {\n    var _this7 = this;\n\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var callback = arguments[1];\n\n    var clone = new I18n(_extends({}, options, this.options, { isClone: true }), callback);\n    var membersToCopy = ['store', 'translator', 'services', 'language'];\n    membersToCopy.forEach(function (m) {\n      clone[m] = _this7[m];\n    });\n\n    return clone;\n  };\n\n  return I18n;\n}(_EventEmitter3.default);\n\nexports.default = new I18n();\n},{\"./BackendConnector\":5,\"./CacheConnector\":6,\"./EventEmitter\":7,\"./Interpolator\":8,\"./LanguageUtils\":9,\"./PluralResolver\":10,\"./ResourceStore\":11,\"./Translator\":12,\"./compatibility/v1\":13,\"./defaults\":14,\"./logger\":17,\"./postProcessor\":18}],16:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _i18next = require('./i18next');\n\nvar _i18next2 = _interopRequireDefault(_i18next);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _i18next2.default;\n},{\"./i18next\":15}],17:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar consoleLogger = {\n  type: 'logger',\n\n  log: function log(args) {\n    this._output('log', args);\n  },\n  warn: function warn(args) {\n    this._output('warn', args);\n  },\n  error: function error(args) {\n    this._output('error', args);\n  },\n  _output: function _output(type, args) {\n    if (console && console[type]) console[type].apply(console, Array.prototype.slice.call(args));\n  }\n};\n\nvar Logger = function () {\n  function Logger(concreteLogger) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    _classCallCheck(this, Logger);\n\n    this.subs = [];\n    this.init(concreteLogger, options);\n  }\n\n  Logger.prototype.init = function init(concreteLogger) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug === false ? false : true;\n  };\n\n  Logger.prototype.setDebug = function setDebug(bool) {\n    this.debug = bool;\n    this.subs.forEach(function (sub) {\n      sub.setDebug(bool);\n    });\n  };\n\n  Logger.prototype.log = function log() {\n    this.forward(arguments, 'log', '', true);\n  };\n\n  Logger.prototype.warn = function warn() {\n    this.forward(arguments, 'warn', '', true);\n  };\n\n  Logger.prototype.error = function error() {\n    this.forward(arguments, 'error', '');\n  };\n\n  Logger.prototype.deprecate = function deprecate() {\n    this.forward(arguments, 'warn', 'WARNING DEPRECATED: ', true);\n  };\n\n  Logger.prototype.forward = function forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return;\n    if (typeof args[0] === 'string') args[0] = prefix + this.prefix + ' ' + args[0];\n    this.logger[lvl](args);\n  };\n\n  Logger.prototype.create = function create(moduleName) {\n    var sub = new Logger(this.logger, _extends({ prefix: this.prefix + ':' + moduleName + ':' }, this.options));\n    this.subs.push(sub);\n\n    return sub;\n  };\n\n  // createInstance(options = {}) {\n  //   return new Logger(options, callback);\n  // }\n\n  return Logger;\n}();\n\n;\n\nexports.default = new Logger();\n},{}],18:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n\n  processors: {},\n\n  addPostProcessor: function addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle: function handle(processors, value, key, options, translator) {\n    var _this = this;\n\n    processors.forEach(function (processor) {\n      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);\n    });\n\n    return value;\n  }\n};\n},{}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeString = makeString;\nexports.copy = copy;\nexports.setPath = setPath;\nexports.pushPath = pushPath;\nexports.getPath = getPath;\nexports.deepExtend = deepExtend;\nexports.regexEscape = regexEscape;\nexports.escape = escape;\nfunction makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n}\n\nfunction copy(a, s, t) {\n  a.forEach(function (m) {\n    if (s[m]) t[m] = s[m];\n  });\n}\n\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n\n  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n  while (stack.length > 1) {\n    if (!object) return {};\n\n    var key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n    object = object[key];\n  }\n\n  if (!object) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\n\nfunction setPath(object, path, newValue) {\n  var _getLastOfPath = getLastOfPath(object, path, Object);\n\n  var obj = _getLastOfPath.obj;\n  var k = _getLastOfPath.k;\n\n\n  obj[k] = newValue;\n}\n\nfunction pushPath(object, path, newValue, concat) {\n  var _getLastOfPath2 = getLastOfPath(object, path, Object);\n\n  var obj = _getLastOfPath2.obj;\n  var k = _getLastOfPath2.k;\n\n\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\n\nfunction getPath(object, path) {\n  var _getLastOfPath3 = getLastOfPath(object, path);\n\n  var obj = _getLastOfPath3.obj;\n  var k = _getLastOfPath3.k;\n\n\n  if (!obj) return undefined;\n  return obj[k];\n}\n\nfunction deepExtend(target, source, overwrite) {\n  for (var prop in source) {\n    if (prop in target) {\n      // If we reached a leaf string in target or source then replace with source or skip depending on the 'overwrite' switch\n      if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n        if (overwrite) target[prop] = source[prop];\n      } else {\n        deepExtend(target[prop], source[prop], overwrite);\n      }\n    } else {\n      target[prop] = source[prop];\n    }\n  }return target;\n}\n\nfunction regexEscape(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\n\n/* eslint-disable */\nvar _entityMap = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  \"/\": '&#x2F;'\n};\n/* eslint-enable */\n\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, function (s) {\n      return _entityMap[s];\n    });\n  } else {\n    return data;\n  }\n}\n},{}],20:[function(require,module,exports){\narguments[4][4][0].apply(exports,arguments)\n},{\"./dist/commonjs/index.js\":16,\"dup\":4}]},{},[1])(1)\n});"],"sourceRoot":"/source/"}